<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Zones and Containers FAQ (Community Group zones.faq) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+zones/faq" />
                    <link rel="canonical" href="/bin/view/Community+Group+zones/faq" />
                            <meta name="document" content="Community Group zones.faq"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group zones"/>
    <meta name="page" content="faq"/>
    <meta name="version" content="79.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+zones/pages/faq"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Zones and Containers FAQ" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="pcotten" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/fullScreen.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group zones";
XWiki.currentPage = "faq";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+zones/faq";
window.docediturl = "/bin/edit/Community+Group+zones/faq";
window.docsaveurl = "/bin/save/Community+Group+zones/faq";
window.docgeturl = "/bin/get/Community+Group+zones/faq";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/viewers/code.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/fullScreen.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_zones viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Bzones%2Ffaq%3Fviewer%3Dcode%26%2338%3Blanguage%3Den"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+zones/"><strong>Community Group zones</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+zones" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                  <span class='current'>Zones and Containers FAQ</span>
          </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+zones/faq?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
        <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+zones/faq?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+zones/faq?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+zones/faq?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+zones/faq?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+zones/faq?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+zones/faq?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+zones/faq?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+zones/faq?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+zones/faq?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+zones/faq?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      


<div id="document-title"><h1>Wiki source code of <a href="/bin/view/Community+Group+zones/faq">Zones and Containers FAQ</a></h1></div>
                <div id="document-info">
    <div>
                      <span id="contentshortcut"><a href="/bin/view/Community+Group+zones/faq?viewer=content">Content</a></span>
          </div>
    <div class="clearfloats"></div>
  </div>







<div>
  <a href="/bin/view/Community+Group+zones/faq?viewer=code&amp;showlinenumbers=0&amp;language=en" id="toggleLineNumbers">Hide line numbers</a>
                                        <textarea readonly="readonly" class="wiki-code" rows="25" cols="80">
   1: = Zones and Containers FAQ =
   2: 
   3: //Last Updated: April 2010
   4: Maintained by Jeff Victor, Penny Cotten, et al.
   5: Dozens of contributors//
   6: 
   7: This page is a list of Questions, some Frequently Asked, some Not So. It also includes Frequently Requested Web Links. It is intended for use by anyone interested in learning more about Oracle Solaris Zones and Oracle Solaris Containers.
   8: 
   9: If you would like to provide feedback on this FAQ, please send it to zones-discuss AT opensolaris DOT org.
  10: 
  11: A date appearing after an answer provides the most recent date the answer has been updated. Answers with old dates, or no date at all, might not provide the most recent information. All answers without dates were current on June 14, 2005.
  12: 
  13: ===== Topics in this FAQ =====
  14: 
  15: {{toc start=&quot;3&quot; depth=&quot;3&quot; numbered=&quot;false&quot; scope=&quot;page&quot;/}}
  16: 
  17: == Questions: ==
  18: 
  19: {{toc start=&quot;3&quot; depth=&quot;4&quot; numbered=&quot;false&quot; scope=&quot;page&quot;/}}
  20: 
  21: == Answers: ==
  22: 
  23: === Section 1: Basics ===
  24: 
  25: ==== //**Q:** What is a zone?// ====
  26: 
  27: **A:** A zone is a virtual operating system abstraction that provides a protected environment in which applications run. The applications are protected from each other to provide software fault isolation. To ease the labor of managing multiple applications and their environments, they co-exist within one operating system instance, and are usually managed as one entity.
  28: 
  29: The original operating environment, before any zones are created, is also called the &quot;global zone&quot; to distinguish it from non-global zones, The global zone is the operating system instance.
  30: 
  31: ==== //**Q:** What is a container?// ====
  32: 
  33: **A:** A native, default zone on the Oracle Solaris 10 OS is called a container. The other containers that run on Oracle Solaris 10 include Oracle Solaris 8 Containers and Oracle Solaris 9 Containers. Many people use the terms &quot;zone&quot; and &quot;container&quot; interchangeably.
  34: 
  35: ==== //**Q:** What types of zones are available?// ====
  36: 
  37: **A:** It is possible to create non-global zones that run the same OS as the global zone, which is the OS running on the system. It is also possible to create a non-global zone that runs a different operating environment from the global zone. The branded zone (BrandZ) framework extends the zones infrastructure to include the creation of brands that contain alternative sets of runtime behaviors. The following types of non-global zones are available:
  38: 
  39: * **native**:
  40: A default Oracle Solaris Container non-global zone is called a native zone. It has the same characteristics as the Oracle Solaris 10 Operating System release that is running in the global zone.
  41: If you have configured your system with Oracle Solaris Trusted Extensions, each non-global zone is associated with a level of security, or label. Labeled zones can be configured starting with the Oracle Solaris 10 11/06 release. For more information, see [[ Solaris Trusted Extensions Installation and Configuration&gt;&gt;http://docs.sun.com/doc/819-0867/]].
  42: * **ipkg**: 
  43: The ipkg non-global zone is the default non-global zone on the OpenSolaris release. It has the same characteristics as the release that is running in the global zone. Each ipkg zone manages its own software packages.
  44: * **Branded zones that run an environment different that the OS release on the system**  
  45: ** The lx branded zone introduced in the Solaris 10 8/07 release provides a Linux environment for your applications and runs on x86 and x64 machines on the Oracle Solaris 10 OS. For more information, visit the [[ OpenSolaris Community: BrandZ&gt;&gt;Community Group brandz.WebHome]].
  46: ** The solaris8 and solaris9 branded zones enable you to migrate an Oracle Solaris 8 or Oracle Solaris 9 system to an Oracle Solaris 8 or Oracle Solaris 9 Container on a host running the Oracle Solaris 10 8/07 Operating System or later Oracle Solaris 10 release. A solaris8 branded zone is an environment for Oracle Solaris 8 applications on SPARC machines. A solaris9 branded zone is an environment for Oracle Solaris 9 applications on SPARC machines. Now named Oracle Solaris 8 Containers and Oracle Solaris 9 Containers, these products were introduced through a product called the Solaris 8 Migration Assistant 1.0, on October 22, 2007. For more information, see [[ System Administration Guide:  Solaris 8 Containers&gt;&gt;http://docs.sun.com/doc/820-2914/]] and [[ System Administration Guide:  Solaris 9 Containers&gt;&gt;http://docs.sun.com/doc/820-4490/]]. To download, go to [[ Solaris Containers. [May 2008] &gt;&gt;http://www.sun.com/software/solaris/containers/]]
  47: ** The Oracle Solaris 10 Container brand is available in OpenSolaris build 127. These branded zones host Oracle Solaris 10 user environments. [August 2010]
  48: 
  49: ==== //**Q:** What is a global zone? Sparse-root zone? Whole-root zone? Local zone?// ====
  50: 
  51: **A:** After installing Oracle Solaris 10 on a system, but before creating any zones, all processes run in the global zone. After you create a zone, it has processes that are associated with that zone and no other zone. Any process created by a process in a non-global zone is also associated with that non-global zone.
  52: 
  53: Any zone which is not the global zone is called a non-global zone. Most people call non-global zones simply &quot;zones.&quot; Some people call them &quot;local zones&quot; but this is discouraged.
  54: 
  55: The default native zone file system model on Oracle Solaris 10 is called &quot;sparse-root.&quot; This model emphasizes efficiency and security at the cost of some configuration flexibility. Sparse-root zones optimize physical memory and disk space usage by sharing some directories, like /usr and /lib. Sparse-root zones have their own private file areas for directories like /etc and /var. Whole-root zones increase configuration flexibility but increase resource usage. They do not use shared file systems for /usr, /lib, and a few others.
  56: There is no supported way to convert an existing sparse-root zone to a whole-root zone. Creating a new zone is required. [August 2010]
  57: 
  58: ==== //**Q:** Can I create a zone which shares (&quot;inherits&quot;) some, but not all of /usr, /lib, /platform, /sbin?// ====
  59: 
  60: **A:** The original design of Solaris Containers assumes that those four directories are either all shared (&quot;inherited&quot;) or all not shared. Sharing some and not others will lead to undefined and/or unpredictable behavior. [August 2010]
  61: 
  62: ==== //**Q:** How do I get zones or containers?// ====
  63: 
  64: **A:** Oracle Solaris 10 includes all of the programs and files needed to use zones (and Containers). Operating systems based on the OpenSolaris code base, including OpenSolaris 2009.06, may elect to include support for zones. [August 2010]
  65: 
  66: ==== //**Q:** What hardware can utilize zones or containers?// ====
  67: 
  68: **A:** Zones and resource management are all software features of Oracle Solaris and other operating systems based on the OpenSolaris code base. As software features, they do not depend upon any specific hardware platform. Any hardware that runs a Solaris distro (Oracle Solaris 10, OpenSolaris, or another) will be able to have these features.
  69: 
  70: ==== //**Q:** Will my software run in a zone or container?// ====
  71: 
  72: **A:** Most Oracle Solaris software will run unmodified in a zone, without needing to re-compile. Unprivileged software (programs that do not run as root nor with specific non-default privileges) typically run unmodified in a zone once they can be successfully installed. Installation software must not assume that it can write into shared, read-only file systems, e.g. /usr. This can be circumvented by adding a writable file system to the zone (e.g. at /usr/local) or using a whole-root zone.
  73: However, there are a few applications which need non-default privileges to run - privileges not normally available in a zone, such as the ability to set the system?s time-of-day clock. For these situations, the feature named &quot;configurable privileges&quot; has been added. This feature allows the global zone administrator - the person who manages zones on a system - to assign additional, non-default privileges to a zone. The zone?s administrator can then allow individual users to use those non-default privileges.
  74: An application that requires privileges that cannot be added to a zone might need modification to run properly in a zone.
  75: Here are some guidelines:
  76: 
  77: * An application that accesses the network and files, and performs no other I/O, should work correctly.
  78: * Applications that require direct access to certain devices, e.g., a disk partition, will usually work if the zone is configured correctly. However, in some cases this may increase security risks.
  79: * Applications which require **direct** access to these devices must run in the global zone, or must be modified to work correctly:
  80: ** /dev/kmem
  81: ** a network device
  82: **1. Starting with OpenSolaris build 37 and Oracle Solaris 10 8/07, a default zone can be configured as an &quot;exclusive-IP zone&quot; which gives it exclusive access to the NIC(s) that the zone has been assigned. Applications in such a zone can communicate directly with the NIC(s) available to the zone.
  83: **1. Applications running in shared-IP zones should instead use one of the many IP services.
  84: 
  85: For more details, read the white paper &quot;[[Bringing Your Application Into the Zone&gt;&gt;http://developers.sun.com/solaris/articles/application_in_zone.html]]&quot;. Note that changes have been made to privileges, IP types, and other areas used with zones since this paper was published. For current information, also see the [[administration guide&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450]]. //[November 2007]//
  86: 
  87: ==== //**Q:** How can I test my software for use in a container?// ====
  88: 
  89: **A:** See the document [[Qualification Best Practices for Application Support in Non-Global Zones.&quot;&gt;&gt;http://developers.sun.com/solaris/articles/zone_app_qualif.html]] [//March 2006//]
  90: 
  91: ==== //**Q:** What applications are certified to run in zones or containers?// ====
  92: 
  93: **A:** Supportability of an application running in a container is evaluated by the ISV. Some software vendors treat zones as just another feature set of Oracle Solaris, and do not feel a need to specifically certify their software to use zones. Others have specifically certified their software to use zones. Applications that have been reported to be officially supported include those in the following list. For more details see the section &quot;[[Application-specific Information&gt;&gt;#app]]&quot;
  94: 
  95: * [[BEA WebLogic Server 8.1 SP4&gt;&gt;http://e-docs.bea.com/platform/suppconfigs/configs81/solaris10_sparc/81sp4.html]]
  96: * [[Veritas Storage Foundation 5.0 (MP3)&gt;&gt;http://seer.entsupport.symantec.com/docs/285063.htm]]
  97: * [[Oracle's pricing policy regarding containers&gt;&gt;http://www.oracle.com/corporate/pricing/partitioning.pdf]]
  98: * [[Veritas NetBackup 5.0 (MP4) and 5.1 (MP2)&gt;&gt;http://seer.support.veritas.com/docs/275107.htm]]
  99: * [[Sun N1 Grid Engine 6 (Update 4)&gt;&gt;http://www.sun.com/software/gridware]]
 100: * CA Ingres
 101: * IBM DB2 8.2
 102: * IBM Websphere
 103: * Oracle TimesTen
 104: * Oracle Ebusiness Suite 11
 105: * SAP R/3
 106: * Veritas VCS - see &quot;[[ Implementing Solaris? Zones with Veritas? Cluster Server by Symantec&gt;&gt;http://eval.symantec.com/mktginfo/enterprise/white_papers/ent-whitepaper_implementing_solaris_zones_06-2007.en-us.pdf]]&quot;
 107: 
 108: ==== //**Q:** How can I use the Solaris Explorer program to collect information on my zone(s)?// ====
 109: 
 110: **A:** Explorer 5.0 can be run on Oracle Solaris 10 in a global zone. It can be used to collect information on containers (non-global zones) with the -w option.
 111: 
 112: ==== //**Q:** What changes have happened to zones since it was first released?// ====
 113: 
 114: **A:** See the OpenSolaris [[ project page&gt;&gt;Community Group zones.zones_design_docs]] for changes made since the initial release. [September 2006]
 115: 
 116: ==== //**Q:** What features are new in Oracle Solaris 10 10/09?// ====
 117: 
 118: **A:** New features include the following:
 119: 
 120: * Support has been added for zones parallel patching to reduce patching time, a fast
 121: patching solution that utilizes the patchadd utility. For releases prior to Oracle Solaris 10 10/09, the patch is delivered in the patch utilities patch, 119254-66 or later revision (SPARC) and 119255-66 or later revision (x86). 
 122: 
 123: * For a zone that cannot be halted, as of the Oracle Solaris 10 10/09 release, you can migrate a zone that has not been detached by using the zoneadm attach -F option to force the attach without a validation. The target system must be properly configured to host the zone. An incorrect configuration could result in undefined behavior. Moreover, there is no way to know the state of the files within the zone.
 124: 
 125: 
 126: [Oct 2008]
 127: 
 128: [[Back to Top&gt;&gt;faq]]
 129: 
 130: === Section 2: Configuration (non-I/O) ===
 131: 
 132: ==== //**Q:** How &quot;big&quot; is a zone?// ====
 133: 
 134:  A: If configured with default parameters, a zone requires about 100MB of free disk space per zone when the global zone has been installed with the &quot;All&quot; metacluster of Oracle Solaris 10 packages. Additional packages installed in the global zone will require additional space in the non-global zones. ZFS quotas or SVM soft partitions can be used to enforce per-zone disk space constraints. When performing capacity planning, 100MB of additional RAM per zone is suggested (in addition to the needs of its workload). An application does not use any &quot;extra&quot; RAM because it is running in a zone.
 135:  A zone installed using the &quot;full-root model&quot; will take up as much space as the initial Oracle Solaris 10 installation, which will be more than 500MB in most cases. [August 2010]
 136: 
 137: ==== //**Q:** How many containers can one copy of Solaris have?// ====
 138: 
 139:  A: While the theoretical limit is over 8,000, the practical limit depends on:
 140: 
 141: * The amount of hardware resources used by the applications versus the amount available in the system. This includes the number and processing power of CPUs, memory size, NICs, HBAs, etc.
 142: * What portion of the installed zones are actually in use. For example, you can create 100 zones, each ready to offer a web service, but only boot the 10 that you need this month. The unbooted zones [[take up disk space&gt;&gt;#cfg_sizing]], but do not cause the use of any extra CPU power, RAM, or I/O. [August 2010]
 143: 
 144:  Consider these examples which worked:
 145: 
 146: * 40 zones, each running five copies of the Apache web service, on an E250 with two 300MHz CPUs, 512MB RAM, and three hard disk drives totalling 40GB. With all zones running and a load consisting of multiple simultaneous HTTP requests to each zone, the overhead of using zones was so small it wasn&rsquo;t measurable (&lt;5%).
 147: 
 148: ==== //**Q:** Can each zone run a different Solaris version?// ====
 149: 
 150:  A: All of the zones use a single underlying kernel. The version of the kernel determines the version of every container in that domain. However, the Oracle Solaris 8 Containers and Oracle Solaris 9 Containers products provide the appropriate system calls so that binaries compiled for Oracle Solaris 8 or Oracle Solaris 9 work correctly. [August 2010]
 151: 
 152: ==== //**Q:** What types of re-configurations require a non-global zone re-boot?//
 153:  A: ====
 154: 
 155: * Adding a device to a non-global zone.
 156: * Binding a zone to a pool.
 157: * Modifying a zone's privilege set.
 158: [August 2010]
 159: 
 160: ==== //**Q:** What types of re-configurations require a complete system re-boot?// ====
 161: 
 162:  A: We are not aware of any. [August 2010]
 163: 
 164: ==== //**Q:** Can containers be clustered?// ====
 165: 
 166:  A: Yes, but not without adding additional cluster management software. As of this writing, Sun is developing extensions to its Sun Cluster software, so that Resource Groups can be placed within non-global zones. &lt;Veritas/Symantec&gt; has also announced support for Zones in the Veritas Cluster product.
 167: 
 168: ==== //**Q:** Can I use SysV shared memory between containers?// ====
 169: 
 170:  A: No, this is prohibited. This would violate several security principles. [August 2010]
 171: 
 172: ==== //**Q:** Can a zone include multiple zones (aka &quot;is the containment model hierarchical&quot;)?// ====
 173: 
 174:  A: No, the model is strictly two-level: one global zone and zero or more non-global zones. Only the global zone can create non-global zones, and each non-global zone must be contained within the global zone. [August 2010]
 175: 
 176: ==== //**Q:** Can I automate the process of entering system information, e.g. with sysidcfg?// ====
 177: 
 178:  A: Yes, after a zone has been installed, copy a sysidcfg(4) file to the zone&rsquo;s /etc/sysidcfg before the first boot of that zone.
 179: [August 2010]
 180: 
 181: ==== //**Q:** Can some local zones be in different time zones?// ====
 182: 
 183:  A: Yes. Each non-global zone has its own copy of /etc/default/init, which contains the timezone setting. You can change the line starting with &quot;TZ=&quot;. The recognized names of timezones are in /usr/share/lib/zoneinfo. For example, Eastern Standard Time in the USA is defined in the file /usr/share/lib/zoneinfo/US/Eastern. To set a non-global zone&rsquo;s timezone to that timezone, the line in /etc/default/init would look like this:
 184: **TZ=US/Eastern** 
 185: [August 2010]
 186: 
 187: ==== //**Q:** Can some non-global zones have different date and/or time settings (i.e. different clocks)?// ====
 188: 
 189:  A: Although different zones can &rsquo;be&rsquo; in different time zones, each zone gets its date and time clock from the same source. This means that the time zone setting gets applied after the current time data is obtained from the kernel.
 190:  If you would like the ability to have different clock sources per zone, please add a call record to RFE 5033497. [August 2010]
 191: 
 192: ==== //**Q:** Can I label my terminal windows with the name of the zone I&rsquo;m logged into?// ====
 193: 
 194:  A: Yes. After logging into the zone, enter this command:
 195: 
 196: {{{
 197: 
 198: zone% /bin/echo &quot;\033]0;Zone `/bin/zonename`\007\c&quot;
 199: 
 200: }}}
 201: 
 202: //[August 2010]//
 203: 
 204: [[Back to Top&gt;&gt;faq]] 
 205: 
 206: === Section 2B: I/O Configuration ===
 207: 
 208: ==== //**Q:** How can I learn more about using zones with IPMP or iSCS?// ====
 209: 
 210:  A:See [[Jeff&rsquo;s Blog&gt;&gt;http://blogs.sun.com/JeffV]] for step-by-step instructions. //[May 2008]//
 211: 
 212: ==== //**Q:** How can I add a file system to an existing zone?// ====
 213: 
 214:  A: There are four methods. The following list uses UFS examples, but other types of file systems, such as ZFS, HSFS and VxFS, can be used in the zonecfg &quot;fs&quot; resource type property or attached by mount(1M).
 215: 
 216: 1. Create and mount the file system in the global zone and use LOFS to mount it into the non-global zone (very safe)
 217: 1. Create the file system in the global zone and use zonecfg to mount the file system into the zone as a UFS file system (very safe)
 218: 1. Export the device associated with the disk partition to the non-global zone, create the file system in the non-global zone and mount it. Security consideration: If a _block_ device is present in the zone, a malicious user could create a corrupt file system image on that device, and mount a file system. This might cause the system to panic. The problem is less acute with raw (character) devices. Disk devices should only be placed into a zone that is part of a relatively trusted infrastructure.
 219: 1. Mount a UFS file system directly into the non-global zone&rsquo;s directory structure (allows dynamic modifications to the mount without rebooting the non-global zone)
 220: 
 221:  See the [[administration guide&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592/]] for instructions to use these methods. [September 2006]
 222: 
 223: ==== //**Q:** How can I make a writable /usr/local in a sparse-root zone?// ====
 224: 
 225:  A: Use one of the methods above, for example:
 226: 
 227: {{{
 228: 
 229: global# mkdir -p /path/to/some/storage/local/twilight
 230: global# zonecfg -z twilight
 231: zonecfg:twilight&gt; add fs
 232: zonecfg:twilight:fs&gt; set dir=/usr/local
 233: zonecfg:twilight:fs&gt; set special=/path/to/some/storage/local/twilight
 234: zonecfg:twilight:fs&gt; set type=lofs
 235: zonecfg:twilight:fs&gt; end
 236: zonecfg:twilight&gt; commit
 237: zonecfg:twilight&gt; exit
 238: global# 
 239: 
 240: }}}
 241: 
 242: [August 2010]
 243: 
 244: ==== //**Q:** Can I assign a ZFS volume (zvol), an SVM meta-device, or a Veritas Volume, to a non-global zone?// ====
 245: 
 246:  A: With Solaris 10 1/06, you can directly assign an SVM meta-device into a non-global zone, using the same method you would with most other devices. However, see the answer to the next question.
 247:  Symantec supports the assignment of a Veritas Volume into a non-global zone. For more information, see [[this guide&gt;&gt;http://sfdoccentral.symantec.com/sf/5.0MP3/solaris/html/vxvm_admin/apbs07.htm]]. //[June 2009]//
 248: 
 249: ==== //**Q:** Can I, and should I, import raw devices into a non-global zone?// ====
 250: 
 251:  A: The Solaris Zones feature set provides the global zone administrator with the ability to allow a non-global zone to access a raw device. There are many situations where this will be the best approach to solve a problem. There are even situations which require such use.
 252: 
 253:  First, however, it is important to stress that there are usually other solutions that do not require direct device access. Let&rsquo;s discuss this first.
 254: 
 255:  With regard to importing VxVM devices into a zone: this is possible with VxVM 5.0MP3 and up. For earlier versions, your options depend on the goal. If the goal is to make a file system available in the zone, the solution is to create the file system in the global zone, and LOFS or direct mount the file system in the zone. On the other hand, if the goal is to make a mirrored block device available in the zone, the only solution is to upgrade to VxVM 5.0MP3 or higher.
 256: 
 257:  If you want to make a file system available in the zone, create the file system in the global zone, and use LOFS to make the file system available in the zone. On the other hand, if the goal is to make a mirrored block device available in the zone, another solution must be found.
 258: 
 259:  In any situation, if direct device access is required within a zone, you must perform careful failure analysis and evaluation of the possible outcomes of &quot;catastrophic application failure. If the non-global zone will use COTS software, and will be managed by trustworthy people, then the risks will be small. Fortunately, in most cases there are also other solutions which do not use direct device access from a zone.
 260: 
 261:  Here are two extreme examples:
 262: 
 263: 1. A zone will be created for the purpose of training students on basic Unix commands. The root account will only be used by the global zone administrator. The system will be attached to a LAN which is not connected to any other networks. The instructor needs access to the sound device. There are very few risks associated with such access - it would be very difficult for the sound device to suffer a failure, and even if it did it would be unlikely to affect other zones.
 264:  The zone can be given access to this via the zonecfg sub-commands:
 265: 
 266: {{{
 267: global# zonecfg -z zonename
 268: zonecfg:zonename&gt; add device
 269: zonecfg:zonename:device&gt; set match=/dev/sound/*
 270: zonecfg:zonename:device&gt; end
 271: zonecfg:zonename&gt; exit
 272: }}}
 273: 
 274:  The zone will have access to sound devices, but will not have access to any other devices.
 275: 2. A zone will be created for the purpose of teaching students about a database program that requires access to raw disk partitions. The instructor knows how to use Unix, but does not have a background in Unix system administration. Further, the instructor will require use of the root account to assist students. It is possible that the instructor could make a mistake, or a malicious student could abuse the raw disk access, leading to a crash of the kernel. This would also stop all of the other non-global zones, as well as the global zone. If the other zones are running production software, this request for raw disk access in a zone should not be fulfilled. Other solutions should be pursued, such as creating an RBAC role for the instructor which only gives the necessary privileges to the isntructor&rsquo;s Unix account.
 276: 
 277:  Other examples must be judged by their particulars, e.g. a production database program which needs raw access. Factors to consider include:
 278: 
 279: * Who will login to the zone? How trustworthy are they?
 280: * Is this system protected from unauthorized access by a firewall?
 281: * What level of availability is required by applications running in this zone and in other zones?
 282: 
 283:  For more information on this topic, see the section &quot;SECURITY AND DATA INTEGRITY&quot; of the man page for sgen(7d).
 284: [August 2010]
 285: 
 286: ==== //**Q:** Can I share an I/O resource (e.g. NIC, HBA) between containers?// ====
 287: 
 288:  A: Yes, in fact, that is the default model. Each container is assigned its own IP address, but usually multiple containers will share one NIC. Further, multiple zones may be assigned separate file systems accessed through one HBA. [August 2010]
 289: 
 290: ==== //**Q:** Can zones in one computer communicate via the network?// ====
 291: 
 292:  A: Both shared-IP and exclusive-IP zones can communicate via the network. In general, a zone is assigned to use one or more network ports (aka NICs), and network traffic to or from other computers uses the assigned NIC(s), following standard IP rules.
 293:  Network traffic between two zones on the same system may require extra planning. If a zone is an &quot;exclusive-IP&quot; zone, its network packets will always leave the computer, and inbound packets will always come from outside the computer. Further, an exclusive-IP zone performs all of its own network configuration, including routing and IP filtering.
 294:  Before Solaris 10 10/08, network traffic between two //shared-IP// zones always stayed in the computer, i.e. it didn&rsquo;t traverse the physical network. This provided very high bandwidth, low latency transmission. However, starting with Solaris 10 10/08, traffic between two shared-IP zones stays in the computer //unless// a default router is used for one or both zones. Traffic from a zone with a default router will go out to the router before coming back to the destination zone. For more information on default routers for zones, see the [[documentation&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592/z.conf.start-85?l=en&amp;a=view&amp;q=default+router]] and [[Steffen&rsquo;s blog&gt;&gt;http://blogs.sun.com/stw/entry/using_zonecfg_defrouter_with_shared]].
 295:  Full IP-level functionality is available in an exclusive-IP zone. Exclusive-IP zones always communicate with each other over the physical network. That communication can be restriced using IP Filter from within such zones, just as it can for a separate system.
 296: 
 297:  For shared-IP zones in one computer that communicate using IP networking,the following applies:
 298: 
 299: * Inter-zone network latency is extremely small, and bandwidth is extremely large
 300: * Solaris IP Filter can be enabled in non-global zones by turning on loopback filtering as described in [[System Administration Guide: IP Services&gt;&gt;http://docs.sun.com/app/docs/doc/816-4554/6maoq024k?l=en&amp;a=view]]. Filter rules are still configured in the global zone.
 301: 
 302:  It is possible to configure routing to [[block traffic between specific zones completely&gt;&gt;#cfg_net_reject]].
 303:  For more information on IP types, see the [[System Administration Guide: Solaris Containers-Resource Management and Solaris Zones&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450]].
 304:  
 305: Further, OpenSolaris 2009.06 added the features &quot;virtual NICs&quot; and &quot;virtual switches&quot; - part of &quot;[[Project Crossbow&gt;&gt;??]].&quot; They allow you to configure an entire internetwork in a system, using VNICs, vSwitches, and zones that are configured as routers. [August 2010]
 306: 
 307: ==== //**Q:** How do I modify the network configuration of a running zone?// ====
 308: 
 309:  A: For shared-IP zones, the ifconfig(1M) command can be used in the global zone to modify that zone&rsquo;s existing network configuration or to add new logical interfaces to a zone. Here are some examples that add, and then delete a logical interface assigned to a zone:
 310: 
 311: {{{
 312: 
 313: global# ifconfig bge0 addif  192.168.200.202 zone myzone
 314: global# ifconfig bge0 removeif 192.168.200.202
 315: 
 316: }}}
 317: 
 318:  [August 2010]
 319: 
 320: ==== //**Q:** Can IP Multipathing (IPMP) be used with zones?// ====
 321: 
 322:  A: Yes.
 323: Exclusive-IP zones can use IPMP. IPMP is configured the same way in an exclusive-IP zone as it is on a system not using zones.
 324:  For shared-IP zones, [[IPMP&gt;&gt;http://docs.sun.com/app/docs/doc/816-4554/]] can be configured in the global zone. Failover of a network link (e.g. hme0) that is protected by IPMP will bring the associated logical interfaces (e.g. hme0:3) for the zones over to the secondary link (e.g. bge0).
 325:  For more information, see the section &quot;Using IP Network Multipathing on a Solaris System With Zones Installed&quot; in [[System Administration Guide: Solaris Containers-Resource Management and Solaris Zones&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/zone?a=view]].
 326:  Take extra care with IPMP and the defrouter setting. See [[this blog entry.&gt;&gt;http://blogs.sun.com/stw/entry/using_zonecfg_defrouter_with_shared]] [August 2010]
 327: 
 328: ==== //**Q:** Can IP Filter be used with zones?// ====
 329: 
 330:  A: Yes. The global zone can configure IP Filter rules for shared-IP zones. An exclusive-IP zone can configure IP Filter rules for itself.
 331: 
 332:  For shared-IP zones, the [[IPFilter&gt;&gt;http://docs.sun.com/app/docs/doc/816-4554/6maoq020k?q=%22IP+filter%22#hic]] features in Solaris 10 can be used to filter traffic passing between one non-global zone and other computers on the network. This includes the ability to use NAT features, i.e., redirect traffic destined for the global zone to non-global zones.
 333:  [August 2010]
 334: 
 335: ==== //**Q:** Can I prevent a zone from using the network?// ====
 336: 
 337:  A: Yes. A zone does not need a network interface in order to operate. If you don&rsquo;t specify a network interface when you create the zone, it will still boot correctly. If an existing zone has been given access to a network interface, you can use zonecfg(1M) to remove that access, but if the zone is running you must also either re-boot the zone or use ifconfig(1M) to remove access until the next re-boot.
 338:  It is also possible to allow a shared-IP zone to access the network, but not communicate with other zones on the same system. One method is to set up a pair of routes using the &quot;-reject&quot; argument to the route(1) command. For example, if one zone has an IP address of &lt;Addr1&gt; and the second zone has an address of &lt;Addr2&gt;, then the following commands will prevent network traffic from passing between the two zones. [August 2010]
 339: 
 340: {{{
 341: 
 342: global# route add &lt;Addr1&gt; &lt;Addr2&gt; -interface -reject
 343: global# route add &lt;Addr2&gt; &lt;Addr1&gt; -interface -reject
 344: 
 345: }}}
 346: 
 347: ==== //**Q:** Are VLANs supported in zones?// ====
 348: 
 349:  A: Yes. For a shared-IP zone, the VLAN interface must be plumbed in the global zone. LAN and VLAN separation are available in an exclusive-IP non-global zone.
 350: 
 351: ==== //**Q:** How do I configure a default route in a container?// ====
 352: 
 353:  A: For a shared-IP configuration: All routes, including default routes, must be configured by the global zone administrator. By default, such zones use the global zone&rsquo;s default router. Starting with Solaris 10 10/08, each shared-IP zone can be assigned its own default router with the &quot;defrouter&quot; setting in zonecfg. For more information on default routers for zones, see the [[documentation&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592/z.conf.start-85?l=en&amp;a=view&amp;q=default+router]] and [[Steffen&rsquo;s blog&gt;&gt;http://blogs.sun.com/stw/entry/using_zonecfg_defrouter_with_shared]].
 354: For an exclusive-IP configuration: The zone administrator can configure IP on those data-links with the same flexibility and options as in the global zone.
 355:  [August 2010]
 356: 
 357: ==== //**Q:** How can I restrict a zone (or a few zones) to one NIC (network connector)?// ====
 358: 
 359:  A: The global zone administrator configures each zone&rsquo;s access to zero or more NICs. A shared-IP zone can be the only zone using a NIC.
 360:  Exclusive-IP zones have more separation which reaches down to the data-link layer. One or more data-link names, which can be a NIC or a VLAN on a NIC, are assigned to an exclusive-IP zone by the global administrator. The zone administrator can configure IP on those data-links with the same options as in the global zone. [August 2010]
 361: 
 362: ==== //**Q:** When I tried to mount a file system into a non-global zone, an error message displayed stating that the mount point was busy. Why?// ====
 363: 
 364:  A: All accesses to entries in lofs mounted file systems map to their underlying file system. Therefore, if a mount point is made available in multiple locations via lofs and it is in use in any of those locations (as a mount point, a current working directory, etc.), an attempt to mount a file system at that mount point will fail unless the overlay flag has been specified. [November 2007]
 365: 
 366: ==== //**Q:** How can I mount a file system into two or more different zones safely?// ====
 367: 
 368:  A: Create a directory in the global zone, and remount it into each non-global zone using lofs. This will allow reading and writing from both zones without corrupting. It&rsquo;s the same mechanism used by the automounter in certain cases.
 369: 
 370: ==== //**Q:** How can I create a zone with its own /usr or root file system (a &rsquo;whole root file system&rsquo;)?// ====
 371: 
 372:  A: By default a zone shares /usr and a few other directories with the global zone. If a zone needs its own separate copy of /usr, et al., you must tell zonecfg to not use the default configuration. To do this, use the &quot;-b&quot; option on the &quot;create&quot; sub-command of the zonecfg(2) command.
 373:  If you do this, you must specify each existing file system that you do want to share with this new zone. [August 2010]
 374: 
 375: ==== //**Q:** How can I restrict a zone (or a few zones) to one HBA (storage connector)?// ====
 376: 
 377:  Each zone uses space in at least one disk partition - its root directory and several others (e.g. /etc) live there. All of these files are part of Solaris. In addition, each zone can be given access to one or more file systems and/or one or more raw disks. By planning carefully, you can configure one zone so that all of its files and devices are accessible through one HBA, and all of the storage of another zone is accessible through a different HBA. [August 2010]
 378: 
 379: ==== //**Q:** Can a non-global zone NFS-mount a file system that has been shared from its own global zone?// ====
 380: 
 381:  A: No. This may be addressed in the future. However, the shared file system can also be LOFS-mounted into the local zone, and, if necessary, the global zone can export the same file system via NFS so that other computers can also access those files. [August 2010]
 382: 
 383: ==== //**Q:** Can a zone&rsquo;s root directory be on a ZFS file system?// ====
 384: 
 385:  A: Solaris 10 release:
 386:  Placing a zone&rsquo;s root directory (i.e. its PATHNAME) on ZFS is supported starting with Solaris 10 10/08, and you can then upgrade with Live Upgrade going forward. There are still issues with placing a zone on ZFS on a release prior to Solaris 10 10/08 and then trying to upgrade.
 387: [August 2010]
 388: 
 389: [[Back to Top&gt;&gt;faq]] 
 390: 
 391: === Section 2C: What Services can a Zone Provide? ===
 392: 
 393: ==== //**Q:** Can a zone be an NFS server?// ====
 394: 
 395:  A: A global zone can be an NFS server. A non-global zone cannot use the Solaris NFS server features. However, non-Solaris NFS server software (i.e. &quot;userland&quot; NFS server software) has been shown to work correctly in a non-global zone. Such software works because it does not run in the kernel, unlike the Solaris NFS server software which runs in the Solaris kernel in order to maximize performance.
 396: //[August 2010]//
 397: 
 398: ==== //**Q:** Can a zone be a DHCP server?// ====
 399: 
 400:  A: A global zone can be a DHCP server.
 401: 
 402:  Starting with Solaris 10 11/06, [[a non-global zone can be a DHCP server&gt;&gt;http://www.opensolaris.org/jive/thread.jspa?messageID=197789&amp;tstart=0]]. This ability became more flexible with Solaris 10 8/07, which added [[a feature called IP Instances&gt;&gt;http://blogs.sun.com/JeffV/date/20070905]]. //[August 2010]//
 403: 
 404: ==== //**Q:** Can a zone be a DNS server?// ====
 405: 
 406:  A: Yes.
 407: 
 408: ==== //**Q:** Can a zone be an NTP client or server?// ====
 409: 
 410:  A1: A zone can be an NTP server.
 411:  A2: The NTP client software sets the system time clock shared by all zones, including the global zone. By default, non-global zones cannot do this. However, the global zone administrator can give a zone the ability to change the system time clock with the &quot;sys_time&quot; privilege. Be aware that this changes the time clock for all zones.
 412: 
 413: See [[http://blogs.sun.com/JeffV/entry/shrink_wrap_security1&gt;&gt;http://blogs.sun.com/JeffV/entry/shrink_wrap_security1]] for an example. //(August 2010)//
 414: 
 415: ==== //**Q:** Can a zone be a NIS (aka yp), NIS+, or LDAP server?// ====
 416: 
 417:  A: Yes, yes, and yes.
 418: 
 419: ==== //**Q:** Can a zone provide network login via telnet, rlogin, rsh or ssh?// ====
 420: 
 421:  A: Yes, yes, and yes.
 422: 
 423: ==== //**Q:** Can a zone be an ftp server?// ====
 424: 
 425:  A: A zone can be an ftp server, but it is not possible to use ftpconfig(1M) to set up a zone to be an //anonymous// ftp server. This is because ftpconfig attempts to set up certain device special files, and a zone does not have the necessary privileges. [December 2005]
 426: 
 427: ==== //**Q:** Can a zone run sendmail?// ====
 428: 
 429:  A: Yes.
 430: 
 431: ==== //**Q:** Can I use X windows in a zone?// ====
 432: 
 433:  A: There are a few different methods to use X windows with zones:
 434: 
 435: 1. On the system console: at the login screen, you can choose &quot;Remote Host&quot; and enter the hostname of the zone. The X windows login screen should be replaced with an X windows remote login screen.
 436: 2. At the console, logged into the global zone: you can tell X to allow remote connections from the non-global zone, telnet to that zone, and set the appropriate environment variable so that X sessions go to the global zone&rsquo;s X windows session, e.g. &quot;setenv DISPLAY my-global-zone&quot;.
 437: 3. At another system, you can login directly to the non-global zone, and perform steps similar to the previous method.
 438: 
 439: [[Back to Top&gt;&gt;faq]] 
 440: 
 441: === Section 3: Resource Management, Performance ===
 442: 
 443: ==== //**Q:** How can I prevent one container from consuming all of the CPU capacity, preventing other workloads from running properly?// ====
 444: 
 445:  A: Use the resource management features of Solaris. This requires using some combination of the Fair Share Scheduler, CPU caps, assigned (&rsquo;dedicated&rsquo;) CPUs, and/or [Dynamic] Resource Pools features.
 446: 
 447: **Fair Share Scheduler:** FSS guarantees a //minimum// amount of CPU utilization, so it doesn&rsquo;t waste CPU cycles. Excessive CPU use is only prevented if there is contention for CPU resources. Minima are specified by &quot;shares&quot; and enforced by the Fair Share Scheduler. You can assign 100 shares to each of two workloads, 200 shares to a third workload, and 400 shares to the global zone. The first two workloads will get at least 1/8 of the CPUs' capacity, if they need it, and the global zone will get at least 1/2 of the CPUs' capacity, if it needs it. If only one Container wants to use the CPUs, it will be able to use all of the processing capacity of the system. 
 448: You should give the global zone a quantity of shares similar to the largest quantity given to any Container, to ensure that you can manage the Containers.
 449: 
 450: Starting with Solaris 10 5/08, you can use the **capped-cpu** resource type. Starting with Solaris 10 8/07, you can use the **dedicated-cpu** resource type to automatically create a temporary pool when the zone boots. See [[Non-Global Zone Configuration (Overview)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/z.config.ov-1]].
 451: 
 452:  Alternatively, you can create a processor set with one or more CPUs and bind it to a resource pool. Then create a zone and bind it to the same resource pool. Run the application in that zone. The application will only &quot;see&quot; that set of processors. For more information, see [[ Resource Pools (Overview)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/rmpool-1]] and [[Resource Pools (Tasks)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/rmpool.task-1]]. 
 453: **Web Links**:
 454: [[Non-Global Zone Configuration (Overview)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/z.config.ov-1]]
 455: [[Fair Share Scheduler (Overview)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/rmfss-1]]
 456: [[CPU Caps&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592/ggeji?l=en&amp;a=view]]
 457: [[Dynamic Resource Pools (Overview)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/rmpool-1]]
 458: 
 459:  [January 2010]
 460: 
 461: ==== //**Q:** What is the resource granularity for CPU assignment to a container?// ====
 462: 
 463:  A: **Fair Share Scheduler:** Arbitrary, i.e. one-thousandth of a CPU or smaller. For example, CPU share assignments could be 1, 1000, 999, resulting in utilization minima of 0.05%, 50%, and (practically speaking) 50%.
 464: **CPU Cap**: number of CPUs, in hundredths of a CPU. One zone can be capped at 4.01 CPUs, and another can be capped at 4.02 CPUs. **Dedicated CPU**: CPU range, in integer number of CPUs. For systems with multiple hardware threads per CPU core, Solaris considers each core to be a &quot;CPU.&quot; For systems with multiple threads per CPU core (including Nehalem, SPARC CMT and SPARC64-VII) Solaris considers each hardware thread to be a &quot;CPU.&quot; [[August 2010]]
 465: 
 466: ==== //**Q:** How can I limit the memory used by a container?// ====
 467: 
 468:  A: You can use the Resource Capping Daemon (rcapd) for all Solaris 10 releases. Starting with Solaris 10 8/07, you can use the capped-memory resource to set limits for physical, swap, and locked memory. Determine values for this resource if you plan to cap memory for the zone by using rcapd from the global zone. The physical property of the capped-memory resource is used by rcapd as the max-rss value for the zone.
 469: 
 470: **Web Links:**
 471: [[Non-Global Zone Configuration (Overview)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/z.config.ov-1]]
 472: [[Administering the Resource Capping Daemon&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/rm.rcapd.task-1]]
 473: 
 474:  [January 2009]
 475: 
 476: ==== //**Q:** Can I dynamically change the quantity of a resource (CPU, memory, network bandwidth) assigned to a container?//
 477:  
 478:  A: To change the number of CPU shares associated with a container without re-booting it, use the prctl command, e.g. ====
 479: 
 480: **prctl -n zone.cpu-shares -r -v $SHARES `pgrep -z $ZONENAME init`**
 481: 
 482:  where $SHARES is the new number of shares and $ZONENAME is the name of the zone.
 483:  In Solaris 10, starting with 5/08, similar methods can be used to change the CPU cap, RAM cap, VM cap and shared memory cap.
 484: 
 485: **Web Links:**
 486: [[Resource Controls&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/rmctrls-1]]
 487: [[Using the prctl Command&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/z.admin.task-1]]
 488: [[Fair Share Scheduler (Overview)&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/rmfss-1]]
 489: [[prctl(1) &gt;&gt;http://docs.sun.com/app/docs/doc/819-2239/prctl-1?l=en&amp;a=view&amp;q=prctl]]
 490: 
 491:  [August 2010]
 492: 
 493: ==== //**Q:** Can swap space usage be managed?// ====
 494: 
 495:  A: The entire swap partition is treated as a single global resource to processes running in both global and non-global zones. Before Solaris 10 8/07, you couldn&rsquo;t limit the amount of swap used by a zone on a per-zone basis. You //can// globally limit the size of the swap-based file systems (e.g. /tmp) by using the &quot;size&quot; mount option in the container&rsquo;s /etc/vfstab file, e.g. &quot;size=200m&quot;. This allows you to decrease the effect of many and/or large files created in /tmp.
 496:  Starting with Solaris 10 8/07, you can use the 'swap' property of the capped-memory resource to cap the amount of virtual memory (VM) that a zone uses. This can also be set dynamically with the resource control zone.max-swap.
 497:  [August 2010]
 498: 
 499: ==== //**Q:** Can I limit the network bandwidth used by a zone?// ====
 500: 
 501:  A: Yes, use the IPQoS features in Solaris 10. You must manage this from the global zone for the containers.
 502: 
 503: ==== //**Q:** Do Containers use up a lot of CPU power?// ====
 504: 
 505:  A: CPU overhead of containers is hardly measurable (i.e. &lt;1%) for a few zones or even dozens of zones, depending somewhat on the applications.
 506: 
 507: ==== //**Q:** Can the share value for a running project or zone be changed?// ====
 508: 
 509:  A: Yes.  Here is an example:
 510: 
 511: **prctl -n project.cpu-shares -v 10 -r -i project group.staff **
 512: 
 513: The prctl utility allows the examination and modification of the resource controls associated with an active process, task or project on the system. It allows access to the basic and privileged limits on the specified entity.
 514: 
 515: -n specifies the name of the resource to get or set
 516: -r specifies a replace operation
 517: -v specifies the new value for the resource
 518: -i specifies the owning process, task or project of the resource.
 519: 
 520: ==== //**Q:** Can I bind a zone to a pool?// ====
 521: 
 522:  A: Yes, but in Solaris 10 8/07 and later, it&rsquo;s much easier to use the &rsquo;dedicated-cpus&rsquo; feature.
 523:  To bind a zone&rsquo;s processes to a pool, first create the pool, then use zonecfg(1M) to bind a zone to it.
 524: 
 525: 1. Enable resource pools on your system using either svcadm or pooladm -e.
 526:  2. Use pooladm -s to create the pool configuration.
 527:  3. Use pooladm -c to commit the configuration at /etc/pooladm.conf.
 528:  4. Use poolcfg -c to modify the configuration.
 529: 
 530: **poolcfg -c &rsquo;create pset pset_zone (uint pset.min = 3; uint pset.max = 3)&rsquo;
 531:  poolcfg -c &rsquo;create pool pool_zone (string pool.scheduler=&quot;FSS&quot;)&rsquo;
 532:  poolcfg -c &rsquo;associate pool pool_zone (pset pset_zone)&rsquo;
 533: **
 534: 
 535:  5. Use pooladm -c to commit the configuration at /etc/pooladm.conf.
 536:  See the [[administration guide.&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450]]
 537:  The command to perform the binding, from the global zone, would be:
 538: 
 539: **zonecfg -z zone1 set pool=pool_zone**
 540: 
 541:  If the zone was running, you must re-boot it for the binding to take effect, unless you also dynamically assign the zone to the pool, as described in the question [[&quot;Can projects/zones be reassigned to a different resource pool while they are running?&quot;&gt;&gt;#rm_reassign_zone2pool]]. [August 2010]
 542: 
 543: ==== //**Q:** Can projects/zones be reassigned to a different resource pool while they are running?// ====
 544: 
 545:  A: Yes. Here is an example:
 546: 
 547: **poolbind -p web_app -i zoneid  myzone **
 548: 
 549: The poolbind command binds zones, projects, tasks and processes to a pool.
 550: 
 551:  -p is the name of the pool to bind
 552:  -i specifies the process id, zone id, task id or project id to be bound to the pool.
 553: 
 554: ==== //**Q:** Can you move processors between processor sets while the system is running?// ====
 555: 
 556:  A: Yes, you can. Here is the command(s) you would use:
 557: 
 558: * If you don&rsquo;t care which CPUs you move from a processor set the command would be:
 559: **poolcfg -dc &quot;transfer 2 from pset pset1 to pset2&quot;**
 560:  which will move any two processors from pset1 to pset2
 561:  -d operate directly on the kernel state
 562:  -c this signifies the command
 563: 
 564:  If you want to move a specific CPU(s) here is the command:
 565: **poolcfg -dc &quot;transfer to pset pset2 (CPU 0, CPU 1)&quot;**
 566:  which will move CPUs 0 and 1 to pset2.
 567: 
 568: ==== //**Q:** How can I prevent one zone from using all the swap space by filling up /tmp?// ====
 569: 
 570:  A: For manual mounts, use the option &quot;-o size=sz&quot; where sz is the size limit you want. Ending the size in &rsquo;k&rsquo; means kilobytes, ending it in &rsquo;m&rsquo; means megabytes. Example: &quot;-o size=500m&quot;. This option can also be added into /etc/vfstab. For more details, view the man pages for mount_tmpfs(1M) and vfstab(4).
 571: 
 572:  With Solaris 10 8/07, you can use the resource control, zone.max-swap. (The swap property of the capped-memory resource is the preferred way to set this control.)
 573: 
 574: ==== //**Q:** Do I need to set a locked memory cap for a zone? If so, what value should I set?// ====
 575: 
 576:  A: A locked memory cap in a zone can be set using the 'locked' property of the zonecfg capped-memory resource. Applications generally do not lock significant amounts of memory, but you might decide to set locked memory if the zone&rsquo;s applications are known to lock memory.
 577: 
 578: If a Container locks down enough memory, it can cause other Containers to page excessively. For that reason, setting the 'locked' property is recommended, because each Container can use locked memory.
 579: If the zone administrator is less than trusted or if DOS exploits are of concern, you can also consider setting the locked memory cap to 10% of the system&rsquo;s physical memory or to the zone&rsquo;s physical memory cap.
 580: [August 2010]
 581: 
 582: [[Back to Top&gt;&gt;faq]] 
 583: 
 584: === Section 4: System Administration ===
 585: 
 586: ==== //**Q:** What software can manage zones?// ====
 587: 
 588:  A: Here are just a few of the software tools - some free, some not free - which will help you manage Solaris Zones:
 589: 
 590: * [[Oracle Enterprise Manager Ops Center&gt;&gt;http://www.oracle.com/technetwork/oem/ops-center/index.html]] (Sun Management Center) can create and manage Solaris Containers
 591: * [[WebMin&gt;&gt;http://webmin.com/]] GUI has a [[Solaris Zones module&gt;&gt;http://www.webmin.com/webmin/download/modules/zones.wbm.gz]]
 592: * [[Xone Control&gt;&gt;http://www.init6.com]] GUI
 593: * [[The Zone Manager&gt;&gt;Project zonemgr.WebHome]] Command
 594: * [[Zonestat&gt;&gt;Project zonestat.WebHome]] command reports on resource usage and caps
 595: 
 596:  [August 2010]
 597: 
 598: ==== //**Q:** How do I create a zone?// ====
 599: 
 600:  A: First gather some information, then use the Solaris Container Manager GUI or the commands shown below. This is the simplest possible creation of a zone that has network access. You will need this information (example values in parentheses):
 601: 
 602: 1. Name that you choose for the zone (my-zone)
 603: 2. Hostname that choose for the zone (my-zone)
 604: 3. Name of the directory in the global zone where all of the zone&rsquo;s operating system files will be (/zones/zone_roots/my-zone)
 605: 4. IP address of the zone (10.1.1.1)
 606: 5. Name of the network device that the zone should use (hme0)
 607: 
 608: Using the sample information in the appropriate commands, which will take about 10 minutes on a small system with a new installation of OpenSolaris or Solaris 10:
 609: 
 610: {{{
 611: 
 612: global# zonecfg -z my-zone
 613: zonecfg:my-zone&gt; create
 614: zonecfg:my-zone&gt; set zonepath=/zones/zone_roots/my-zone
 615: zonecfg:my-zone&gt; add net
 616: zonecfg:my-zone:net&gt; set address=10.1.1.1
 617: zonecfg:my-zone:net&gt; set physical=hm0
 618: zonecfg:my-zone:net&gt; end
 619: zonecfg:my-zone&gt; commit
 620: zonecfg:my-zone&gt; exit
 621: global# zoneadm -z my-zone install
 622: global# zoneadm -z my-zone boot
 623: 
 624: }}}
 625: 
 626: Also, see [[the two chapters on installing and uninstalling zones at docs.sun.com&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592]]. [August 2010]
 627: 
 628: ==== //**Q:** How do I remove a zone?// ====
 629: 
 630:  A: Use these commands, substituting the correct names for &lt;bracketed&gt; text.
 631: 
 632: {{{
 633: 
 634: global# zoneadm -z &lt;zonename&gt; uninstall
 635: global# zonecfg -z &lt;zonename&gt; delete
 636: 
 637: }}}
 638: 
 639:  Also, see [[the two chapters on installing and uninstalling zones at docs.sun.com&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592]]. [August 2010]
 640: 
 641: ==== //**Q:** Is the maximum number of exclusive-IP zones limited to the number of physical ethernet ports?// ====
 642: 
 643:  A: No, if you use VLANs you can have one per VLAN per port. To use the same base &rsquo;bge0&rsquo; for multiple dhcp zones, in the case of VLANs you would assign bge1000 to zoneA, bge2000 to zoneB, etc. The VNIC component of Crossbow allows multiple virtual NICs on a port without any VLANs. You can try this out at [[Crossbow project&gt;&gt;https://markebrooks.github.io/bin/view/Project+crossbow/]].  [August 2010]
 644: 
 645: ==== //**Q:** Is it still necessary to set the NFSv4 domain parameter?// ====
 646: 
 647:  A: The new keyword nfs4_domain was added to the sysidcfg file to allow &quot;no-hands&quot; reboot in SX CE and Solaris 10 8/07.
 648: 
 649: ==== //**Q:** How do I patch zones?// ====
 650: 
 651:  A: See the [[Patching and Packaging sections in the guide at docs.sun.com&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592]]. Note that a recent (2009) zones parallel patching enhancement to the standard Solaris 10 patch utilities increases the patching tools performance on systems with multiple zones by allowing parallel patching of the non-global zones. See &quot;Zones Parallel Patching&quot; on the Solaris Containers (Zones) page on OTN: [[http://www.oracle.com/technetwork/systems/containers/index.html]]
 652: 
 653: ==== //**Q:** Can each container be a different Solaris patch level, so I can test patches in a &quot;test&quot; container before applying them to a &quot;production&quot; container?// ====
 654: 
 655:  A: There are two parts to the answer: 1) There is only one kernel running on the system, so all zones must be at the same patch level with respect to the kernel and other Solaris system components. Such patches can only be applied from the global zone, and they affect the global and all local zones equally. The KU is an example of such a patch.
 656:  2) Software which is not part of Solaris can be patched on a per-zone basis. If the software can be installed in the non-global zone then it must be patchable from the local zone as well, regardless of the zone type, whole-root or sparse-root.
 657: 
 658: ==== //**Q:** Can I move a zone from one computer/domain to another?// ====
 659: 
 660:  A: Yes. See [[Migrating a Non-Global Zone to a Different Machine&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450]]. For information on migrating a Solaris 8 or Solaris 9 container, see [[ System Administration Guide: Solaris 8 Containers&gt;&gt;http://docs.sun.com/doc/820-2914/]] and [[ System Administration Guide: Solaris 9 Containers&gt;&gt;http://docs.sun.com/doc/820-4490/]].
 661:  [August 2010]
 662: 
 663: ==== //**Q:** Is there a way to correlate audit records from multiple containers?// ====
 664: 
 665:  A: Yes, the global zone sees all audit records. Each non-global zone only sees its own audit records.
 666: 
 667: ==== //**Q:** Can I add packages to just the global zone (for example, SRS netConnect)?// ====
 668: 
 669:  A: Yes, use pgkadd -G. Note that if the SUNW_PKG_THISZONE package parameter is set to true, you do not have to use the -G option. See [[packaging and patching chapters &gt;&gt;http://docs.sun.com/app/docs/doc/819-2450]]
 670:  [September 2010]
 671: 
 672: ==== //**Q:** Can I add a package to one non-global zone without adding it to the global zone?// ====
 673: 
 674:  A: That depends on the settings used when the package was created. See the [[ Packaging sections at docs.sun.com&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592/pkginst.ov-1]].
 675: 
 676: ==== //**Q:** What commands don&rsquo;t work, or behave differently, inside a zone?// ====
 677: 
 678:  A: Most Unix commands and programs work correctly, without alteration or re-compilation. 
 679: 
 680: However, the implementation of the security isolation boundary limits the functionality of several system calls and libraries. That, in turn, limits the functionality of several system commands. In other words, some Solaris commands behave differently when run inside a zone, or do not work at all inside a zone.
 681:  See the sections 6.1 System Calls, 6.2 Library Functions, 6.3 Commands, and 6.4 Device and Interface Special Files in [[ http://www.sun.com/bigadmin/features/articles/zones_partition.html#limitations&gt;&gt;http://www.sun.com/bigadmin/features/articles/zones_partition.html#limitations]].
 682:  For information on the status of privileges in zones, see Table 26-1 [[Status of Privileges in Zones&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/z.admin.task-1]]
 683:  [November 2006]
 684: 
 685: ==== //**Q:** Do zones boot automatically, or must I boot each one manually every time the system (re)boots?// ====
 686: 
 687:  A: The zones autoboot property determines whether the zone is booted when the system boots. The global zone adminstrator can set the autoboot property to &quot;true&quot; or &quot;false.&quot; The zones service svc:/system/zones:default must also be enabled. [August 2010]
 688: 
 689: ==== //**Q:** Should I halt a system&rsquo;s zones before applying patches?// ====
 690: 
 691:  A: There is no need to do this. In fact, the package and patch tools will perform their operations on all zones that are running, as well as all zones that are not currently running but are capable of being booted (e.g. they are at least in the &quot;installed&quot; state). The running zones are operated on first, and then for each zone that is not running but can be booted, the zone is booted, the operation is performed, and the zone is then halted.
 692: 
 693: ==== //**Q:** Where does a zone&rsquo;s syslog output go?// ====
 694: 
 695:  A: By default the syslog output from a zone goes only into the zone&rsquo;s syslog file. If you would like the output to also appear in the global zone&rsquo;s log files, configure the non-global zone&rsquo;s loghost to be the global zone.
 696: 
 697: ==== //**Q:** I removed a device from a zone, but it&rsquo;s still there. Why, and how do I get rid of it?// ====
 698: 
 699:  A: This bug (4963368) was corrected in Solaris 10 8/07. For release before that, the workaround is: after using zonecfg to remove the device, manually remove the corresponding entry in {ZONEPATH}/dev.
 700:  
 701: 
 702: ==== //**Q:** How do I upgrade a system with zones installed? Does Live Upgrade work?// ====
 703: 
 704:  A: Information about how to upgrade your Solaris 10 system to a later release if you are running zones is available in the System Administration Guide: Solaris Containers~-~-Resource Management and Solaris Zones, [[Chapter 27 Upgrading a Solaris 10 System That Has Installed Non-Global Zones&gt;&gt;http://docs.sun.com/app/docs/doc/817-1592]].
 705: 
 706:  Full upgrade for a Solaris 10 system that has zones installed began in Solaris 10 8/07. You can use Solaris Live Upgrade, the standard Solaris interactive installation program, or the custom JumpStart installation program to upgrade your Solaris system with zones installed. See [[the installation documentation&gt;&gt;http://docs.sun.com/app/docs/doc/820-0175]]. Limited upgrade via standard upgrade with limitations and limited JumpStart keywords was available in Solaris 10 11/06.
 707: 
 708: |=Solaris Release|=Traditional Upgrade w/ Zones|=Live Upgrade w/ Zones
 709: |Solaris 10 3/05|N/A|N/A
 710: |Solaris 10 1/06|Yes|No
 711: |Solaris 10 6/06|Yes|No
 712: |Solaris 10 11/06|Yes*|No
 713: |Solaris 10 8/07 onward|Yes*|Yes
 714: 
 715: * Note, however, that there are two limitations regarding the process of upgrading Solaris 10 if there are zones that use ZFS or LOFS. Note that the LOFS problem has been fixed in Solaris 10 8/07.
 716: 
 717: 1. Solaris 10 6/06 supports the use of ZFS file systems. It is possible to install a zone into a ZFS fs, but the installer/upgrader program does not yet understand ZFS well enough to upgrade zones that &rsquo;live&rsquo; on a ZFS file system. Because of this, upgrading a system that has a zone installed on a ZFS file system is not yet supported.
 718: 2. If all non-global zones that are configured with &quot;lofs&quot; fs resources are mounting directories that exist in the miniroot, the system can be upgraded from a previous release of Solaris 10 to the Solaris 10 11/06 release using standard upgrade. For example, a lofs mounted /opt directory presents no issues for upgrade.
 719:  However, if any of your non-global zones are configured with a non-standard lofs mount, such as a lofs mounted /usr/local directory, the following error message is displayed:
 720: 
 721: {{{
 722:  The zones upgrade failed and the system needs to be restored
 723:  from backup.  More details can be found in the file
 724:  /var/sadm/install_data/upgrade_log on the upgrade root file
 725:  system.
 726: }}}
 727: 
 728: The error message is incorrect: although this error message states that the system must be restored from backup, the system is actually fine, and it can be upgraded successfully using the workaround.
 729: 
 730: {{{
 731: Workaround:
 732: 1. Reboot your system with the installed OS.
 733: 2. Reconfigure the zones, removing the &quot;fs&quot; resources defined with a
 734: type of &quot;lofs.&quot;
 735: 3. After removing these resources, upgrade the system to Solaris 10 11/06.
 736: 4. Following the upgrade, you can again reconfigure your zones to
 737: restore the additional &quot;fs&quot; resources that you removed.
 738: }}}
 739: 
 740:  This problem is being tracked as CR 6454140: &quot;Zones With an &quot;fs&quot; Resource Defined With a Type of &quot;lofs&quot; Cannot Be Upgraded to Solaris 10 11/06&quot; and is also described in the Solaris 10 11/06 Release Notes.
 741:  [November 2006]
 742: 
 743: ==== //**Q:** Are there any special guidelines for using Live Upgrade with zones?// ====
 744: 
 745:  A: There are a number of considerations when using Live Upgrade (LU) on a system with zones installed. It is critical to avoid zone state transitions during lucreate and lumount operations.
 746: 
 747: * When you lucreate an alternate boot environment (ABE), if a zone is not running, then it cannot be booted until the lucreate has completed.
 748: * When you lucreate an ABE, if a zone is running, it should not be halted or rebooted until the lucreate has completed.
 749: * When an ABE is lumounted, you cannot boot zones or reboot them, although zones that were running before the lumount can continue to run.
 750: 
 751:  Because a non-global zone can be controlled by a non-global zone administrator as well as the global zone administrator, it is best to have all zones halted during lucreate or lumount.
 752: 
 753:  It is important to note that when LU operations are underway, non-global zone administrator involvement is critical. The upgrade affects their work as administrators, and they will be dealing with the changes that occur as a result of the upgrade. They should make sure that any local packages are stable throughout the sequence, handle any post-upgrade tasks (such as configuration file tweaking), and generally schedule around the system outage.
 754: 
 755:  Here is an example of a problem that could occur if these guidelines are not followed. If this sequence of actions takes place:
 756: 
 757: 1. In global zone: lucreate -n new
 758: 2. In non-global zone: pkgadd FooBar
 759: 3. In global zone: luupgrade -n new, luactivate -n new, init 6
 760: 
 761:  When the system comes back up, the non-global zone users will notice that they no longer have the FooBar feature added by the package.
 762:  [January 2008]
 763: 
 764: ==== //**Q:** Are Solaris 10 zones configured on ZFS prior to the Solaris 10 10/08 release upgradeable using Live Upgrade?// ====
 765: 
 766:  A: Not yet, but it is being investigated. Live Upgrade can be used on Solaris 10 10/08 systems that have zones configured with the zonepath on ZFS.
 767: [November 2008]
 768: 
 769: ==== //**Q:** What is the default networking service configuration of a non-global zone when it is installed?// ====
 770: 
 771:  A: On Solaris 10 systems, the traditional open configuration is installed.
 772:  You can switch the zone to either networking configuration by using the netservices command, or enable and disable specific services by using SMF commands. [September 2006]
 773: 
 774: ==== //**Q:** Can the patch levels between a zone migrated to the target machine using update on attach and a zone created on the target machine be different?// ====
 775: 
 776:  A: Yes. It is normal and expected that a migrated zone and a newly installed zone would have different patches. The update on attach feature looks at the zone you are migrating and determines which packages need to be updated to match the new host. Only those packages are updated. By definition, the rest of the packages (with their patches) are allowed to vary from zone to zone. You can think of this as setting up a number of zones and then, over time, the zone administrators for those zones install and remove packages and apply different patch streams to the packages that they are allowed to change in their zones.
 777:  The update on attach feature for zone migration was added in the Solaris 10 10/08 release.
 778:  [August 2010]
 779: 
 780: ==== //**Q:** I tried to halt my zone but it is stuck in the 'shutting down' or 'down' state and won't halt. What should I do?// ====
 781: 
 782:  A: Collect a system dump and submit it to Oracle for analysis. You can reboot the global zone.
 783:  [August 2010]
 784: [[Back to Top&gt;&gt;faq]] 
 785: 
 786: === Section 5: Security ===
 787: 
 788: ==== //**Q:** Can I access one zone from another zone?// ====
 789: 
 790:  A: Only through IP connections, e.g. telnet, rlogin.
 791: 
 792: ==== //**Q:** Can I &rsquo;su&rsquo; from one zone to another?// ====
 793: 
 794:  A: No, this would violate the security implementation of zones. In this context, think of zones as separate computers - you can&rsquo;t &rsquo;su&rsquo; from one Unix computer to another.
 795:  You //can// use the zlogin(1) command to login to a non-global zone from the global zone. You must have all privileges(5) to use zlogin.
 796: 
 797: ==== //**Q:** Can I prevent the root account in one zone from affecting other zones?// ====
 798: 
 799:  A: Because each container has its own namespace, each container has its own root account. Each zone&rsquo;s root account is unable to access other containers in any way.
 800: 
 801: ==== //**Q:** Can programs running in one zone change the operation of programs running in another container?// ====
 802: 
 803:  A: A great deal of design work was done to prevent containers from affecting each other. By default it is very difficult for one local zone to affect another zone, but it is possible. It is also easy for the global zone administer to configure containers unsafely. Consider these factors:
 804: 
 805: * First, there are no known methods for one user (even root) in one zone to &rsquo;break into&rsquo; another zone (global or non-global).
 806:  However, a modern computer has many resources, some of them real, some virtual. Denial of Service attacks often attempt to use all of the instances of a virtual resource. One early attack on Unix systems was creating so many processes that all of the PIDs were in use, preventing the creation of new processes. There are now methods to prevent those attacks, and those methods automatically apply, or have been applied to, zones. In some cases the method of prevention includes the manual use of Solaris features, e.g. projects.
 807: * By default it is difficult to disrupt operation of zones. However, the global zone administrator can make it easier for a non-global zone user to impact operation of one or more other zones, even the global zone. Try to avoid assigning disk devices directly to non-global zones: the root user of that zone might be able to take advantage of this to cause a SCSI bus reset or even panic the kernel. Also, avoid assigning the same device or file system to multiple zones unless needed to achieve a specific goal. If that is necessary, ensure that all of the software in those two zones will obey a synchronization mechanism when using the device or file system.
 808: 
 809: ==== //**Q:** How do I prevent a &rsquo;fork bomb&rsquo; from affecting all of the zones?// ====
 810: 
 811:  A: A &rsquo;fork bomb&rsquo; is a process which creates (forks) as many child processes as possible, attempting to use up all of the virtual memory or PIDs in a system, resulting in a Denial of Service to other users. If you would like to prevent someone from doing this in a non-global zone, add this to a zone&rsquo;s configuration, using zonecfg(1M):
 812: 
 813: {{{
 814: 
 815: set max-lwps=1000
 816: 
 817: }}}
 818: 
 819: That will prevent a zone&rsquo;s processes from having a total of more than 1000 LWPs simultaneously. [August 2010]
 820: 
 821: [[Back to Top&gt;&gt;faq]] 
 822: 
 823: === Section 6: Application-specific Information ===
 824: 
 825: ==== //**Q:** Can Oracle use shared memory in a Container?// ====
 826: 
 827:  A: In Solaris, Oracle uses ISM (Intimate Shared Memory) or DISM (Dynamic ISM). DISM is preferred because it provides more flexibility.
 828: 
 829: ISM can be used in a Solaris Container, for any release of Solaris 10.
 830: 
 831: Because we keep improving Containers, there are slightly different answers to the question &quot;can DISM be used,&quot; depending on the particular release of Solaris 10.
 832: 
 833: 1. Solaris 10 8/07 and newer: Yes, Oracle can use DISM in a Container. Because the Solaris privilege &rsquo;proc_lock_memory&rsquo; is in a zone&rsquo;s default set of privileges, you should limit the amount of RAM that a particular zone can lock. If you don&rsquo;t do this, that zone could lock down enough memory that the global zone - including platform management tools - cannot function properly.
 834: In Solaris 10 5/08 and later, you should set that limit with the following command:
 835: 
 836: {{{
 837: global# zonecfg -z myzone
 838: add capped-memory
 839: set locked=4g
 840: end
 841: exit
 842: }}}
 843: 
 844: Note that common memory-size suffixes can be used: k or K (kilobytes), m or M (MB), g or G (GB), etc. See zonecfg(1M) for more details.
 845: In Solaris 10 8/07 you should set that limit with the following command:
 846: 
 847: {{{
 848: global# zonecfg -z myzone
 849: set max-locked-memory=4g
 850: exit
 851: }}}
 852: 
 853: 2. Solaris 10 11/06: Yes, Oracle can use DISM in a Container. To enable the use of DISM, the global zone administrator must add the privilege &quot;proc_lock_memory&quot; to the Container. To do this, use zonecfg(1M) to add the line
 854: 
 855: {{{
 856: set limitpriv=default,proc_lock_memory
 857: }}}
 858: 
 859:  to the Container&rsquo;s configuration.
 860: 3. Solaris 10, Releases 3/05, 1/06, 6/06: A Container can only use ISM. It cannot use DISM. This is a side-effect of the implementation of the security boundary which protects zones from each other.
 861: 
 862:  [//September 2008//]
 863: 
 864: ==== //**Q:** Can I use the Solaris 10 FSS (Fair Share Scheduler) with Oracle in a Solaris Container?// ====
 865: 
 866:  A: There are currently (June 2006) two distinct concerns regarding the use of FSS in a Container when running Oracle databases:
 867: 
 868: 1. In testing - Oracle processes use internal methods to prioritize themselves to improve inefficiency. It is possible that these methods might not work well in conjunction with the Solaris FSS. Although there are no known problems with non-RAC configurations, Sun and Oracle are testing this type of configuration to discover any negative interactions. This testing should be completed soon.
 869: 2. It is not possible to use the Solaris FSS with Oracle RAC in a Container. A Solaris patch is being tested that fixes this problem.
 870: 
 871: ==== //**Q:** Can I use Oracle RAC in a Container?// ====
 872: 
 873:  A: This is really three questions: (1) does it work (2) in what configurations does Sun support the Solaris components (3) in what configurations does Oracle support this? The short answers are:
 874: 
 875: 1. Oracle RAC has been demonstrated consistently using the Solaris OS, the Solaris Zones Cluster feature of Solaris Cluster software and Oracle RAC
 876: 2. Sun supports &rsquo;Solaris Zone Clusters&quot; using Solaris Cluster
 877: 3. only Oracle can determine the level of support available for Oracle RAC in Solaris Zones Clusters.
 878: 
 879:  The Sun BluePrint &quot;[[Deploying Oracle Real Application Clusters (RAC) on Solaris Zone Clusters&gt;&gt;http://www.sun.com/offers/details/820-7661.xml]]&quot; describes the installation and use of Oracle RAC in Solaris Zone Clusters. [//May 2009//]
 880: 
 881: ==== //**Q:** Are there any third-party documents that address using applications with zones?// ====
 882: 
 883:  A: Yes. To use Veritas Volume Manager Volumes from non-global zones, see [[this document&gt;&gt;http://seer.entsupport.symantec.com/docs/285063.htm]].
 884: 
 885:  Sun is not responsible for the availability of third-party web sites mentioned in this FAQ. Sun does not endorse and is not responsible or liable for any content, advertising, products, or other materials that are available on or through such sites or resources.
 886: 
 887: [[Back to Top&gt;&gt;faq]] 
 888: 
 889: === Section 7: Other Server Virtualization Solutions ===
 890: 
 891: ==== //**Q:** What are zone&rsquo;s strengths compared to other server virtualization solutions?// ====
 892: 
 893:  A: Solaris Zones have many strengths relative to other server virtualization solutions, including:
 894: 
 895: * Cost: zones are a feature of the operating system. There is no extra charge for using them.
 896: * Integration: Zones are integrated into the operating system, providing seamless functionality and a smooth upgrade path.
 897: * Portability: Zones are not tied to any one hardware platform. As a device-independent feature set of OpenSolaris, their functionality is exactly the same on all hardware to which OpenSolaris has been ported.
 898: * Observability: The Global Zone has visibility into all activity in all zones, including viewing process and network activity, system-wide accounting and auditing, etc. This makes it possible to find performance problems and resolve inter-zone conflicts, both of which are extremely difficult problems on most other SV solutions. It is even possible to re-host applications typically found on different systems (e.g. web server and app server) on different zones in the same system, and then use DTrace to analyze their interactions.
 899: * Manageability: You can manage all of the zones on one system as one collection, rather than as separate servers. This includes adding packages and patches **once** per system, not once per zone.
 900: * Sun Dynamic System Domains
 901: 
 902: ==== //**Q:** Are containers like VMware?// ====
 903: 
 904:  A: They are only vaguely similar. Both technologies are very useful for consolidating servers. However, the basic model is different: Containers form isolated application environments that share one OS instance, while VMware hosts multiple OS instances. The differences also include:
 905: 
 906: * Containers are only available for Solaris 10 and SX Nevada. VMware supports Solaris, Microsoft Windows and Linux clients, simultaneously.
 907: * VMware uses a great deal of CPU capacity managing the multiple environments. CPU overhead of containers is hardly measurable (typically &lt;1%) for a few zones or even dozens of zones, depending somewhat on the applications.
 908: * Containers do not have any financial cost beyond Solaris license and/or support costs. VMware for production environments costs thousands of dollars, and a license is necessary for each Windows or RH instance hosted on top of VMware.
 909: 
 910: ==== //**Q:** Are containers like HP vPars or nPars?// ====
 911: 
 912:  A: Containers are not similar to either except in purpose: server consolidation. However, the differences include:
 913: 
 914: * HP nPars and Sun&rsquo;s Dynamic System Domains are similar in that both provide complete isolation of data, applications, and programs. A complete comparison of Domains and nPars is outside the scope of this document.
 915: * vPars are HP&rsquo;s &quot;soft&quot; partitioning technology. vPars and Containers each enable multiple applications to co-exist in a set of hardware resources with some degree of isolation.
 916: * Each vPar is its own instance of an operating system, and must be managed separately. Each container is a virtual instance of Solaris, but there is only one copy of Solaris to maintain.
 917: * Containers are only available for Solaris 10. vPars only support HP-UX (versions ??).
 918: * All vPars share the same root password. Someone who gains root access in one vPar can do anything to any vPar. Conversely, each Solaris Container has its own namespace, including its own root account. Someone who gains root access in one container can damage that container (unless privileges have been removed) but cannot cause any damage to any other container, including the global container. However, keep in mind that if a vPar or Container is configured poorly, the potential for inter-partition damage is increased.
 919: 
 920: ==== //**Q:** Are containers like IBM Micro-Partitions?// ====
 921: 
 922:  A: They are only vaguely similar. Both technologies are very useful for consolidating servers. However, the differences include:
 923: 
 924: * Containers are only available for Solaris 10. MicroPars only support AIX 5.3, RH.
 925: * Each MicroPartition requires a separate license to run an operating system. There is a cost associated with each AIX license.
 926: * Containers have almost no overhead, i.e. running 10 applications in 10 Containers is only slightly less efficient than running those 10 applications in a non-zoned system. The difference is typically &lt;1%. MicroPartitions are inefficient and have high overhead. According to IBM documentation, 10 MicroPartitions can have a compute overhead of 35%, **//in addition to the application workload//**.
 927: * Containers and MicroPartitions can share I/O resources, but the implementation is different. MicroPars that want to share an I/O connector must use an LPAR dedicated to the multiplexing of I/O. This LPAR has extra costs associated with it: one or more additional Power processors, another AIX license, etc. [Updated July 2005]
 928: 
 929: ==== //**Q:** Are containers like Linux vServers?// ====
 930: 
 931:  A: The basic model used to implement the Solaris 10 Containers feature set and the Linux vServers project are fairly similar. However, the implementation is different. (More coming soon!) [Updated August 2005]
 932: 
 933: [[Back to Top&gt;&gt;faq]] 
 934: 
 935: === Section 8: Zones in OpenSolaris ===
 936: 
 937: ==== //**Q:** How are zones different on OpenSolaris 2009.06?// ====
 938: 
 939:  A:
 940: 
 941: * The ipkg brand is the default instead of the native brand
 942: * Are whole-root type only; inherit-pkg-dir should not be used
 943: * Have different software management related functionality
 944: ** IPS vs SVr4 packaging
 945: ** install, detach/attach, p2v
 946:  For attach, you currently have to manually set up the correct dataset hierarchy, which might cause problems if Not done correctly. Also, dry-run doesn&rsquo;t work yet. Engineering is currently fixing these problems.
 947: * Have different global zone software operations: employ manual syncing, not patching. Currently, the zones don&rsquo;t automatically update when you pkg image-update the system. You must manually update the zones after rebooting to keep them in sync with the global zone.
 948: * Use boot environments instead of LU
 949: * Integrated with beadm
 950: * Zone root is a dataset
 951: * Host identifiers (hostids) can be emulated on a per-zone basis; see zonecfg(1M)). (Also available in the community release beginning with snv_108.)
 952: * Zone software is minimized to start; any additional packages the zone needs must be added
 953: * Must be on net to install zone; install is from the OpenSolaris Packaging Repository
 954: 
 955:  Note that pkg_image-update is not fully supported. You can use detach and attach -u as a workaround. Detach the zone before running pkg_image-update, and use attach -u after running pkg_image-update. [Added June 2009]
 956: 
 957: ==== //**Q:** Why are zones so different on OpenSolaris?// ====
 958: 
 959:  A: IPS is a new model for software management, and zones have to change to utilize this model.[Added June 2009]
 960: 
 961: ==== //**Q:** Why can&rsquo;t I use sparse root zones?// ====
 962: 
 963:  A: The sparse root type of zone describes a fundamental interaction between zones and the package management system, and IPS doesn&rsquo;t support this concept. BUT, we&rsquo;re working on providing the positive attributes of sparse root zones in different ways:
 964: 
 965: * reduced memory footprint
 966: * reduced disk footprint
 967: * centralized control of zone&rsquo;s software
 968: * security due to read-only mounts
 969: * faster install/upgrade times
 970: * fewer bits to migrate across systems
 971: 
 972:  [Added June 2009]
 973: 
 974: ==== //**Q:** Are zones on OpenSolaris done? Will zones continue to look like they do on 2009.06?// ====
 975: 
 976:  A: No, zones are a work in progress and things will continue to evolve as development continues. [Added June 2009]
 977: 
 978: ==== //**Q:** How do I control what software is installed in the zone?// ====
 979: 
 980:  A: Use the -e option to zoneadm install. [Added June 2009]
 981: 
 982: ==== //**Q:** Why is zone root its own dataset?// ====
 983: 
 984:  A: Eventually, we want to support beadm inside zones for pkg_image-update, just as you can do in the global zone. To accomplish this, the zone&rsquo;s root dataset must be controlled inside the zone. [Added June 2009]
 985: 
 986: ==== //**Q:** Why isn&rsquo;t the zone root available when the zone is halted? How do I set up the zone&rsquo;s sysidcfg file?// ====
 987: 
 988:  A: Ready the zone, which will mount the correct zone root dataset. [Added June 2009]
 989: 
 990: ==== //**Q:** I created a zone in OpenSolaris 2009.06, and tried to add an /etc/sysidcfg file - but &lt;zonepath&gt;/root/etc doesn't exist! Where did it go?// ====
 991: 
 992:  A: OpenSolaris zones are a little different from Solaris 10 zones. When a zone is in the 'installed' state, its ZFS file system is not mounted. To mount the zone's root file system before booting the zone, use this command: 
 993: 
 994: {{{
 995: 
 996: global# zoneadm -z &lt;zonename&gt; ready
 997: 
 998: }}}
 999: 
1000: Then edit &lt;zonepath&gt;/root/etc/sysidcfg. After that, you can finish booting the zone. If the sysidcfg file was correct, configuration questions will not be sent to the zone's console, and it will complete the boot process.
1001: 
1002: ==== //**Q:** Can I continue to use zones created on OpenSolaris 2008.05?// ====
1003: 
1004:  A: No, existing zones from this release cannot be used. [Added June 2009]
1005: 
1006: [[Back to Top&gt;&gt;faq]] 
1007: 
1008: === Section 9: Common but Non-Obvious Problems ===
1009: 
1010: ==== //**Q:** I created a zone and booted it, but it doesn&rsquo;t work. What should I do?// ====
1011: 
1012:  A: The most common problem is that the zone doesn&rsquo;t have its system identification information yet. You can determine if this is the problem by running &quot;ps -fz &quot; in the global zone. If the output only shows zsched, init, and a (3-6) processes related to SMF (/lib/svc/..., /usr/sbin/svccfg) then system identification is not complete. To complete this, attach to the zone&rsquo;s console by running &quot;zlogin -C &quot; in the global zone, pressing  once, and following the instructions. [//March 2006//]
1013: 
1014: ==== //**Q:** I added some privileges to a user in a zone, and now the user can&rsquo;t login. What should I do?// ====
1015: 
1016:  A: This resulted from a bug that was fixed in Solaris Express 4/06. It will be corrected in Solaris 10 11/06 as well.
1017:  Updated information on privileges and zones has been added to the System Administration Guide: Solaris Containers~-~-Resource Management and Solaris Zones. See [[documentation&gt;&gt;http://docs.sun.com/app/docs/doc/819-2450/z.admin.ov-1]] for a list of the Solaris privileges and the status of each privilege with respect to zones. To alter privileges in zones, use the limitpriv property in zonecfg. [September 2006]
1018: 
1019: ==== //**Q:** I tried to upgrade to Solaris 10 11/06 and it told me the upgrade failed and I need to restore from backup. Now what?// ====
1020: 
1021:  A: Although this error message states that the system must be restored from backup, the system is actually fine, and it can be upgraded successfully. See [[&quot;How do I upgrade a system with zones installed? Does Live Upgrade work?&quot;&gt;&gt;#sa_upgrade]] for more information and a workaround you can use to upgrade your system.
1022: 
1023: [[Back to Top&gt;&gt;faq]] 
1024: 
1025: {{html}}
1026: 
1027: &lt;script type=&quot;text/javascript&quot;&gt;
1028: sc_project=3556907;
1029: sc_invisible=1;
1030: sc_partition=34;
1031: sc_click_stat=1;
1032: sc_security=&quot;ff0d6377&quot;;
1033: sc_remove_link=1;
1034: &lt;/script&gt;
1035: 
1036: &lt;script type=&quot;text/javascript&quot; 
1037: src=&quot;http://www.statcounter.com/counter/counter_xhtml.js&quot;&gt;&lt;/script&gt;&lt;noscript&gt;&lt;div 
1038: class=&quot;statcounter&quot;&gt;&lt;img class=&quot;statcounter&quot; 
1039: src=&quot;http://c.statcounter.com/3556907/0/ff0d6377/1/&quot; alt=&quot;website hit 
1040: counter&quot; &gt;&lt;/div&gt;&lt;/noscript&gt;
1041: 
1042: &lt;script type=&quot;text/javascript&quot;&gt;
1043: sc_project=3567784;
1044: sc_invisible=1;
1045: sc_partition=39;
1046: sc_security=&quot;1cc9f797&quot;;
1047: sc_remove_link=1;
1048: &lt;/script&gt;
1049: 
1050: &lt;script type=&quot;text/javascript&quot; 
1051: src=&quot;http://www.statcounter.com/counter/counter_xhtml.js&quot;&gt;&lt;/script&gt;&lt;noscript&gt;&lt;div 
1052: class=&quot;statcounter&quot;&gt;&lt;img class=&quot;statcounter&quot; 
1053: src=&quot;http://c40.statcounter.com/3567784/0/1cc9f797/1/&quot; alt=&quot;free web 
1054: tracker&quot; &gt;&lt;/div&gt;&lt;/noscript&gt;
1055: 
1056: {{/html}}
</textarea>
</div>

    <div class="clearfloats"></div>
  </div>    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group zones Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz">BrandZ</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_bugfixes">BrandZ Bugfixes</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_contribute">Contribute Code to BrandZ</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_design_doc">BrandZ Design Doc</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_downloads">BrandZ Downloads</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_install">BrandZ Installation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_on_dev">BrandZ Impact on ON Development</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_project_list">BrandZ Project List</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/brandz_scla_faq">BrandZ/SCLA FAQ</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/linux_applications">Linux Applications</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/faq">Zones and Containers FAQ</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/flar_zones">Flash Archives & Zones</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/roadmap">Zones Roadmap</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/s10brand_dev_guide">Solaris10&#45;Branded Zone Developer Guide</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/zones_design_docs">Zones Project Documents</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/rm_enhancements">Enhanced Resource Management Project</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+zones/zoss">zones on shared storage proposal</a></span></li>
</ul></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
