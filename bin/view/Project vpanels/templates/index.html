<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Template extensions (Project vpanels.templates) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Project+vpanels/templates" />
                    <link rel="canonical" href="/bin/view/Project+vpanels/templates" />
                            <meta name="document" content="Project vpanels.templates"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Project vpanels"/>
    <meta name="page" content="templates"/>
    <meta name="version" content="5.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Project+vpanels/pages/templates"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Template extensions" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="dep" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Project vpanels";
XWiki.currentPage = "templates";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Project+vpanels/templates";
window.docediturl = "/bin/edit/Project+vpanels/templates";
window.docsaveurl = "/bin/save/Project+vpanels/templates";
window.docgeturl = "/bin/get/Project+vpanels/templates";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Project_vpanels viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FProject%2Bvpanels%2Ftemplates"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+vpanels/"><strong>Project vpanels</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Project+vpanels" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>
            </td>
            <td style="width: 99%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Project+vpanels/Auxiliary+Technologies'>Auxiliary Technologies</a> <span class='separator'>&#187;</span> <span class='current'>Template extensions</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Project+vpanels/templates?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Project+vpanels/templates?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+vpanels/templates?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+vpanels/templates?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+vpanels/templates?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Project+vpanels/templates?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+vpanels/templates?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+vpanels/templates?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Project+vpanels/templates?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Project+vpanels/templates?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Project+vpanels/templates?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>Template extensions</h1></div>

              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h1 id="HTemplateExtensions"><span>Template Extensions</span></h1><p>&nbsp;The first step towards making it easier to configure (and making it easy to make it easier to configure) OpenSolaris is to provide a means of describing the lowest-level of configuration data.</p><p>&nbsp;In an smf(5) service manifest, we have already carved out a region for holding service metadata called the "template". It currently only holds things like man/web page references and a localizable service name. We've long hoped to grow this section to encompass more information.</p><p>&nbsp;One of the neat things we were able to do with the Visual Panels demo was provide automatically-generated panels for services that put configuration in SMF. One of the first things you'd notice when using it, though, is that you had to decipher whatever arcane names the service author chose for the service's properties. In most cases these names are documented in a man page, and we happened to also provide ready access to the man page, but flipping between documentation and configuration is tedious. We can and should give better context in this situation.</p><p>&nbsp;What follows is description of some changes to the template section we've been mulling over. They let us do things like specify human-readable names and descriptions for properties and values, let us indicate when a property isn't something a user should see or modify, let us put some basic constraints on the values a property can take on, and do so in a way that can be wildcarded across classes of property groups, services, or instances.</p><p>&nbsp;For those of you who prefer code over prose, an updated <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+vpanels/templates/testservicebundle.dtd">DTD</a></span> and <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+vpanels/templates/console-login.xml">console-login manifest</a></span> are also available.</p><p>&nbsp;Please <span class="wikiexternallink"><a href="http://www.opensolaris.org/jive/forum.jspa?forumID=95">let us know</a></span> what you think.</p><hr/><h2 id="HPropertygroups"><span>Property groups</span></h2><p>&nbsp;The pg_pattern element contains the definitions for a property group:</p><pre>

  &lt;template&gt;
  &lt;pg_pattern name="pgname" type="pgtype" target="this" required="true"&gt;
  &lt;/pg_pattern&gt;
  &lt;/template&gt;

</pre><p>name is the property group's name, and type is the property group's type.</p><p>target specifies what the target of this definition is. this would refer to the defining service or instance. instance can only be used in a service's template block, and means the definition applies to all instances of this service. delegate can only be used in a restarter's template block, and applies to all instances that are delegated to that restarter. all, only usable by the master restarter, would refer to all services on the system. The default value of target is this.</p><p>&nbsp;"required" indicates whether this property group is required or not. The default value of required is false. If required is true, both name and type must be specified.</p><p>&nbsp;If name or type is omitted, it acts like a wildcard. It might make more sense to (instead?) allow the explicit use of wildcards.</p><h2 id="HProperties"><span>Properties</span></h2><p>&nbsp;The prop_pattern element contains the definitions for a specific property:</p><pre>

  &lt;pg_pattern ...&gt;
  &lt;prop_pattern name="propname" type="proptype" required="true"&gt;
  &lt;/prop_pattern&gt;
  &lt;/pg_pattern&gt;

</pre><p>name is the property's name, and type is the property's type.</p><p>required indicates whether this property is required. The default value of required is false.</p><p>name is always required. type is optional only if required is false.</p><h2 id="HPropertynames"><span>Property names</span></h2><p>&nbsp;The common_name element contains the localized, human-readable name for the property:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;common_name&gt;
    &lt;loctext xml:lang='C'&gt;Platen width&lt;/loctext&gt;
  &lt;/common_name&gt;
  &lt;/prop_pattern&gt;

</pre><p>&nbsp;This name should short -- probably no longer than a word or two -- as its intended use would be as a label in a GUI or CLI.</p><h2 id="HPropertyunits"><span>Property units</span></h2><p>&nbsp;The units element contains the localized, human-readable units for a numerical property:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;units&gt;
    &lt;loctext xml:lang='C'&gt;furlongs&lt;/loctext&gt;
  &lt;/units&gt;
  &lt;/prop_pattern&gt;

</pre><h2 id="HPropertydescription"><span>Property description</span></h2><p>&nbsp;The description element contains a longer description of the property, suitable for a status line or a tool-tip:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;description&gt;
    &lt;loctext xml:lang='C'&gt;Not the height.&lt;/loctext&gt;
  &lt;/description&gt;
  &lt;/prop_pattern&gt;

</pre><p>&nbsp;Should be a single line of text (though what the allowable length should be is an interesting problem).</p><h2 id="HPropertyvisibility"><span>Property visibility</span></h2><p>&nbsp;The visibility element specifies what access we provide to the property:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;visibility value="hidden | readonly | readwrite"/&gt;
  &lt;/prop_pattern&gt;

</pre><p>&nbsp;Some properties are internal implementation details and should be presented to the user in a configuration setting. Others may merely be read-only. This property lets us declare which. A value of hidden indicates that the property shouldn't be displayed, readonly means that the property isn't intended to be modified, and readwrite indicates the property is modifiable.</p><p>&nbsp;It is important to note that this *is not* a security mechanism, it is solely intended to help prevent the user from shooting himself in the foot, and to remove unnecessary clutter from CLI output or a GUI display.</p><h2 id="HPropertyformat"><span>Property format</span></h2><p>&nbsp;The cardinality and internal_separators elements constrain the structure of a property:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;cardinality value="?"/&gt;
  &lt;internal_separators&gt;,&lt;/internal_separators&gt;
  &lt;/prop_pattern&gt;

</pre><p>cardinality indicates the acceptable number of values (possible values would be non-negative integers, +, ?, and *).</p><p>internal_separators tells us the separators characters used for those property values into which we unfortunately pack multiple real values instead of using multi-value properties, e.g. ignore_on (unnecessarily, sigh), and console-login's ttymon/modules (necessarily, for ordering).</p><h2 id="HValueconstraints"><span>Value constraints</span></h2><p>&nbsp;The constraints element specifies what values are acceptable for a property:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;constraints&gt;
	&lt;value name="blue" /&gt;
	&lt;range min="1" max="7"/&gt;
	&lt;valueset set="terminals"/&gt;
  &lt;/constraints&gt;
  &lt;/prop_pattern&gt;

</pre><p>&nbsp;The value element includes a possible property value. range includes an integer range. valueset includes a system-provided set of values we might not want hard-coded into a manifest (possibly because it's dynamic or large and frequently used) but want service developers to have access to -- e.g. terminals types, error types, projects, restarters, etc.</p><p>value, range, and valueset may be used in any combination, as restricting their use would prohibit many valid descriptions. If no value constraints are specified, the property can take on any value.</p><h2 id="HValuechoices"><span>Value choices</span></h2><p>&nbsp;There is a difference between constraints and choices. For example, we might not want to list all terminal types in the UI, only the most commonly used ones (though we'd want to retain the ability to accept all terminal types, of course). The choices block indicates which values a UI should offer the user:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;choices&gt;
	&lt;range min="1" max="3"/&gt;
	&lt;value name="vt100" /&gt;
	&lt;value name="xterm" /&gt;
	&lt;valueset set="restarters" /&gt;
	&lt;allvalues type="constraints"/&gt;
	&lt;allvalues type="values"/&gt;
  &lt;/choices&gt;
  &lt;/prop_pattern&gt;

</pre><p>range, value, and valueset include ranges, individual values, and value sets like they do for constraints.</p><p>allvalues includes all values specified by either the constraints block or the values block (see next section).</p><h2 id="HValuedescriptions"><span>Value descriptions</span></h2><p>&nbsp;Like property names, the values a property can take on can also have inscrutible representations. The values element contains localized, human-readable descriptions for specific property values:</p><pre>

  &lt;prop_pattern ...&gt;
  &lt;values&gt;
	&lt;value name="blue"&gt;
		&lt;common_name&gt;
			&lt;loctext xml:lang='C'&gt;Blue&lt;/loctext&gt;
		&lt;/common_name&gt;
		&lt;description&gt;
			&lt;loctext xml:lang='C'&gt;
				The color between green and indigo.
			&lt;/loctext&gt;
		&lt;/description&gt;
	&lt;/value&gt;
  &lt;/values&gt;
  &lt;/prop_pattern&gt;

</pre><p>&nbsp;Tying these descriptions to the constraint definitions doesn't make sense, as we may want descriptions for a known subset of an otherwise unbounded property value set. Tying them to the choice definitions also doesn't make sense because the set of things we offer in a UI should be a separate decision from the the set of things we need to, or are willing to, provide extended descriptions for.</p><h2 id="HQuestionsandthoughts"><span>Questions and thoughts</span></h2><p>&nbsp;These definitions borrow the common_name and description elements which were originally defined for use in the top-level template element. These definitions are close to what we are using them for, but not spot on. Should we create new elements specifically for use within the pattern elements?</p><p>&nbsp;Element names have to be globally unique, so some of the common-sense names we'd use in a template description are unavailable, and some of the ones we propose using might need future use elsewhere in a manifest. Though SMF is theoretically one "XML application", should we use a separate namespace for the template elements?</p><p>&nbsp;How exactly should we map these definitions to property group/property names?</p><p>&nbsp;We need to more stringently define how the free-form fields, such as common_name, are to be formatted and used. Guidelines should cover length, content, and capitalization.</p><p>&nbsp;What value sets would be useful?</p><p>&nbsp;The choices mechanism gets into the realm of providing hints that a consumer may or may not choose to follow, and the realm of making guesses as to how consumers are using services. While it is provided based on the premise that multiple consumers could make use of the hint, and that the party most familiar with how the service is going to be configured is the service author, you could also argue that the UI author is in the best position to decide what the user is prepared to see.</p><h2 id="HExample"><span>Example</span></h2><p>&nbsp;We might want to include the following in inetd:default's template section:</p><pre>

  &lt;pg_pattern name="inetd" type="framework" target="delegate" required="true"&gt;
	&lt;prop_pattern name="endpoint_type" type="astring" required="true"&gt;
		&lt;common_name&gt;
			&lt;loctext xml:lang='C'&gt;Endpoint type&lt;/loctext&gt;
		&lt;/common_name&gt;
		&lt;description&gt;
			&lt;loctext xml:lang='C'&gt;The type of endpoint
			    (can be TLI or one of several socket types).
			&lt;/loctext&gt;
		&lt;/description&gt;
		&lt;visibility value="readwrite" /&gt;
		&lt;cardinality value="1" /&gt;
		&lt;values&gt;
			&lt;value name="tli"&gt;
				&lt;common_name&gt;
					&lt;loctext xml:lang='C'&gt;TLI&lt;/loctext&gt;
				&lt;/common_name&gt;
				&lt;description&gt;
					&lt;loctext xml:lang='C'&gt;
						TLI endpoint
					&lt;/loctext&gt;
				&lt;/description&gt;
			&lt;/value&gt;
			&lt;value name="stream"&gt;
				&lt;common_name&gt;
					&lt;loctext xml:lang='C'&gt;Stream&lt;/loctext&gt;
				&lt;/common_name&gt;
				&lt;description&gt;
					&lt;loctext xml:lang='C'&gt;
						Stream socket
					&lt;/loctext&gt;
				&lt;/description&gt;
			&lt;/value&gt;
			&lt;value name="dgram"&gt;
				&lt;common_name&gt;
					&lt;loctext xml:lang='C'&gt;Datagram&lt;/loctext&gt;
				&lt;/common_name&gt;
				&lt;description&gt;
					&lt;loctext xml:lang='C'&gt;
						Datagram socket
					&lt;/loctext&gt;
				&lt;/description&gt;
			&lt;/value&gt;
			&lt;value name="raw"&gt;
				&lt;common_name&gt;
					&lt;loctext xml:lang='C'&gt;Raw&lt;/loctext&gt;
				&lt;/common_name&gt;
				&lt;description&gt;
					&lt;loctext xml:lang='C'&gt;
						Raw socket
					&lt;/loctext&gt;
				&lt;/description&gt;
			&lt;/value&gt;
			&lt;value name="seqpacket"&gt;
				&lt;common_name&gt;
					&lt;loctext xml:lang='C'&gt;Sequenced
					&lt;/loctext&gt;
				&lt;/common_name&gt;
				&lt;description&gt;
					&lt;loctext xml:lang='C'&gt;
						Sequenced packet socket
					&lt;/loctext&gt;
				&lt;/description&gt;
			&lt;/value&gt;
		&lt;/values&gt;
		&lt;constraints&gt;
			&lt;value name="tli" /&gt;
			&lt;value name="stream" /&gt;
			&lt;value name="dgram" /&gt;
			&lt;value name="raw" /&gt;
			&lt;value name="seqpacket" /&gt;
		&lt;/constraints&gt;
		&lt;choices&gt;
			&lt;value name="stream" /&gt;
			&lt;value name="dgram" /&gt;
		&lt;/choices&gt;
	&lt;/prop_pattern&gt;
  &lt;/pg_pattern&gt;

</pre><p>&nbsp;This obviously isn't complete; it only defines a single property.</p><p>&nbsp;The effect of this definition is to:</p><ul><li>require tools creating delegates of inetd:default to include an inetd property group of type framework.</li><li>require that property group to include a endpoint_type property of type astring.</li><li>restrict the property to having 1 value.</li><li>restrict the property's values to tli, stream, dgram, raw, and seqpacket.</li><li>provide human-readable names, so we can improve our CLIs and write GUI's that will say</li></ul><pre>
Endpoint type: Datagram
</pre><p>&nbsp;instead of</p><pre>
inetd/endpoint_type: dgram
</pre><ul><li>suggest to a UI that might offer a pull-down or other selection mechanism that stream and dgram are the most common choices. (This is admittedly a bit contrived; in this case you'd probably want to include them all. It also assumes that you want to let someone modify the property, which you probably wouldn't.)</li></ul><h2 id="HPossibleapplications"><span>Possible applications</span></h2><p>&nbsp;In addition to providing a means to describe the occasional one-off property group, here are some of the larger immediate applications we envision:</p><ul><li>Method definitions for startd and inetd (or any other restarter)</li><li>The inetd property group</li><li>NFS "share group" instances</li><li>Shares within a share group</li><li>Defining a "valid restarters" property</li></ul><h2 id="HInconsistencyinlocalizations"><span>Inconsistency in localizations</span></h2><p>&nbsp;One problem that we need to keep in mind is that of synchronization between the author-delivered manifest and l10n-delivered localized manifests. The C localization should be viewed as authoritative as far as the existence of values and properties is concerned. That is, if a localized manifest provides translations for a value which isn't declared in the base manifest, we should treat the value it as if it doesn't exist and ignore the localization.</p><h2 id="HHigher-leveldirections"><span>Higher-level directions</span></h2><p>&nbsp;Though the above definitions may span multiple instances or services, the annotations only benefit the user once they are looking at a property of some specific service or instance. There is a lot that we could do to help the user understand the relationships between different properties and between different services, find the services they are looking for, or control services in a higher-level fashion that doesn't require knowlege of the internals of the system.</p><p>&nbsp;The ideas which follow are intended as food for thought, not a formal part of the proposal.</p><h3 id="HServicemetadata"><span>Service metadata</span></h3><p>&nbsp;One area we could expand into is providing data which attempts to describe classes of behaviors. For example, we know which port any service which is started by svc:/network/inetd:default listens on. But what about things like Apache and sshd which are stand-alone services? We could provide a means of expressing their use of network ports:</p><pre>

    &lt;metadata&gt;
	  &lt;listens_on port="80"/&gt;
    &lt;/metadata&gt;

</pre><p>&nbsp;or</p><pre>

    &lt;metadata&gt;
	  &lt;listens_on propval="apache/port"/&gt;
    &lt;/metadata&gt;

</pre><p>&nbsp;Another potential piece of metadata would be a pointer to property telling the service to run in local-only mode:</p><pre>

    &lt;metadata&gt;
	  &lt;local_only_switch property="config/local_only" /&gt;
    &lt;/metadata&gt;

</pre><p>&nbsp;Together these could be used to provide an integrated view of what services are running/could run on your system, and an automated way to restrict network access.</p><p>&nbsp;In general, such metadata should be provided in an extensible hierarchy so we could add more as needed.</p><h3 id="HGrouping"><span>Grouping</span></h3><p>&nbsp;In addition to selecting which properties are hidden or writable, a service which provides a large number of properties in several property groups may want to suggest how they could be grouped together visually. This could be expressed as:</p><pre>

    &lt;grouping id="serverside"&gt;
	&lt;description&gt;
		&lt;loctext xml:lang='C'&gt;
			Server-side configuration
		&lt;/loctext&gt;
	&lt;/description&gt;
	&lt;property name="daemon/port" /&gt;
	&lt;property name="daemon/usesll" /&gt;
	&lt;property name="crypto/certloc" /&gt;
    &lt;/grouping&gt;

</pre>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:18<br/>
          </div>
    <div class="xdocLastModification">       Last modified by dep on 2010/03/02 02:19
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Project vpanels Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/Auxiliary+Technologies">Auxiliary Technologies</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/firewall%2Ddesign">Firewall framework</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/templates">Template extensions</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/Screenshots">Screenshots</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/screenshots200805">Screenshots (2008.05)</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/screenshotsancient">Screenshots (ancient)</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/build%2Dinst">OpenSolaris Development</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/faq">FAQs</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+vpanels/install">Installation</a></span></li>
</ul>
                    </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2011, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
