<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Library and Shared Object Requirements (Community Group arc.libraries) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+arc/libraries" />
                    <link rel="canonical" href="/bin/view/Community+Group+arc/libraries" />
                            <meta name="document" content="Community Group arc.libraries"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group arc"/>
    <meta name="page" content="libraries"/>
    <meta name="version" content="5.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+arc/pages/libraries"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Library and Shared Object Requirements" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="Asa Romberger" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group arc";
XWiki.currentPage = "libraries";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+arc/libraries";
window.docediturl = "/bin/edit/Community+Group+arc/libraries";
window.docsaveurl = "/bin/save/Community+Group+arc/libraries";
window.docgeturl = "/bin/get/Community+Group+arc/libraries";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_arc viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Barc%2Flibraries"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+arc/"><strong>Community Group arc</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+arc" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Community+Group+arc/policies'>ARC Policies</a> <span class='separator'>&#187;</span> <span class='current'>Library and Shared Object Requirements</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+arc/libraries?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+arc/libraries?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+arc/libraries?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+arc/libraries?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+arc/libraries?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+arc/libraries?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+arc/libraries?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+arc/libraries?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+arc/libraries?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+arc/libraries?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+arc/libraries?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








                      
<div id="document-title"><h1>Library and Shared Object Requirements</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h1 class='hidden'>Library and Shared Object Requirements</h1><p>Copyright 2006, Sun Microsystems, Inc</p><h3 id="HPolicySynopsis"><span>Policy Synopsis</span></h3><p>Shared objects in Solaris comprise part of its Application Binary Interface (ABI). Sun has explicitly set customer expectations that the Solaris ABI will be stable over time; in particular that applications built on older versions of Solaris will continue to run on newer ones.</p><p>&nbsp;In order to make this work, all library interfaces are expected to follow the versioning guidelines and requirements presented here.</p><h3 id="HContents"><span>Contents</span></h3><ul><li><span class="wikilink"><a href="#HBestPractice">BestPractice</a></span></li><li><span class="wikilink"><a href="#HImplementation">Implementation</a></span></li><li><span class="wikilink"><a href="#HConformance">Conformance</a></span></li><li><span class="wikilink"><a href="#HAppeals">Appeals</a></span></li><li><span class="wikilink"><a href="#HCaseHistory">CaseHistory</a></span></li><li><span class="wikilink"><a href="#HManPages">ManPages</a></span></li><li><span class="wikilink"><a href="#HReferences">References</a></span></li></ul><h3 id="HOverview"><span>Overview</span></h3><table><tr><th scope="col">Category</th><th scope="col">Software</th></tr><tr><td>Owner</td><td>SAC</td></tr><tr><td>Author</td><td>Becky C.</td></tr><tr><td>Changes</td><td>Becky C., Boris C.</td></tr><tr><td>Authority</td><td>SAC</td></tr><tr><td>Policy Version</td><td>1.7</td></tr><tr><td>Status</td><td>Approved 05-June-2002</td></tr><tr><td>Last Reviewed</td><td>05-June-2002</td></tr><tr><td>Effective</td><td>Solaris 2.5.1</td></tr></table><h2 id="HBestPractice"><span>BestPractice</span></h2><ul><li><strong>Applies to</strong> All shared objects intended to be used with Solaris.</li><li><strong>Authority</strong> SAC</li><li><strong>Approval</strong> PSARC 2002/300</li><li><strong>Effective</strong> Solaris 2.5.1</li><li><strong>Policy</strong> All shared objects intended for use on Solaris, whether or not they are delivered as a part of Solaris, or unbundled, must follow the rules enumerated below. In addition, it is strongly advised that the shared objects be free of any of the warnings.</li><li><strong>Details</strong> <br/>&nbsp;Definitions:</li></ul><table><tr><td>libc.so&nbsp;</td><td>A compilation environment name</td></tr><tr><td>libc.so.1&nbsp;</td><td>A versioned filename<br/>&nbsp;This Best Practice is divided into two sections - Errors and Warnings.</td></tr></table><h3 id="HErrors"><span>Errors</span></h3><ul><li>E1 <strong>Version definitions must follow a standard naming convention.</strong><br/>&nbsp;The convention for Solaris Engineers to use for Solaris ABI interface naming is as follows:<ul><li><span class="box code">SUNW_m.n.o</span> <em>Public interface versioning</em></li><li><span class="box code">SUNWprivate_m.n</span> <em>Private interface versioning</em><br/>&nbsp;(where m is the major number, n is the minor number, and o is an optional micro number)</li><li><span class="box code">SUNWprivate</span></li><li><span class="box code">base version name</span><br/><em>base version name</em><br/>&nbsp;In addition, note that non-conforming base version names are often generated by accident when the file itself has an internal identification that differs from the actual filename (See <span class="box code">ld(1) <span style="color: #666666; ">-</span>h</span> option for details).<br/>&nbsp;An example would be a file called nss_files.so.1 in the filesystem, that asserts via its SONAME that it will be called <strong>lib</strong>nss_files.so.1 at runtime. The <span class="box code">pvs <span style="color: #666666; ">-</span>s</span> and <span class="box code">elfdump <span style="color: #666666; ">-</span>d</span> commands can also be used to identify this problem.<br/>&nbsp;A convention for other ABI interface naming would need to use some other naming convention. SUNW* names only apply today to the Solaris ABI.<br/>&nbsp;Note that the Reserved version definition names</li><li>SYSVABI_1.<em>[2|3]</em> and</li><li>SISCD_2.3<em>[a|b]</em> define industry standard interfaces in the System V Interface Definition and the Sparc Compliance Definition, and must not be used for other interfaces. In particular, be careful to not inadvertantly copy/paste these symbols/versions into new libraries where they don't belong.</li></ul></li><li>E2 <strong>A proper inheritance chain must be maintained.</strong><br/>&nbsp;Version inheritance is tracked through the versions file under the <span class="box code">spec<span style="color: #666666; ">/</span></span> subdirectory (See README.spec for details). If a subsequent version set is not incremented properly (i.e., it increments by more that .1 per release of a library), then this results in a malformed inheritance chain. Errors made in the inheritance chain prior to 1.1 will be ignored by intf_check for historical purposes. (See <span class="box code">pvs(1) <span style="color: #666666; ">-</span>d</span> option for details).</li><li>E3 <strong>Public symbols must not be scoped local or removed from a library.</strong><br/>&nbsp;A shared object delivered in a previous software release has made available all its global symbols for others to bind with. Therefore, if a public symbol is removed or scoped local on the current release, applications depending on the removed public interface will break.</li><li>E4 <strong>Public symbols must not be demoted to private.</strong><br/>&nbsp;This is a dangerous practice since a committed public interface has become unusable/unstable.</li><li>E5 <strong>A new symbol must be assigned to the highest version name of its library.</strong><br/>&nbsp;A version definition exists to allow tracking of all intended interfaces offered in a given release of the library. Once the integrity of these version definitions are broken, users of the shared object can no longer track interfaces offered on each software release. Therefore, new symbols must be assigned to the current minor release-level of the library. For new libraries, Public interface versioning begins with SUNW_1.1 while Private interface versioning must be SUNWprivate. If the library already has Private interfaces, they may have numbered version names like SUNWprivate_m.n. If so, just use the highest numbered private version name for the new interface.</li><li>E6 <strong>A symbol must remain assigned to the same version throughout the life of the library.</strong><br/>&nbsp;This version indicates when the symbol was first introduced. If the interface is reassigned to a different version on another release, its history and availability information is lost.</li><li>E7 <strong>The highest version number of a library must not be incremented by more than ".1" between releases.</strong><br/>&nbsp;Since each version definition indicates the interfaces applied to each software release, no more than one version definition should be specified per release of a library. Note that the major revision number is incremented whenever an incompatible change is made to an interface. This could be the case if an API changes so dramatically as to invalidate dependencies. This is expected to rarely occur in practice. Also note that micro version numbers are used as a means of managing the inclusion of a subset of an existing version into a micro release (i.e., update release, feature patch...) When these subset interfaces are introduced to a micro release, the symbol version is incremented by a micro number [m.n.(o++)]<br/>&nbsp;When release N+1 is frozen (at which time it is expected that no more update releases for release N will be produced), the micro versions of "N" must be inherited by the "N+1" release.<br/>&nbsp;For example; the "versions" file for minor release "N+1" to reflect its inclusion of micro release(s) (i.e., m.n.o) will look like the following:</li></ul><table><tr><td>sparc {</td></tr><tr><td> </td><td>SUNW_1.4:&nbsp;</td><td>{SUNW_1.3.2};&nbsp;</td><td># release N+1</td></tr><tr><td> </td><td>SUNW_1.3.2:&nbsp;</td><td>{SUNW_1.3.1};&nbsp;</td><td># micro release 2</td></tr><tr><td> </td><td>SUNW_1.3.1:&nbsp;</td><td>{SUNW_1.3};&nbsp;</td><td># micro release 1</td></tr><tr><td> </td><td>SUNW_1.3:&nbsp;</td><td>{SUNW_1.2};&nbsp;</td><td># release N</td></tr><tr><td> </td><td>SUNW_1.2:&nbsp;</td><td>{SUNW_1.1};&nbsp;</td><td> </td></tr><tr><td> </td><td>SUNW_1.1;&nbsp;</td><td> &nbsp;</td><td> </td></tr><tr><td> </td><td>SUNWprivate_1.1;&nbsp;</td><td> &nbsp;</td><td> </td></tr><tr><td>}</td></tr></table><h3 id="HWarnings"><span>Warnings</span></h3><ul><li>W1 <strong>&nbsp;A shared object should exist with a versioned filename.</strong><br/>&nbsp;A versioned filename commonly takes the form of a .so suffix followed by a version number. For example, /usr/lib/libc.so.1 is the shared object representation of version one of the standard C library made available to the runtime environment. A versioned filename allows for a change in the exported interface of the shared object over a series of software releases.</li><li>W2 <strong>&nbsp;A shared object containing a public interface should have an associated compilation environment name and a SONAME recorded.</strong><br/>&nbsp;Given that a file does exist as a versioned filename, a compilation environment filename must also exist if the shared object offers any public interfaces. This compilation environment name is typically established as a symbolic link to the latest versioned filename. In the compilation environment, this name provides for processing by the link-editor (ld(1) using the -l option, and takes the form of a lib prefix and .so suffix.). For example, libc.so exists as a compilation symlink for the versioned filename libc.so.1.</li><li>W3 <strong>&nbsp;A shared object containing only private interfaces should not deliver an associated compilation environment name.</strong><br/><strong>NOTE</strong> that it may be the case that a compilation environment name exists to simplify the building of other components, however if the versioned filename does not provide a public interface, a compilation environment name may not be required to be provided to external users. Note, if a compilation environment name does exist its SONAME must be recorded.<br/><strong>NOTE</strong> that this check generates an informational WARNING since we do not know whether the compilation environment name will be delivered. Our tool can only check at the level of the build time in the <span class="box code">$ROOT</span> area. Since we do not yet check against a package database yet, this is at best, a heuristic that the compilation symlink is getting delivered with the library.<br/><strong>NOTE</strong> that one instance in which a shared object containing only private interfaces may deliver an associated compilation environment name (and related materials, such as lint libraries and header files) is when the interfaces are to be used by a non-product (likely testing-related) delivery as part of the same project. The existence of such cases is the reason why this rule is just a warning. Databases that need to reference this exception case may refer to 'PSARC 2005/430' without requiring additional ARC review.<br/><strong>NOTE</strong> that any human-readable files (e.g., include files) with private interfaces that can accept comments should have a warning against casual use of those interfaces. However, it is not ARC policy to require any ad-hoc obscuring of interfaces, such as symbol renaming or non-"lib" prefixes, unless a generic scoping mechanism is employed.</li><li>W4 <strong>&nbsp;A shared object should contain interfaces that are versioned.</strong><br/>&nbsp;Versions should be defined within a shared object both to clarify its public or private use, and to explicitly define the interfaces that it makes available. The reduction in object size, and relocation cost created by reducing non-interface symbols to locals is an added bonus.</li><li>W5 <strong>&nbsp;Version definitions should offer at least one interface.</strong><br/>&nbsp;Note there exist some legitimate uses of empty version definitions, as interfaces have been regrouped, and old version definitions must exist to insure backward compatibility. However other empty interface definitions are typically the result of cut-and-paste use within spec files.</li><li>W6 <strong>&nbsp;Private symbols should not be removed or scoped local to a library without careful analysis of dependencies on these interfaces.</strong><br/>&nbsp;Review of your contracts with those who depend on these private interfaces is advised before changing any symbols.</li><li>W7 <strong>&nbsp;A new Public symbol should have a corresponding manpage and a 3lib manpage entry.</strong><br/>&nbsp;If no documentation is available for the interface (i.e., the interface is meant to be private), then this interface should be labeled as SUNWprivate.</li><li>W8 <strong>&nbsp;A committed private (one that is not exposed for use, but is intended to remain stable) interface should not be promoted to public if the transition involves signature changes.</strong><br/>&nbsp;ARC approval is needed to allow such a change.<br/><strong>NOTE</strong> that this is an informational WARNING and is not currently turned on in the tool by default. It is checked here primarily for those interested in tracking interface transitions in update releases. A committed private interface transitioning to public (with a signature change) in an update release can break binary compability, so it should be flagged. However, we have no current method of tracking signature changes with this tool. Therefore, this checking is an option that can be turned on by the individual developers.</li></ul><h2 id="HImplementation"><span>Implementation</span></h2><p>&nbsp;This is a heads up that we have developed an ABI auditing tool which enables Gatekeepers to detect ABI errors immediately as they enter the gate.<br/>&nbsp;In the past, we have found that the most common cause of ABI breakage in the gate has been a lack of understanding the importance of binary compatibility and to a greater extent, the versioning policies that enforce it. This project attempts to not only educate shared object developers and other maintainers of the Solaris ABI by clearly defining the policies and rules in the manpage, but also to provide a tool to detect errors in the gate as they occur.<br/>&nbsp;By arming gatekeepers with this tool, we hope that future breakage in the Solaris ABI can be prevented early on in the development cycle before these errors creep into the product. Currently, we have been running our tool against the on81-gate and the on10-gate, and have already found some alarming errors in the Solaris ABI. (e.g. See bugids 4646563 4420588 etc).<br/>&nbsp;Our tool will be integrated into the SUNWonbld package (as soon as the public build machines can be updated with the newest set of tools). Once integrated, gatekeepers will be able to easily track the ABI through the "-A" flag in the nightly script.<br/>&nbsp;-Boris C and Becky C<br/>&nbsp;Solaris ABI Program</p><h2 id="HConformance"><span>Conformance</span></h2><h2 id="HAppeals"><span>Appeals</span></h2><h2 id="HCaseHistory"><span>CaseHistory</span></h2><table><tr><th scope="col">Case</th><th scope="col">Type</th><th scope="col">Name</th><th scope="col">Comment</th></tr><tr><td><span class="wikiexternallink"><a href="http://arc.opensolaris.org/caselog/PSARC/1995/024">TBD PSARC/1995/014</a></span></td><td>OnePager</td><td>&nbsp;System Library Scoping  </td><td>&nbsp;Version Naming Syntax</td></tr><tr><td><span class="wikiexternallink"><a href="http://arc.opensolaris.org/caselog/PASRC/1998/251">TBD PSARC/1998/251</a></span></td><td>OnePager</td><td>&nbsp;Library Interface Specifications  </td><td>&nbsp;ABI</td></tr><tr><td><span class="wikiexternallink"><a href="http://arc.opensolaris.org/caselog/PSARC/2998/253">TBD PSARC/1998/253</a></span></td><td>OnePager</td><td>&nbsp;abitruss: ABI Trace Utility  </td><td>&nbsp; </td></tr><tr><td><span class="wikiexternallink"><a href="http://arc.opensolaris.org/caselog/PSARC/2000/232">TBD PSARC/2000/232</a></span></td><td>OnePager</td><td>&nbsp;Policies for Solaris Shared Objects  </td><td>&nbsp; </td></tr><tr><td><span class="wikiexternallink"><a href="http://arc.opensolaris.org/caselog/PSARC/2002/300">TBD PSARC/2002/300</a></span></td><td>FastTrack</td><td>&nbsp;Best Practice: Library and Shared Object Requirements  </td><td>&nbsp;Derivations of the rules and warnings found in this Best Practice</td></tr><tr><td><span class="wikiexternallink"><a href="http://arc.opensolaris.org/caselog/PSARC/2005/430">TBD PSARC/2005/430</a></span></td><td>FastTrack</td><td>&nbsp;Library Practice Clarification  </td><td>&nbsp;Common exception case for W3</td></tr></table><h2 id="HManPages"><span>ManPages</span></h2><table><tr><th scope="col">Document</th><th scope="col">Description</th></tr><tr><td>ld.so.1</td><td>Runtime Linker</td></tr><tr><td>ld</td><td>Compile time Linker</td></tr></table><h2 id="HReferences"><span>References</span></h2><p><span class="wikiexternallink"><a href="http://docs.sun.com/app/docs/doc/806-0641?q=%22Linker+and+Libraries+Guide%22&amp;s=t">&nbsp;Linkers and Libraries Guide</a></span></p>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:07<br/>
          </div>
    <div class="xdocLastModification">       Last modified by Asa Romberger on 2010/03/01 22:07
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group arc Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/ARCAgenda">ARCAgenda</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dfaq">FAQ</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dalias%2Dusage">Use of the OpenSolaris aliases</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dfasttrack%2Dhandbook">ARC Fasttrack Handbook</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dlifecycle">When should developers interact with the ARC?</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dproject%2Dsize">What sort of changes need ARC approval?</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dpublish%2Dhistorical%2Dchecklist">How do I publish/request an existing Sun ARC Case?</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dreview%2Dadvice">How to succeed with an Architectural review</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dreview%2Doverview">What is an ARC Review?</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dreview%2Dprep">Planning for the Architectural Review</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dsponsor%2Dhandbook">ARC Fast&#45;Track Sponsor Duties</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/faq%2Dprinciples%2Dfor%2Dchanges">General Principles for Requiring Changes to Projects</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/sun%2Darc%2Dcharter">Announcing the Systems Architecture Process</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dglossary">Glossary</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bestpractices">ARC Best Practices</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Darc%2Dalias%2Dusage">ARC Alias Usage Guidelines</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Darch%2Dcomponents%2Dinterfaces">Architecture = Components + Interfaces</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dcommandlines">Command Lines and arguments</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dconfigfiles">Configuration Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Ddevice%2Ddrivers">Device Drivers</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Denvariables">Environment Variables</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dhardware%2Ddependencies">Hardware Platform Dependencies</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Di18n">Internationalization (I18n)</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dinterfaces">Changes to interfaces</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dinterproject%2Dcompatibility">Inter&#45;Project Compatibility</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dlibraries">Libraries</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dnamespaces">Namespace Management and Conventions</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dos%2Ddependencies">Operating System Compatibility</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dperformance">Performance</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dsignals">Signals</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/bp%2Dstandards">Standards Conformance</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/overview%2Dadmin%2Dsecurity">Administrative and Security Precedents and Policies</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/passwords%2Dcli">Reusable Passwords In Command Line Arguments and Environment Variables</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/passwords%2Dfiles">Storing Reusable Passwords on a Filesystem</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/rbac%2Dauths">Adding RBAC Authorizations</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/rbac%2Dintro">When to use setuid &#45;vs&#45; RBAC roles and profiles</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/rbac%2Dprofiles">Building RBAC Rights Profiles</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/security%2Dquestions">Security Questions</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/caselog">Caselog</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/handbook">ARC Handbook</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Ddev%2Dprocess">ARC Process Proposal</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dgoals">Goals</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dinvite">Introduction to the ARC message for project teams</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/arc%2Dscope">Responsibilities</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/case%2Dpub%2Dtool%2Dinfo">Case Publishing Tool Information</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/consolidation%2Dcharter">Chartering a Consolidation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/contract">Template for interface "contract"</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/onepager">Template for ARC Project creation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/opinion">Template for ARC Opinion</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/questionnaire">10 Questions</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/sun%2Dreviewprocess">Reference: Sun’s current internal ARC process</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/policies">ARC Policies</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/ITS">Install Time Security</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/NITS%2Dpolicy">Network Install&#45;Time Security</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/PAM">Plugable Authentication Modules</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/SMF%2Dpolicy">Service Management Facility (SMF) usage</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/audit%2Dpolicy">Audit Policy</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/fma%2Devent%2Dprotocol">FMA Event Protocol</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/install%2Dlocations">Recommended Installation Locations for Solaris&#45;compatible Software Components</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/interface%2Dtaxonomy">Interface Taxonomy</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/libraries">Library and Shared Object Requirements</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/obsolete%2Deof">Obsolete and the EOF process</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/release%2Dtaxonomy">Release Taxonomy</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/secure%2Dby%2Ddefault">Secure &#45; By Default</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/shared%2Dsharable">Packaging rules for system extensions (Shared and sharable components)</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/projects">Projects</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/testbed">Testing area for automated scripts</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/Developers">OpenSolaris Developers</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/Distros">OpenSolaris Distros</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+arc/Users">OpenSolaris Users</a></span></li>
</ul></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
