<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Profile: DTrace (Community Group advocacy.dtrace-team-profile) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+advocacy/dtrace%2Dteam%2Dprofile" />
                    <link rel="canonical" href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile" />
                            <meta name="document" content="Community Group advocacy.dtrace-team-profile"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group advocacy"/>
    <meta name="page" content="dtrace-team-profile"/>
    <meta name="version" content="1.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+advocacy/pages/dtrace-team-profile"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Profile: DTrace" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="admin" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group advocacy";
XWiki.currentPage = "dtrace-team-profile";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile";
window.docediturl = "/bin/edit/Community+Group+advocacy/dtrace%2Dteam%2Dprofile";
window.docsaveurl = "/bin/save/Community+Group+advocacy/dtrace%2Dteam%2Dprofile";
window.docgeturl = "/bin/get/Community+Group+advocacy/dtrace%2Dteam%2Dprofile";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_advocacy viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Badvocacy%2Fdtrace%252Dteam%252Dprofile"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+advocacy/"><strong>Community Group advocacy</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+advocacy" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Community+Group+advocacy/articles'>Articles</a> <span class='separator'>&#187;</span> <span class='current'>Profile: DTrace</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          <span class="submenuitem "><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile?xpage=copy" id="tmActionCopy" class="tmActionCopy">Copy</a></span>
      </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>Profile: DTrace</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h1 id="HProfile:TheTeamBehindDTrace"><span>Profile: The Team Behind DTrace</span></h1><h3 id="Hbychromatic"><span>by chromatic</span></h3><p>June 10, 2005</p><p>One of the most powerful and eagerly anticipated features of Solaris 10 is DTrace. It's useful for administrators and developers to profile and debug applications. The DTrace team is <span class="wikiexternallink"><a href="http://blogs.sun.com/bmc/">Bryan Cantrill</a></span>, <span class="wikiexternallink"><a href="http://blogs.sun.com/ahl">Adam Leventhal</a></span>, and <span class="wikiexternallink"><a href="http://blogs.sun.com/mws">Mike Shapiro</a></span>. Recently, OpenSolaris.org interviewed the team about DTrace, its history, and its future.</p><p><strong>Where did the idea of DTrace come from? Profiling is an old idea and instrumenting code isn't new, but I find your work plenty amazing.</strong></p><p><strong>Bryan Cantrill:</strong> Actually, dynamically instrumenting production systems is new with DTrace: no other system for dynamic instrumentation views safety as an absolute, non-negotiable constraint. For a more specific review of prior work, see <span class="wikiexternallink"><a href="http://www.sun.com/bigadmin/content/dtrace/dtrace_usenix.pdf">our USENIX paper (on DTrace)</a></span>.</p><p>The origins of DTrace reach back nearly a decade, when Mike and I were both undergraduates at Brown. In a conversation with my advisor in 1996, I asked him why systems didn't support dynamic instrumentation--and I sketched out for him some of the very early ideas for what would become DTrace. His response was that if such a thing were possible, it would have been done already--and that the techniques I was suggesting must not work for some reason. I couldn't see why the ideas wouldn't work, but I didn't question that there was something I was missing. Later that year, when interviewing with the Solaris Kernel Development group at Sun, I posed the same question to Solaris engineer Jeff Bonwick (now the lead engineer on ZFS). Jeff responded that he couldn't see why it wouldn't work, and that it seemed like a good idea. That was the moment that I knew I wanted to come to Sun: there was (and is) an idea that nothing was impossible simply because it hadn't been done before.</p><p>The next year, Mike (who had stayed at Brown for a master's degree) joined Solaris Kernel Development, and we began to talk actively about DTrace. In talking about it, we realized that there were more pressing problems in Solaris; at least for the moment, DTrace was shelved. But as the years went on, Mike and I continued to think about DTrace, and we began to have a clearer and clearer vision for what we wanted DTrace to become. This vision came purely out of experience: when we muddled through a tough system performance problem, or tried to debug some nasty transient condition, we envisioned a framework that would let us understand the problem in minutes instead of hours. It got to the point where one of us would say to the other "damn, I really needed DTrace today"--which is a little absurd given that we didn't have so much as line of code for this supposed miracle tool! (Worse, when others were complaining about the difficulty in tracking down some problem or another, one of us would chime in with "you know, DTrace solves that problem ...") By 1999, we knew we had to start formally thinking about DTrace. Various crises intervened, however, and it wasn't until the fall of 2001 that we were able to finally start working on it. By the spring of 2002, we had a prototype that was exciting enough to prove that our ideas had merit, but we also realized that we had bitten off more than we might be able to chew. We asked Adam--a promising young engineer who had joined Sun in 2001 (also, as it happens, from Brown)--to join the team as the third engineer, and the three of us have been working more or less full-time on it ever since.</p><p><strong>What <em>can't</em> you do with DTrace right now? (It's okay to say "It's really hard to run it on itself, but everything else is fair game.")</strong></p><p><strong>BC:</strong> DTrace can't currently instrument languages that have dynamic program text: Java, Python, Perl, PHP, etc. This is not an easy problem to solve: these languages have not been designed or implemented with dynamic instrumentation in mind, and the techniques required to instrument them are often very specific to a particular language and its run-time environment. Solving this problem still lies in the indefinite future for us--the next year or so will be spent evolving our existing functionality--but we very much intend to solve it.</p><p><strong>In what sense is this difficult?</strong></p><p><strong>BC:</strong> In what sense is this <em>not</em> difficult?</p><p><strong>I'm curious if you mean that instrumenting JITted code from the JVM or Parrot is difficult, or if the granularity of ops in Perl, Python, or PHP is too high above processor instructions to do much good.</strong></p><p><strong>BC:</strong> Both. Instrumenting JITted code is difficult because the virtual machine needs to know what you're up to at some level--even if only enough to know to leave your instrumentation alone. Once the code is instrumented, the granularity of operations makes it difficult to tie that instrumentation back to something meaningful. To give you a simple, concrete example: Perl 5 doesn't associate line numbers with parse tree nodes unless it is explicitly started in an explicit debugging mode. By discarding that information, Perl makes it very difficult to [connect] Perl-induced system activity (I/O, CPU utilization, network activity, etc.) to the specific body of Perl that is inducing it. Programs written in C and C++ generally discard their debugging information too, but these languages are so much closer to the operating system and the underlying microprocessor that we can generally still draw meaningful inferences. Not so for Perl, Java, Python, PHP, etc.</p><p><strong>What do you have in mind to solve it?</strong></p><p>BC: We're still getting a grip on the problem. We know that the instrumentation techniques will be VM-specific, and that any mechanism for getting at higher-level data will also be VM-specific. Given the high level of VM specificity, Parrot is clearly attractive to us: because Parrot can run multiple languages, we'll get quite a bit of leverage by extending just Parrot to become a DTrace provider.</p><p><strong>So even in the case where Parrot, for example, supports both high-granularity behavior thanks to its opcodes hiding a lot of complexity under the hood and JITting to platform-specific code, there's still a lot of distance between the high-level language and the code the processor accesses and that's what makes this difficult?</strong></p><p><strong>Mike Shapiro:</strong> There are basically two categories of issues, as Bryan mentioned: one is that in a VM environment program instructions are either dynamically created and destroyed (i.e., a JIT) or they are simply data that the VM itself acts on (i.e., an interpreter). Some VMs do a mixture of both. So for issue #1, we can't just blithely and generically hot-instrument code from DTrace (as we do for kernel and user processes at the ABI level); we must explicitly interface with a VM and have it act as our proxy when we wish to instrument something.</p><p>The second area of challenge is relating the language-specific details of the VM (e.g., a Perl line number, or a Java class file, line number, and/or method name, etc.) to the user of DTrace in an appropriate fashion. As every VM is implementing some language with differing semantics and constructs, we need to both be able to retrieve relevant information (e.g., the line number example that Bryan gives) and also present some unified model for those semantics to users of DTrace. That is a hard design problem. To put it another way, DTrace can't export the union of all known languages: it has to provide some underlying simplified abstractions that don't require DTrace to be revised every time someone implements a new language on top of Parrot.</p><p><strong>Does it help that Parrot works on pcode (or bytecode, colloquially) rather than optrees, or is the hard work not on where to put the instrumentation?</strong></p><p><strong>MS:</strong> The VM needs to either put it in the instrumentation or tell us where to do so, as we discussed above. But that requires the ability for a user of DTrace to specify a semantic location in a way that is meaningful to someone using the language that Parrot is executing.</p><p><strong>BC:</strong> But as I said earlier, we've got plenty of work to do just fleshing out what we've already got; it's going to be another nine months before we start thinking about this in earnest.</p><p><strong>How has the rest of the Solaris team reacted to DTrace? Is there good uptake?</strong></p><p>BC: Oh yes. When you develop a tool that allows people to do their jobs orders of magnitudes faster, you find that you have to do very little in the way of explicit evangelizing. By the time we integrated DTrace into Solaris, we had hundreds of users inside of Sun using our prototype as part of their day-to-day work--and our prototype was even being used to run portions of Sun's production infrastructure! In fact, some projects viewed DTrace as so essential that they based their project gate off of our project gate--which is to say that their project was not a child of Solaris, but rather a child of DTrace (which was itself a child of Solaris). It's hard to imagine a stronger vote of confidence from one's peers.</p><p><strong>Do you find yourself giving informal tutorials in the hallways and in conference rooms?</strong></p><p><strong>BC:</strong> We found that the best tutorials were the bug reports in which we had used DTrace to solve an actual problem. This showed people how to use DTrace--and made it clear that DTrace could be used to solve real problems. From this, a core group of users formed, and as the number of users increased, these savvier and more experienced users helped the new ones. In fact, the first piece of comprehensive DTrace documentation was not written by us (we were too busy implementing new features and fixing older ones!) but rather by one of our users.</p><p><strong>What's the inspiration for the user-level syntax? It looks a bit like XPath to me.</strong></p><p><strong>BC:</strong> I suppose the probe description syntax looks a little like XPath (if only because we use the colon as a delimiter), but the inspiration is much more old school: C and <span class="box code">awk</span>.</p><p><strong>One of the problems I've seen in VMs is that JIT is running into operating systems that wisely mark some pages as read-but-do-not-execute. Have you encountered this?</strong></p><p><strong>MS:</strong> That is either a bug in an OS or a bug in a JIT. On Solaris, if a process wishes to dynamically generate machine code and execute it, it needs to call the <span class="box code">mmap(3C)</span> or <span class="box code">mprotect(3C)</span> interfaces and specify <span class="box code">PROT_EXEC</span> to tell the kernel that executable instructions will be put there. Some old UNIX programs assumed implicitly that the stack or data segments were executable, which has conflicted with recent security trends like making stacks non-executable to limit buffer overflow attacks. In any case, these issues don't affect DTrace and are just artifacts of certain JIT implementations.</p><p><strong>What's next for DTrace?</strong></p><p><strong>BC:</strong>Currently, to use DTrace most effectively, one must often have at least passing familiarity with the application being instrumented. We have addressed this problem in the kernel by introducing providers with stable semantics: the <span class="box code">io</span> provider makes available probes relating to I/O, the <span class="box code">sched</span> provider makes available probes relating to CPU scheduling, and so on. So the most immediate future direction for DTrace is the mechanism that will allow applications to export their own providers with stable semantics. This will allow the system to be instrumented in ways that reflect the system's semantics, allowing one to tie together activity in an application (say, the start of a database transaction) with activity elsewhere in the system (say, the I/O induced by that transaction) without having to know the implementation of either the database or the operating system.</p><p>In the more indefinite future, we want to expand DTrace to those parts of the system that are not currently instrumentable with DTrace. As long as there's an answer to your question about "what can't you do with DTrace," we're not done.</p><p><strong>What responses and feedback have you received after the January release of the DTrace source code?</strong></p><p><strong>BC:</strong> I don't think too many have read the DTrace source per se--I think people (rightly) view it primarily as an expression of the seriousness of our intention to open source Solaris.</p><p><strong>Do you have other ideas in mind after DTrace, or is this your current long-term project for the time being?</strong></p><p><strong>BC:</strong> Yes. <img src="/resources/icons/silk/emoticon_wink.gif" class="wikimodel-freestanding" alt="emoticon_wink"/></p><p><strong>What do you have in mind after DTrace, if anything?</strong></p><p><strong>BC:</strong> My answer was actually accurate, if flip: we definitely have other ideas in mind after DTrace (we are always harboring ideas--small and large--on how to improve the system), but for the time being our current project is DTrace. There is enough left to do in DTrace to keep us busy for at least another couple of years; after that ... we'll keep you posted.</p><p><span class="wikiexternallink"><a href="http://www.oreillynet.com/pub/au/176">chromatic</a></span> is the technical editor of the O'Reilly Network.</p>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:07<br/>
          </div>
    <div class="xdocLastModification">       Last modified by admin on 2009/10/26 12:07
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group advocacy Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/articles">Articles</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/christensen%2Dprofile">Profile: Christensen</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/dtrace%2Dteam%2Dprofile">Profile: DTrace</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/intro%2Dsolaris%2Ddrivers">Solaris Drivers</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/schilling%2Dprofile">Profile: Schilling</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/solaris%2Ddriver%2Dprogramming">Driver Programming</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/solaris%2Dlinux%2Dfreebsd">Solaris, Linux, BSD</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/solaris%2Dx86%2Dnotebooks">Solaris on Notebooks</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/teer%2Dprofile">Profile: Teer</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/tucker%2Dprofile">Profile: Tucker</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/using%2Dvmware">OpenSolaris & VMWare</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/buttons">Fan Buttons</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/marketing">Marketing</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/articles%2Dvideos%2Dstuff">Articles and Videos</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/buy%2Dswag">OpenSolaris Swag</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/contributoraward">Contributor Awards</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/help">How you can help</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/highlights">Marketing Highlights</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/homepagegraphics">Graphics July 2006</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/immigrants">Immigrants</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/mktg%2Dannouncements">Marketing Announces</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/mktgdownloads">OpenSolaris Artwork</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/merger%2Darchive">Merger Archive</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/newsletter">Newsletter Archive</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/0405">2004&#45;2005</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/2006">2006</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/2007">2007</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/2008">2008</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/2009">2009</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/os%2Dpresentations">OSUG Presentations</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/techdays%2Darchive%2D06%2D07">Tech Days 06&#45;07</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/techdays%2Darchive%2D07%2D08">Tech Days 07&#45;08</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/ug%2Dleaders">User Group Leaders</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+advocacy/usergroups">User Group Background</a></span></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
