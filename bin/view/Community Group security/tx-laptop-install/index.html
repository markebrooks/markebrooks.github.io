<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Installing the Solaris Trusted Extensions Software on a Laptop Computer (Community Group security.tx-laptop-install) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+security/tx%2Dlaptop%2Dinstall" />
                    <link rel="canonical" href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall" />
                            <meta name="document" content="Community Group security.tx-laptop-install"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group security"/>
    <meta name="page" content="tx-laptop-install"/>
    <meta name="version" content="3.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+security/pages/tx-laptop-install"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Installing the Solaris Trusted Extensions Software on a Laptop Computer" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="admin" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group security";
XWiki.currentPage = "tx-laptop-install";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall";
window.docediturl = "/bin/edit/Community+Group+security/tx%2Dlaptop%2Dinstall";
window.docsaveurl = "/bin/save/Community+Group+security/tx%2Dlaptop%2Dinstall";
window.docgeturl = "/bin/get/Community+Group+security/tx%2Dlaptop%2Dinstall";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_security viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Bsecurity%2Ftx%252Dlaptop%252Dinstall"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+security/"><strong>Community Group security</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+security" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                                          <a href='/bin/view/Community+Group+security/projects'>Community Projects</a> <span class='separator'>&#187;</span> <a href='/bin/view/Community+Group+security/tx'>Trusted Extensions</a> <span class='separator'>&#187;</span> <span class='current'>Installing the Solaris Trusted Extensions Software on a Laptop Computer</span>
                      </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+security/tx%2Dlaptop%2Dinstall?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+security/tx%2Dlaptop%2Dinstall?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+security/tx%2Dlaptop%2Dinstall?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          <span class="submenuitem "><a href="/bin/view/Community+Group+security/tx%2Dlaptop%2Dinstall?xpage=copy" id="tmActionCopy" class="tmActionCopy">Copy</a></span>
      </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








                      
<div id="document-title"><h1>Installing the Solaris Trusted Extensions Software on a Laptop Computer</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h2 class='hidden'>Installing the Solaris Trusted Extensions Software on a Laptop Computer</h2><p>These instructions describe how to enable and configure a laptop system with the Solaris[tm] Trusted Extensions software to run in both connected and disconnected modes. These directions do not apply to previous Solaris 10 updates, nor to opensolaris.2008.05. Instructions for an upcoming opensolaris version will be available soon. The Solaris Trusted Extensions software is automatically installed beginning with the release of the Solaris 10 05/08 (update 5) Operating System and in Nevada builds starting with 76.</p><p>This page includes the following tasks, which should be followed in this order:</p><ul><li><span class="wikilink"><a href="#InstallSolaris">How to Install and Configure the Solaris Operating System</a></span></li><li><span class="wikilink"><a href="#EnableTX">How to Enable the Solaris Trusted Extensions Software</a></span></li><li><span class="wikilink"><a href="#ConfigureTX">How to Configure Your Trusted Extensions System</a></span></li><li><span class="wikilink"><a href="#CreateZones">How to Create the Labeled Zones</a></span></li><li><span class="wikilink"><a href="#InstallConfigureInetmenu">How to Install and Use inetmenu</a></span></li><li><span class="wikilink"><a href="#ConfigureNWAM">How to Configure Network AutoMagic</a></span></li><li><span class="wikilink"><a href="#RunTXNormalUser">How to Run Trusted Extensions as a Normal User</a></span></li></ul><h3 id="HHowtoInstallandConfiguretheSolarisOperatingSystem"><span>How to Install and Configure the Solaris Operating System</span></h3><ol><li>Start the Solaris installation process by booting a Solaris DVD or booting from the network.</li><li>Follow the instructions in the installation wizard to build the installation profile.<br/>Use the default values to build the profile.<br/><strong>Note -</strong> You must reserve a file system slice that has at least 2 Gbytes of free space and call it /zone.</li><li>Install the Solaris software.</li><li>After the Solaris installation completes, use the /zone slice to create a ZFS pool by doing the following:<ol><li>Unmount the /zone slice.<br/># <strong>umount /zone</strong></li><li>Edit the /etc/vfstab file by commenting out the /zone entry.</li><li>Create the pool.<br/># <strong>zpool create -f zone</strong> <em>slicename</em><br/><em>slicename</em> should be of the format c<em>n</em>d<em>n</em>s<em>n</em>.</li></ol></li><li>This configuration uses a single shared all-zones interface for both the global zones and labeled zones. The default network label is PUBLIC unless you are connecting to the Sun Wide Area Network.<br/>The networking configuration steps are different for Solaris 10 updates and for Nevada. For Solaris 10 you will use an application called inetmenu, to manually select your networking options. Nevada includes a service called Network AutoMagic, nwam which automatically handles changes to your wired or wireless network.<br/><strong>If you are running Solaris 10 update 5</strong>, follow these instructions:<ol><li>Create a directory called /opt/tx in which to download the inetmenu package and its Trusted Extensions modifications.<br/><strong>Caution -</strong> Do <em>not</em> install these packages or modifications at this time.</li><li>Download the inetmenu package from the Laptop Community page on the OpenSolaris web site.<br/>The file is called <span class="wikicreatelink"><a href="/bin/create/Community+Group+laptop.inetmenu%2D1.9.pkg/gz?parent=Community+Group+security.tx%2Dlaptop%2Dinstall">inetmenu-1.9.pkg.gz</a></span>.<br/><strong>Caution -</strong> The inetmenu program might be replaced with another utility in the future.</li><li>Download the inetmenu modifications from the Trusted Extensions page on the OpenSolaris web site.<br/>These modifications enable the inetmenu script to operate properly on a system that runs the Solaris Trusted Extensions software.<br/>The file is called <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Community+Group+security/tx-laptop-install/inetmenu-tx.tar">inetmenu-tx.tar</a></span>.</li><li>Remove any network interface configuration files, such as /etc/hostname.* and /etc/dhcp.*.<br/># <strong>rm /etc/hostname.</strong>*<br/>&nbsp;# <strong>rm /etc/dhcp.</strong>*</li><li>Update your /etc/hosts and /etc/inet/ipnodes as follows:<br/>127.0.0.1 localhost loghost<br/>&nbsp;10.1.2.3 <em>your-hostname</em></li><li>Create the /etc/nodename file.<br/># <strong>hostname &gt;/etc/nodename</strong></li><li>Add the following entry to the /etc/security/tsol/tnrhdb file:<br/>10.1.2.3:cipso</li><li>Specify the virtual network interface (vni) for your system by adding the following to the /etc/hostname.vni0 file.<br/># <strong>echo `hostname` all-zones &gt;&gt;/etc/hostname.vni0</strong><br/>For more information, see the vni(7) man page.</li><li>Add the following to the LOCAL DEFINITIONS section of the /etc/security/tsol/label_encodings file.<br/>Default Label View is Internal;<br/>This step addresses a problem with the default translation mode for the admin_low and admin_high labels.</li><li>(Optional) If your system has NIS enabled, disable it by doing the following:<br/># <strong>cp /etc/nsswitch.files /etc/nsswitch.conf</strong><br/>&nbsp;# <strong>mv /var/yp /var/yp.save</strong><br/><strong>If you are running a Nevada build</strong>, follow these instructions:</li><li>Download the tx-nwam scripts from <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Community+Group+security/tx-laptop-install/tx-nwam.tar">tx-nam.tar</a></span> to the directory /etc/nwam. Don't extract the tarball yet.</li><li>Edit the file /usr/dt/config/Xinitrc.tjds, to explicitly set the DISPLAY variable prior to invoking gnome-session<br/><strong>DISPLAY=localhost:0</strong><br/><strong>export DISPLAY</strong><br/><strong>PATH=/usr/bin:/usr/sbin:/usr/openwin/bin:/usr/X11/bin:/usr/dt/bin:/usr/sfw/bin</strong><br/>The DISPLAY setting is required because of recent changes (build 85) in Xlib which no longer use TCP sockets if the DISPLAY hostname matches the string returned by the hostname command. The PATH setting is suggested as a convenience, especially when assuming roles.</li></ol></li></ol><h3 id="HHowtoEnabletheSolarisTrustedExtensionsSoftware"><span>How to Enable the Solaris Trusted Extensions Software</span></h3><ol><li><ol><li>To enable Trusted Extensions, run the following command:<br/><strong>svcadm enable -s labeld</strong></li><li>Reboot the system.<br/>When the reboot completes, the system is running the Solaris Trusted Extensions software.</li></ol></li></ol><h3 id="HHowtoConfigureYourTrustedExtensionsSystem"><span>How to Configure Your Trusted Extensions System</span></h3><ol><li><ol><li>Log in to Trusted Extensions JDS (GNOME) as superuser.</li><li>Open a terminal window.</li><li>Get the network interface status.<br/># <strong>ifconfig -a</strong><br/>Verify that you have at least one all-zones interface.<br/>If you are running Solaris 10 update 5, you should see that the IP address for the vni0 interface is the same as the one you specified in the hosts and ipnodes files. Also, the vni0 interface should include the all-zones option.<br/>If you are running Nevada, you should see that lo0, the loopback interface, is all-zones.</li><li>Start the Solaris Management Console.<br/># <strong>smc &amp;</strong><ol><li>From the Toolboxes menu, select the entry for your system that shows Scope=Files, Policy=TSOL.</li><li>Click Open.</li></ol></li><li>Add yourself as a normal user.<ol><li>From the Navigation bar, select System Configuration, and then double-click the Users icon.<br/>The login window opens.</li><li>Log in as root.</li><li>Click User Accounts, and then select Add User With Wizard from the Action menu.<br/>Follow the instructions to add the user.</li></ol></li><li>After your account is created, double click your user icon to modify settings.<ol><li>(Optional) If you are going to be doing demonstrations, open the Rights tab and add these rights:<br/>111* Object Label Management<br/>111* Device Management</li><li>Open the Trusted Extensions Attributes tab and modify these items:<ol><li>Set the Clearance value to CONFIDENTIAL RESTRICTED.</li><li>Set the Lock Account After Maximum Failed Logins value to No.</li><li>Set the Idle Time value to Forever.</li><li>Click OK.</li></ol></li></ol></li><li>Edit the /etc/user_attr file to append the following to your user entry:<br/>;roles=root<br/>This step is a temporary workaround until you have verified that your system is working correctly. At that time, you should configure root as a role.</li><li>Create security templates for the public and internal zones.<ol><li>From the Navigation bar, select System Configuration, and then double-click the Computers and Networks icon.</li><li>Click Security Templates, and then choose Add Template from the Action menu.</li><li>Specify the template name as public.</li><li>Set the default label to PUBLIC.</li><li>Set the Domain of Interpretation value to 1.</li><li>Click OK.</li><li>Choose Add Template from the Action menu.</li><li>Specify the template name as internal.</li><li>Set the default label to CONFIDENTIAL : INTERNAL USER ONLY.</li><li>Set the Domain of Interpretation value to 1.</li><li>Click OK.</li></ol></li><li>Manually update the kernel cache with trusted networking parameter values.<br/># <strong>tnctl -T /etc/security/tsol/tnrhtp</strong></li><li>Exit the Solaris Management Console.</li></ol></li></ol><h3 id="HHowtoCreatetheLabeledZones"><span>How to Create the Labeled Zones</span></h3><ol><li><ol><li>Run the txzonemgr script and follow each of these steps.<br/><strong>Note -</strong> You must click OK each time to continue.</li><li>Create a new zone called public.<ol><li>Select Create A New Zone and click OK.</li><li>Specify the zone name of public.</li><li>Choose Select_Label and click OK.</li><li>Choose PUBLIC.</li><li>Choose Install to install the public zone.<br/>A window opens to show you the progress of the zone installation process.</li><li>Choose Zone_Console to open the zone console window.</li><li>Choose Boot to boot the zone.<br/>The public zone is rebooted automatically.<br/>The public zone will reboot again automatically.</li></ol></li><li>From the zone terminal console window, log in as superuser and run the following commands:<br/>11* Run these commands on a Solaris 10 system:<br/># <strong>rm /etc/auto_home_public</strong><br/>&nbsp;# <strong>netservices limited</strong><br/>&nbsp;# <strong>svcadm disable auditd</strong><br/>&nbsp;# <strong>svcadm disable cde-login</strong><br/>&nbsp;# <strong>exit</strong><br/>11* Run these commands on a Nevada system:<br/># <strong>rm /etc/auto_home_public</strong><br/>&nbsp;# <strong>svcadm disable auditd</strong><br/>&nbsp;# <strong>svcadm disable cde-login</strong><br/>&nbsp;# <strong>exit</strong></li><li>From txzonemgr, create the internal, needtoknow, and restricted zones.<ol><li>Choose Halt to halt the public zone.</li><li>Choose Create_Snapshot to create a snapshot of the public zone.</li><li>Choose Boot to boot the public zone.</li><li>Choose Select Another Zone and click OK.</li><li>Choose Create A New Zone and click OK.</li><li>Name the new zone internal.</li><li>Choose Select_Label and specify a value of CONFIDENTIAL : INTERNAL USE ONLY.</li><li>Choose Clone and select zone/public@snapshot.</li><li>Choose Zone_Console to open the zone console for the new zone.</li><li>Choose Boot to boot the new zone.</li><li>Repeat Steps d-j for the needtoknow and restricted zones, which use labels CONFIDENTIAL : NEED TO KNOW and CONFIDENTIAL : RESTRICTED, respectively.</li><li>Choose Exit to exit the txzonemgr program.</li></ol></li></ol></li></ol><h3 id="HHowtoInstallandUseinetmenuIfyouarerunningSolaris10update52CyoushouldhavedownloadedthesefilesfromtheOpenSolariswebsitetothe2Fopt2Ftxdirectoryofthelaptopyouareinstalling:12Ainetmenu-1.9.pkg.gz12Ainetmenu-tx.tarCaution-Theinetmenuprogrammightbereplacedwithanotherutilityinthefuture."><span>How to Install and Use inetmenu<br/>If you are running Solaris 10 update 5, you should have downloaded these files from the OpenSolaris web site to the /opt/tx directory of the laptop you are installing:<br/>1* inetmenu-1.9.pkg.gz<br/>1* inetmenu-tx.tar<br/><strong>Caution -</strong> The inetmenu program might be replaced with another utility in the future.</span></h3><ol><li><ol><li>Become superuser.</li><li>Change to the /opt/tx directory.</li><li>Unzip and install the inetmenu software.<br/># <strong>gunzip inetmenu-1.9.pkg.gz</strong><br/>&nbsp;# <strong>pkgadd -d inetmenu-1.9.pkg</strong></li><li>Apply the Trusted Extensions modifications to inetmenu.<br/># <strong>cd /; tar xvf /opt/tx/inetmenu-tx.tar</strong></li><li>Run inetmenu.<br/># <strong>inetmenu</strong></li><li>Select the DHCP-NoNIS option.<br/>Now, your network should be up with PUBLIC as the default label. You can run txzonemgr to verify that it is all-zones.</li></ol></li></ol><h3 id="HHowtoConfigureandUsenwamIfyouarerunningNevada2CyoushouldhavedownloadedthenwamscriptsfromtheOpenSolariswebsitetothe2Fetc2Fnwamdirectoryofthelaptopyouareinstalling.Extractthemasfollows:23cd2Fetc2Fnwam3Btarxvftx-nwam.tarnwamulp2Fcheck-conditionsINTERNAL_DOMAINsun.comINTERNAL_DOMAINinternalpublicNoweditthefile2Fetc2Fhostsandaddthefollowingentry:127.0.0.2mynfsTheinterfaceassociatedwithmynfswillbeprivatetotheglobalzone2Cbutwillbeaccessiblefromalllabeledzones.ItcanbeusedtoshareNFSmountsbetweenzones.SeetheAdministrator27sGuideformoreinformation."><span>How to Configure and Use nwam<br/>If you are running Nevada, you should have downloaded the nwam scripts from the OpenSolaris web site to the /etc/nwam directory of the laptop you are installing. Extract them as follows:<br/># <strong>cd /etc/nwam; tar xvf tx-nwam.tar</strong><br/>nwamulp/check-conditionsINTERNAL_DOMAINsun.comINTERNAL_DOMAINinternalpublic<br/>Now edit the file /etc/hosts and add the following entry:<br/><strong>127.0.0.2 mynfs&nbsp;</strong><br/>The interface associated with mynfs will be private to the global zone, but will be accessible from all labeled zones. It can be used to share NFS mounts between zones. See the <span class="wikiexternallink"><a href="http://docs.sun.com/app/docs/doc/819-7309/txconf-43?a=view">Administrator's Guide</a></span> for more information.</span></h3><h3 id="HHowtoRunTrustedExtensionsasaNormalUserFormostusers2Cthepubliczoneshouldprovidenetworkconnectivity.However2CifyouareconnectedtotheSunWideAreaNetwork2CthedefaultlabelisCONFIDENTIAL:INTERNALUSEONLY2Csoyoumustusetheinternalzone."><span>How to Run Trusted Extensions as a Normal User<br/>For most users, the public zone should provide network connectivity. However, if you are connected to the Sun Wide Area Network, the default label is CONFIDENTIAL : INTERNAL USE ONLY, so you must use the internal zone.</span></h3><ol><li><ol><li>Log out as superuser.</li><li>Log in as yourself.<br/>Choose the windowing system to use: Trusted Extensions CDE or Trusted Extensions Java[tm] Desktop System. CDE is no longer available in Nevada.</li><li>Verify that you can assume the root role.<br/>You will need to assume this role to run inetmenu.</li></ol></li></ol>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:10<br/>
          </div>
    <div class="xdocLastModification">       Last modified by admin on 2009/10/26 12:30
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group security Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/library">Library</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/long_usernames">Username length</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/secprog">Secure Programming</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/preso">Presentations</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/projects">Community Projects</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/SSH">SSH</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/audit">Auditing</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/ef">Cryptographic Framework</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/gsoc2006">Basic File Privs</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/java">Java</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/kerberos">Kerberos</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/pam">Pluggable Authentication Module</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/privdebug">Privilege Debugging</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/rbac">RBAC &#45; Role Based Access Control</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/sbd">Secure By Default</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/tx">Trusted Extensions</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+security/txzonemgr_test_plan">Test Plan for txzonemgr</a></span></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
