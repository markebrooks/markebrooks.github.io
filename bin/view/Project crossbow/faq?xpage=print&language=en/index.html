<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>FAQ (Project crossbow.faq) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Project+crossbow/faq" />
                    <link rel="canonical" href="/bin/view/Project+crossbow/faq" />
                            <meta name="document" content="Project crossbow.faq"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Project crossbow"/>
    <meta name="page" content="faq"/>
    <meta name="version" content="1.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Project+crossbow/pages/faq"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="FAQ" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="admin" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="all" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Project crossbow";
XWiki.currentPage = "faq";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Project+crossbow/faq";
window.docediturl = "/bin/edit/Project+crossbow/faq";
window.docsaveurl = "/bin/save/Project+crossbow/faq";
window.docgeturl = "/bin/get/Project+crossbow/faq";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Project_crossbow viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FProject%2Bcrossbow%2Ffaq%3Fxpage%3Dprint%26%2338%3Blanguage%3Den"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+crossbow/"><strong>Project crossbow</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Project+crossbow" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                  <span class='current'>FAQ</span>
          </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Project+crossbow/faq?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Project+crossbow/faq?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+crossbow/faq?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+crossbow/faq?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+crossbow/faq?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Project+crossbow/faq?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+crossbow/faq?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+crossbow/faq?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Project+crossbow/faq?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Project+crossbow/faq?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Project+crossbow/faq?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          <span class="submenuitem "><a href="/bin/view/Project+crossbow/faq?xpage=copy" id="tmActionCopy" class="tmActionCopy">Copy</a></span>
      </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>FAQ</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h1 id="HNetworkVirtualizationandResourceControl28Crossbow29FAQ"><span>Network Virtualization and Resource Control (Crossbow) FAQ</span></h1><h3 id="HTableofContents"><span>Table of Contents</span></h3><h4 id="HOverview"><span><span class="wikilink"><a href="#overview">&nbsp;Overview&nbsp;</a></span></span></h4><ul><li><span class="wikilink"><a href="#oview_what">&nbsp;What is Crossbow?&nbsp;</a></span></li><li><span class="wikilink"><a href="#oview_when">&nbsp;When will Crossbow be available?&nbsp;</a></span></li><li><span class="wikilink"><a href="#oview_how">&nbsp;How do I get Crossbow?&nbsp;</a></span></li></ul><h4 id="HIPInstances"><span><span class="wikilink"><a href="#ip_instances">&nbsp;IP Instances&nbsp;</a></span></span></h4><ul><li><span class="wikilink"><a href="#ipinst_what">&nbsp;What are IP Instances?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_how">&nbsp;How do I get them?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_when">&nbsp;When will they be available in Solaris 10?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_any_nic">&nbsp;Can any NIC be used with IP Instances?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_which_nic">&nbsp;Which NICs are known to work with IP Instances?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_which_nic_not">&nbsp;Which NICs don't work with IP Instances?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_morethanone">&nbsp;Can I have more than one IP Instance on a system?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_howmany">&nbsp;How many IP Instances are supported?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_howmany_zone">&nbsp;How many IP Instances can a non-global zone have?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_shared">&nbsp;Can an IP Instance be shared between two non-global zones?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_seeinto">&nbsp;Can the global zone see into another zone's IP Instance?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_howseen">&nbsp;How can any of the interfaces assigned to a non-global zone be seen?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_ifconfig">&nbsp;I have configured a zone with ip-type=exclusive, however I don't see the interface in the zone when running ifconfig.&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_hostname">&nbsp;How do I configure an IP address for a zone?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_services">&nbsp;What services can now run in a zone that could not before?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_dhcpclient">&nbsp;How do I configure the non-global zone to be a DHCP client?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_nfs">&nbsp;What about NFS in a non-global zone?&nbsp;</a></span></li><li><span class="wikilink"><a href="#ipinst_whatwontwork">&nbsp;Is there anything else that does not work?&nbsp;</a></span></li></ul><h4 id="HVirtualNICs28VNICs29"><span><span class="wikilink"><a href="#virtual_nics">&nbsp;Virtual NICs (VNICs)&nbsp;</a></span></span></h4><ul><li><span class="wikilink"><a href="#vnic_what">&nbsp;What is a VNIC?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_which">&nbsp;Which NICs support VNICs?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_howmany">&nbsp;How many VNICs can I create per NIC?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_total">&nbsp;How many VNICs can I create on a system?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_managed">&nbsp;How is a VNIC managed?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_ownmac">&nbsp;How do I dermine whether the NIC has its own set MAC addresses?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_factorymac">&nbsp;How do I use a factory provided MAC address?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_setownmac">&nbsp;How do I set my own MAC address?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_macrestrictions">&nbsp;Are there restrictions regarding the MAC addresses I can use?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_whymac">&nbsp;Is it necessary to always specify the MAC address of a VNIC?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_ipv6">&nbsp;Can I use IPv6 addresses with a VNIC?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_mtu">&nbsp;Can different VNICs have different MTUs set?&nbsp;</a></span></li><li><span class="wikilink"><a href="#vnic_s10">&nbsp;When will VNICs be available in Solaris 10?&nbsp;</a></span></li></ul><h4 id="HFlowManagement"><span><span class="wikilink"><a href="#flow_management">&nbsp;Flow Management&nbsp;</a></span></span></h4><ul><li><span class="wikilink"><a href="#flow_what">&nbsp;What is flow management?&nbsp;</a></span></li><li><span class="wikilink"><a href="#flow_how">&nbsp;How do I define a flow?&nbsp;</a></span></li><li><span class="wikilink"><a href="#flow_whatparams">&nbsp;What parameters control a flow?&nbsp;</a></span></li><li><span class="wikilink"><a href="#flow_attributes">&nbsp;Which attributes can I use to define the flow?&nbsp;</a></span></li><li><span class="wikilink"><a href="#flow_parameters">&nbsp;What parameters can be set on flows?&nbsp;</a></span></li><li><span class="wikilink"><a href="#flow_limits">&nbsp;Do I have to set bandwidth limits or guarentees?&nbsp;</a></span></li></ul><h4 id="HMiscellaneous"><span><span class="wikilink"><a href="#misc">&nbsp;Miscellaneous&nbsp;</a></span></span></h4><ul><li><span class="wikilink"><a href="#misc_nics_with_hw_class">&nbsp;Which NICs have hardware clasification capabilities?&nbsp;</a></span></li><li><span class="wikilink"><a href="#misc_hw_rings">&nbsp;How can I tell whether my NIC has hardware receive ring classification capabilities?&nbsp;</a></span></li></ul><h3 id="HOverview-1"><span>Overview</span></h3><ul><li>What is Crossbow?</li></ul><p>Crossbow is a set of technologies that provide network virtualization and greatly improves the resource control, performance, and network utilization needed to achieve true OS virtualization, utility computing, and server consolidation.</p><p>Crossbow consists of multiple components:</p><blockquote><p>* <span class="wikilink"><a href="#ip_instances">&nbsp;IP Instances&nbsp;</a></span></p></blockquote><ul><li><span class="wikilink"><a href="#virtual_nics">&nbsp;Virtual NICs (VNICs)&nbsp;</a></span></li><li><span class="wikilink"><a href="#flow_management">&nbsp;Flow Management&nbsp;</a></span></li></ul><p>&nbsp;Crossbow is designed to add network virtualization to Solaris without introducing any performance penalty. Some of the underlying work is delivering better network performance. Receive rings and hardware classification, and multiple MAC address support contribute to better performance and enhance the virtualization provided.</p><p>&nbsp;Flow management could introduce some overhead. If the NIC or VNIC is not doing any fanout and B/W control, Crossbow can map a flow directly to a receive (RX) ring and use hardware to classify it. In that case, there is no performance impact. In cases where the NIC or VNIC is already doing bandwidth control or traffic fanout across multiple CPUs, any flow configured on top will have to go through an additional classification layer and there will be a small performance hit.</p><ul><li>When will Crossbow be available?</li></ul><p>Crossbow is available in OpenSolaris 2009.06, Solaris Express Community Edition (SX-CE) build 105 and later, or prior versions of OpenSolaris that have been updated with the most recent release or development packages.</p><ul><li>How do I get Crossbow?</li></ul><p>Crossbow is installed with OpenSolaris 2009.06 or an update of the packages of an earlier release of OpenSolaris. Installing SX-CE build 105 or later also includes the features.</p><h3 id="HIPInstances-1"><span>IP Instances</span></h3><ul><li>What are IP Instances?</li></ul><p>IP Instances are separate views of the IP stack, so that visibility and control is limited to the entity (zone) that the instance is assigned to. By default, all of Solaris has one view of IP, and therefor central visibility and control. With zones, the ability to view and control is limited by privileges, and all zones' network traffic decisions are made with a global view by the kernel. When IP instances are used, the view is limited to that information that applies to the instance, not the full kernel. So routing decisions, for example, are made based on the information only in this instance, and does not use any of the additional information that other instances on the same kernel may have. Similarly, control is delegated to this instance, so that a non-global zone can set network parameters such as routes, ndd(1m) values, IP address(es). Snooping of the interface(s) in the IP Instance is also possible. There is no visibility into any of the other IP Instances that may be sharing this Solaris instance and kernel.</p><p>&nbsp;Another feature with IP Instances is that traffic between zones must pass the whole path down the stack to the underlying NIC or VNIC. This is the result of the zone's IP not knowing where the destination address is, and outgoing data must thus be put on the wire. If the zone is using a VNIC, whether the traffic stays within the system or exists on a physical netowrk interface depends on whether the destination also using a VNIC sharing the same physical NIC. If a NIC is shared for VNICs, traffic directly between the VNICs will be switched by the VNICs' virtual switch to the destination VNIC, and it will not leave the system.</p><ul><li>How do I get them?</li></ul><p>&nbsp;IP Instances are in Solaris Nevada build 57 and later.</p><ul><li>When will they be available in Solaris 10?</li></ul><p>IP Instances are in Solaris 10 8/07 released on 4 September 2007.</p><ul><li>Can any NIC be used with IP Instances?</li></ul><p>All NICs in OpenSolaris and in Solaris Express Community Edition build 80 or later work with IP Instances. For Solaris 10, only NICs supported by the Generic LAN Driver version 3 (GLDv3) are supported with IP Instances. The way to determine if a NIC is GLDv3, run the dladm(1m) command with the 'show-link' subcommand and look for links that are not of type 'legacy'.</p><p>&nbsp;There is one exception. The <strong>ce</strong> interfaces can also be used now. See <span class="wikilink"><a href="/bin/view/Project+crossbow/#ipinst_which_nic">Which NICs are known to work with IP Instances?</a></span> for details, such as Nevada build and Solaris 10 patches required.</p><p>This is how non-GLDv3 interfaces will look. (Solaris 10 only)</p><pre>

# dladm show-link
eri0            type: legacy    mtu: 1500       device: eri0
qfe0            type: legacy    mtu: 1500       device: qfe0
qfe1            type: legacy    mtu: 1500       device: qfe1
qfe2            type: legacy    mtu: 1500       device: qfe2
qfe3            type: legacy    mtu: 1500       device: qfe3

</pre><p>And how GLDv3 interfaces look.</p><pre>

# dladm show-link
bge0            type: non-vlan  mtu: 1500       device: bge0
bge1            type: non-vlan  mtu: 1500       device: bge1
bge1001         type: vlan 1    mtu: 1500       device: bge1
bge2001         type: vlan 2    mtu: 1500       device: bge1
bge2            type: non-vlan  mtu: 1500       device: bge2
bge3            type: non-vlan  mtu: 1500       device: bge3
aggr1           type: non-vlan  mtu: 1500       aggregation: key 1

</pre><ul><li>Which NICs are known to work with IP Instances?<ul><li>afe (Nevada build 73 and later)</li><li>bge</li><li>ce (Nevada build 80 and later, Solaris 10 with IP Instance patches*)</li><li>dmfe (Nevada build 73 and later)</li><li>e1000g</li><li>eri (Nevada build 73 and later)</li><li>hme (Nevada build 73 and later)</li><li>iprb (Nevada build 73 and later)</li><li>ixgb</li><li>mxfe (Nevada build 73 and later)</li><li>nge</li><li>nxge</li><li>qfe (Nevada build 73 and later)</li><li>rge</li><li>rtls (Nevada build 73 and later)</li><li>xge</li><li>ath (Nevada only)</li></ul></li><li>NOTE: The <strong>ce</strong> NIC is not a GLDv3 device, but has been made to work with IP Instances. The patches required for Solaris 10 8/07 are:<ul><li>118777-12 and 137042-01 (SPARC)</li><li>118778-11 and 137043-01 (i386, x86, x64)</li></ul></li></ul><ul><li>Which NICs don't work with IP Instances?<ul><li>ce (Nevada build 79 and earlier, and Solaris 10 8/07 or earlier without the patches listed above)</li><li>dnet</li><li>elx</li><li>fjgi</li><li>ge</li><li>ipge</li><li>ixge</li><li>spwr</li></ul></li><li>NOTE: The e1000g driver replaces ipge in Solaris 10 11/06 and later for these NICs:<ul><li>Sun PCI-Express Dual Gigabit Ethernet UTP X7280A-2</li><li>Sun PCI-Express Dual Gigabit Ethernet MMF X7281A-2</li></ul></li></ul><p>The Nemo Unification within Project Clearview has delivered a shim that allows non-GLDv3 interfaces to be used with all the Crossbow and IP Instance features. All releases of OpenSolaris and SX-CE since build 83 have this.</p><p>(Solaris 10 only) There are two Change Requests to enable IP Instances with the <strong>ce</strong> driver. See <span class="wikiexternallink"><a href="http://blogs.sun.com/stw/entry/what_s_up_ce_doc">What's Up ce-Doc?</a></span> for some details. These fixes have been put into OpenSolaris and are available in Nevada build 80 and later, and available for Solaris 10 with the patches listed above.</p><ul><li>Can I have more than one IP Instance on a system?</li></ul><p>Yes.</p><ul><li>How many IP Instances are supported?</li></ul><p>There is no set limit on the number of IP Instances. Since each IP Instance needs (for connectivity) at least one data link (NIC, VLAN-tagged NIC, aggregation, or VNIC), the limit is essentially determined by the number of data links available and manageable on the system.</p><ul><li>How many IP Instances can a non-global zone have?</li></ul><p>A non-global zone can have only one IP Instance. By default, a zone is in the global instance sharing IP with the global zone and all other zones without an exclusive IP Instance. When a zone is configured to have an exclusive IP Instance, its view of IP is now isolated from the rest of the system.</p><ul><li>Can an IP Instance be shared between two non-global zones?</li></ul><p>No.</p><ul><li>Can the global zone see into another zone's IP Instance?</li></ul><p>Commands at the IP level such as <span class="box code">ifconfig(1m)</span> will only work with the interfaces in the IP Instance from which the command is run. In the global zone, they will only be able to see those interfaces <strong>not</strong> set as exclusive to a non-global zone.</p><p>The <span class="box code">snoop(1m)</span> command is able to be used from the global zone even if that interface has been given to a non-global zone with an IP Instance configured. If snoop is run in the global zone and in the zone that has exclusive access to the interface, they will see the same data.</p><p>The <span class="box code">dladm(1m)</span> command is used from the global zone to manage all devices, links, aggregations, VLANs, and VNICs. At this time, dladm can not be used in a non-global zone, even if it is configured as an exclusive zone.</p><ul><li>How can any of the interfaces assigned to a non-global zone be seen?</li></ul><p>Using the <span class="box code">dladm(1m)</span> command, a privileged user in the global zone can see and control the physical interfaces (NICs, link aggregations (aggr), VLANs, and VNICs).</p><ul><li>I have configured a zone with ip-type=exclusive, however I don't see the interface in the zone when running ifconfig.</li></ul><p>All interfaces assigned to a non-global zone can be identified by running 'ifconfig -a plumb', followed by 'ifconfig -a'.</p><pre>
non-global zone# ifconfig -a
lo0: flags=2001000849&lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL&gt; mtu 8232 index 1
    inet 127.0.0.1 netmask ff000000
non-global zone# ifconfig -a plumb
non-global zone# ifconfig -a
lo0: flags=2001000849&lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL&gt; mtu 8232 index 1
    inet 127.0.0.1 netmask ff000000
bge1: flags=201000842&lt;BROADCAST,RUNNING,MULTICAST,IPv4,CoS&gt; mtu 1500 index 2
    inet 0.0.0.0 netmask 0
    ether 0:3:ba:e3:42:8c
non-global zone#
</pre><ul><li>How do I configure an IP address for a zone?</li></ul><p>&nbsp;If you have, for example, an nge interface, one method is to create the file /etc/hostname.nge0 in the non-global zone.</p><pre>
non-global zone# echo "192.168.1.11/24" &gt; /etc/hostname.nge0
non-globalzone# init 6
...
non-global zone# ifconfig -a
lo0: flags=2001000849&lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL&gt; mtu 8232 index 1
nge0: flags=1000843"&lt;"UP,BROADCAST,RUNNING,MULTICAST,IPv4"&gt;" mtu 1500 index 2
        inet 192.168.1.11 netmask ffffff00 broadcast 10.1.14.255
        ether 0:17:31:46:d8:eb
non-global zone#
</pre><p>&nbsp;Generally, you will set up the /etc/hosts file, /etc/defaultrouter if using default routes, /etc/netmasks, /etc/resolv.conf, and the like, as with any stand-alone system. With a shared IP Instance, much of this is managed by the adminstrator(s) in the global zone.</p><ul><li>What services can now run in a zone that could not before?<ul><li>DHCP client</li><li>DHCP server</li><li>Routing daemon</li><li>IPsec</li><li>IPfilter</li><li>IP Multipathing (IPMP)</li><li>ndd commands</li><li>ifconfig (with set or modify capabilities)</li></ul></li></ul><ul><li>How do I configure the non-global zone to be a DHCP client?</li></ul><p>&nbsp;After configuring and installing the zone, copy or create an /etc/sysidcfg file. For example,</p><pre>
global-zone# cat /myzones/dhcpzone/root/etc/sysidcfg
system_locale=C
terminal=xterm
network_interface=primary {
        dhcp
        protocol_ipv6=no
}
security_policy=NONE
name_service=NONE
nfs4_domain=dynamic
timezone=US/Eastern
root_password=""
global-zone# zlogin dhcpzone ifconfig -a
lo0: flags=2001000849"&lt;"UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL"&gt;" mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000
bge2: flags=201004843"&lt;"UP,BROADCAST,RUNNING,MULTICAST,DHCP,IPv4,CoS"&gt;" mtu 1500 index 2
        inet 10.1.14.161 netmask ffffffc0 broadcast 10.1.14.191
        ether 0:3:ba:e3:42:8d
global-zone#

</pre><p>&nbsp;Or, you can manually bring up the interface with DHCP.</p><pre>

dhcp-zone# ifconfig bge2 plumb
dhcp-zone# ifconfig bge2 auto-dhcp

</pre><p>&nbsp;To have it use DHCP on subsequent boot ups.</p><pre>

dhcp-zone# touch /etc/hostname.bge2
dhcp-zone# touch /etc/dhcp.bge2

</pre><ul><li>What about NFS in a non-global zone?</li></ul><p>A non-global zone can still be an NFS client (not of the global zone on the same system), but can not be an NFS server. The in-ability of a non-global zone to be an NFS server is not related to networking, but rather to file system and virtual memory interaction. Whether or not IP Instances, VNICs, or any other Crossbow feature is used does not affect or change this situation.</p><ul><li>Is there anything else that does not work?</li></ul><p>You can not load private kernel modules in a non-global zone, even if you have your own instance. Also, IPfilter rulesets are controlled from the global zone at this time. A linux branded zone does not work with IP Instances at this time.</p><h3 id="HVirtualNICs28VNICs29-1"><span>Virtual NICs (VNICs)</span></h3><ul><li>What is a VNIC?</li></ul><p>A VNIC is a virtualized network interface that presents the same media access control (MAC) interface that an actual interface would provide. Multiple VNICs can be configured on top of the same interface, allowing multiple consumers to share that interfaces. If the interface has hardware clasification capabilities, when data arrives on the NIC, the hardware can automatically direct the datagrams to receiver buffers (rings) associated with a specific VNIC. It may be possible to selectively turn interrupts on and off per ring, allowing the host to control the rate of arrival of packets into the system. For hardware that does not have these capabilities, these features are provided via software.</p><ul><li>Which NICs support VNICs?</li></ul><p>VNICs are support on Generic LAN Driver version 3 (GLDv3) supported interfaces. For a list, see <span class="wikilink"><a href="#ipinst_which_nic">&nbsp;Which NICs are known to work with IP Instances?</a></span> You can also create a VNIC on top of an aggregation or VLAN that is built using GLDv3 NICs.</p><ul><li>How many VNICs can I create per NIC?</li></ul><p>There is no limit to the number VNICs per NIC. However, for NICs with hardware classification capabilities, maximum performance is achieved when the number of VNICs does not exceed the number of hardware classifiers on the NIC.</p><ul><li>How many VNICs can I create on a system?</li></ul><p>There is no maximum number of VNICs on a system (there use to be and it has been removed). As is typically the case, each VNIC will require additional system resources such as CPU. So there will be a practical maximum per system based on the type of system, the type of NIC(s), and traffic patterns.</p><ul><li>How is a VNIC managed?</li></ul><p>The dladm(1m) command is used to create, modify, and delete VNICs.</p><ul><li>How do I dermine whether the NIC has its own set of factory-provided MAC addresses?</li></ul><p>Use <span class="box code">&nbsp;dladm show<span style="color: #666666; ">-</span>dev <span style="color: #666666; ">-</span>m&nbsp;&nbsp;</span> to show the MAC addresses assigned to this NIC.</p><ul><li>How do I use a factory provided MAC address?</li></ul><p>To use a factory provided MAC address, run <span class="box code">&nbsp;dladm create<span style="color: #666666; ">-</span>vnic <span style="color: #666666; ">-</span>m factory&nbsp;&nbsp;</span> when creating a VNIC.</p><ul><li>How do I set my own MAC address?</li></ul><p>The MAC address for a VNIC can be set when the VNIC is created with the <span class="box code">&nbsp;dladm create<span style="color: #666666; ">-</span>vnic <span style="color: #666666; ">-</span>m MAC<span style="color: #666666; ">-</span>address&nbsp;</span> command in the global zone.</p><p>&nbsp;Future???: The MAC address can be modified using the ifconfig(1m) command in a non-global zone. Either operation must be done by a privileged administrator.</p><ul><li>Are there restrictions regarding the MAC addresses I can use?</li></ul><p>Yes, the MAC address must be a valid MAC address as per IEEE. It can not be a multicast or broadcast address.</p><ul><li>Is it necessary to always specify the MAC address of a VNIC?</li></ul><p>No, you can choose to use a factory MAC address, have the system generate a random MAC address, or provide one. The default is to use an available factory address, and if none is available, generate a random one.</p><ul><li>Can I use IPv6 addresses with a VNIC?</li></ul><p>Yes. You can do most of the things that you can do with a physical NIC. Things you can not do with a VNIC include: create a link aggregation, set a frame size larger than the underlink link.</p><ul><li>Can different VNICs have different MTUs set?</li></ul><p>Yes, but no larger than the MTU allowed by the underlying NIC.</p><ul><li>When will VNICs be available in Solaris 10?</li></ul><p>At this time there is no specific plan to back port VNICs to Solaris 10. If you have a need for VNIC support in Solaris 10, please add a service record to change request (CR) 6790102.</p><h3 id="HFlowManagement-1"><span>Flow Management</span></h3><ul><li>What is flow management?</li></ul><p>Flow management is the ability to manage networking bandwidth resource for a transport, service, or a virtual machine. A service is specified as a combination of transport (e.g. TCP, UDP) and port, while a virtual machine is specified by its mac address or an IP address.</p><ul><li>How do I define a flow?</li></ul><p>Flows are managed with the <span class="box code">&nbsp;flowadm(1m)&nbsp;</span> command.</p><ul><li>What parameters control a flow?</li></ul><p>Flows are defined as a set of attributes based on Layer 2, 3, and 4 headers which can be used to identify a protocol, service, or a [virtual machine] instance, such as a zone or Xen domain.</p><ul><li>Which attributes can I use to define the flow?<ul><li>local_mac_addr</li><li>SAP</li><li>local_ip_addr</li><li>transport (TCP, UDP, or SCTP)</li><li>local_port</li><li>remote_port</li></ul></li></ul><ul><li>What parameters can be set on flows?</li></ul><p>Flows support the following parameters:</p><blockquote><p>* Bandwidth--Sets the full duplex bandwidth specified in Kilo, Mega, or Gigabits, or as a percentage of link bandwidth.</p></blockquote><ul><li>Limit--Sets the maximum bandwidth usage that can not be exceeded.</li><li>Guarantee--Sets the entitled or minimum bandwidth. Bandwidth provided can exceed the guaranteed value.</li><li>Priority--Sets the relative priority of this flow compared to other flows, in a range from 0 to 100.</li><li>Hardware--Utilize NIC hardware classifier, if one is available.</li><li>CPU Binding--Assign one or more processors for the flow's kernel and interrupt processing. For dedicated use of a set of processors, use <span class="box code">&nbsp;prset(1m)</span> to define a processor set.</li></ul><ul><li>Do I have to set bandwidth limits or guarentees?</li></ul><p>No, it is possible to create a flow without limits yet bind it to software or hardware resources.</p><h3 id="HMiscellaneous-1"><span>Miscellaneous</span></h3><ul><li>Which NICs have hardware clasification capabilities?</li></ul><p>It is difficult to determine a NIC's hardware capabilities. Please provide feedback on experiences with specific NICs and the information will be aggregated here. Thanks.</p><p>&nbsp;We are planning to provide an option of dladm which will display these hardware capabilities in a future version of Crossbow.</p><ul><li>How can I tell whether my NIC has hardware receive ring classification capabilities?</li></ul><p>At this time you can not tell. There is work underway to add such a capability to the <span class="box code">&nbsp;dladm(1m)&nbsp;</span> command.</p><ul><li>What do I do if I don't have enough NICs for all the zones?<br/>&nbsp;One option may be to use VLANs. See <span class="wikiexternallink"><a href="http://blogs.sun.com/stw/entry/using_ip_instances_with_vlans">An example of using IP Instances with VLANs.</a></span><br/><em>&nbsp;Contributors: Crossbow engineering, Crossbow community at opensolaris.org&nbsp;</em><br/><em>&nbsp;Maintained by: Steffen Weiberle (steffen dot weiberle at sun dot com)&nbsp;</em></li></ul>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:13<br/>
          </div>
    <div class="xdocLastModification">       Last modified by admin on 2009/10/26 12:13
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Project crossbow Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/CrossbowBeta">Crossbow Project Beta Release</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/Docs">Documentation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/Features">Crossbow Current and Future Features</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/Overview">Crossbow Overview</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/code%2Dreview">Code Review</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/demo">Crossbow Virtual Wire Builder Demo</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/faq">FAQ</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/getting%2Dstarted">Getting Started</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/handson">Crossbow Hands&#45;on Steps</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+crossbow/nic">NIC Driver Features</a></span></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
