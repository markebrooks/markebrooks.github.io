<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Prototype (Project nwam.prototype) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Project+nwam/prototype" />
                    <link rel="canonical" href="/bin/view/Project+nwam/prototype" />
                            <meta name="document" content="Project nwam.prototype"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Project nwam"/>
    <meta name="page" content="prototype"/>
    <meta name="version" content="11.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Project+nwam/pages/prototype"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Prototype" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="Renee Sommerfeld" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Project nwam";
XWiki.currentPage = "prototype";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Project+nwam/prototype";
window.docediturl = "/bin/edit/Project+nwam/prototype";
window.docsaveurl = "/bin/save/Project+nwam/prototype";
window.docgeturl = "/bin/get/Project+nwam/prototype";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Project_nwam viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FProject%2Bnwam%2Fprototype"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+nwam/"><strong>Project nwam</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Project+nwam" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <div id="header_banner">
	<table style="width: 100%;">
	    <tr>
		<td style="width: 1%;">
		    <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
		</td>
		<td id="logo-text" style="width: 1%;">
		    Solaris
		</td>         
		<td style="width: 98%;">
		    <table id="loading-indicator">
			<tr>
			    <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
				    alt="Loading" title="Loading"/></td>
			    <td>Loading...</td>
			</tr>
		    </table>
		</td>
		<td style="width: 1%;">
		    <table id="iconbar">
			<tr>
			<td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
			    Collectives</a></td>
			<td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
				Discussions</a></td>
			<td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
				Documentation</a></td>
			<td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
				Download</a></td>
			<td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
				Source Browser</a></td>
			</tr>
		    </table>
		</td>
	    </tr>
	</table>
    </div>
    <div id="site-notice">
	<span>
	    <a href="https://markebrooks.github.io/bin/view/Main/">ATTENTION: This website and all services within the opensolaris.org domain will be unavailable after March 24, 2013.</a>	   
	</span>
    </div>
</div>
 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Project+nwam/Phase0'>Phase 0</a> <span class='separator'>&#187;</span> <span class='current'>Prototype</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Project+nwam/prototype?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Project+nwam/prototype?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+nwam/prototype?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+nwam/prototype?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+nwam/prototype?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Project+nwam/prototype?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+nwam/prototype?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+nwam/prototype?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Project+nwam/prototype?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Project+nwam/prototype?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Project+nwam/prototype?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>Prototype</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<p>We spent May implementing a reduced-scope prototype, to provide broader exposure for what we are doing, to get feedback on our work so far, and to get ideas about how people will use this, which will help inform our design decisions about more advanced features. By "reduced-scope" we mean that this prototype intentionally makes a simplifying assumption: that only one network interface will ever be active at any given time; this makes the prototype especially useful for laptops, which often have this usage model. This limitation will <strong>not</strong> be present in the final product, however, which will scale as Solaris does from the laptop to the enterprise server.</p><p>&nbsp;See below for</p><ul><li><span class="wikilink"><a href="#requirements">target system requirements</a></span></li><li><span class="wikilink"><a href="#download">how to download</a></span> the source and the binaries</li><li><span class="wikilink"><a href="#shortcomings">a list of shortcomings</a></span> (known bugs, missing features, planned enhancements)</li><li><span class="wikilink"><a href="#caveats">usage caveats</a></span></li><li><span class="wikilink"><a href="#instructions">instructions and examples</a></span> for required manual configuration</li></ul><h2 id="HRequirements"><span>Requirements</span></h2><p>&nbsp;The ON (OS/Networking) portion of your target machine must be running build 36 or later of Solaris Nevada (SunOS 5.11). For builds 36 - 51, use version 0.3; for builds 52 &amp; 53, version 0.3 can be used but may cause problems because it still refers to the <span class="box code">network<span style="color: #666666; ">/</span>pfil</span> SMF service, which went away in build 52; for builds 54 and later, use version 0.4.</p><h2 id="HDownloads"><span>Downloads</span></h2><ul><li>Package<ul><li>This is only available for i386, at least for now; if anyone has a SPARC laptop on which you wish to try this, let us know and we will see about building it for you.</li><li>Note that when you install it, you will likely get a warning:</li></ul></li></ul><p><br/><br/><br/><br/><br/><br/><br/></p><pre>The following files are already installed on the system and are beingused by another package:  /lib/svc/method/net-svc  /var/svc/manifest/milestone/network.xml  /var/svc/manifest/network/ipfilter.xml  /var/svc/manifest/network/pfil.xml  /var/svc/manifest/network/ssh.xml  /var/svc/manifest/system/identity.xmlDo you want to install these conflicting files [y,n,?,q]</pre><p>&nbsp;This is expected; answer '<span class="box code">y</span>'. Note that the <span class="box code">network<span style="color: #666666; ">/</span>pfil</span> line will only appear when installing version 0.3; version 0.4 will show the other lines but not that one.</p><ul><li><br/><ul><li><span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+nwam/prototype/SUNWnwam.pkg.bz2">Download package version 0.3 here</a></span></li><li><span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+nwam/prototype/SUNWnwam-0.4.pkg.bz2">Download package version 0.4 here</a></span></li></ul></li><li>Source<ul><li>Extracting this <span class="box code">tar</span> file will generate a <span class="box code">netprofd</span> directory, which (as noted in the comments in its Makefile) should be placed under <span class="box code">usr<span style="color: #666666; ">/</span>src<span style="color: #666666; ">/</span>cmd<span style="color: #666666; ">/</span>cmd<span style="color: #666666; ">-</span>inet<span style="color: #666666; ">/</span>usr.lib<span style="color: #666666; ">/</span></span>.</li><li><span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+nwam/prototype/netprofd.tar.bz2">Download here</a></span></li></ul></li></ul><h2 id="HShortcomings"><span>Shortcomings</span></h2><ul><li>The driver for your network device must support sending <span class="box code">DL_NOTE_LINK_UP</span> and <span class="box code">DL_NOTE_LINK_DOWN</span> to IP when a cable is plugged and unplugged for the "auto-magic" part to work. The <span class="box code">bge</span> driver on Ferrari 3400s is known to do this properly; the <span class="box code">bcme</span> driver on Ferrari 4000s appears not to. Note that there is a difference between the driver logging a message on the console and notifying IP, as some drivers do the former, but the latter is needed. We have verified that starting with Nevada build 43 (specifically, ON nightly builds which include putbacks from 2006-Jun-07 or later), Ferrari 4000s can use <span class="box code">bge</span>, and the "auto-magic" works as expected. More details can be found on the <span class="wikilink"><a href="/bin/view/Project+nwam/dl_note_link">DL_NOTE_LINK_{UP,DOWN}</a></span> page.</li><li>At present, the only way to go 'stand-alone' is <span class="box code">svcadm disable [<span style="color: #666666; ">-</span>t] profiled</span>.</li><li>There is no good way at present to get status beyond the usual <span class="box code">ifconfig <span style="color: #666666; ">-</span>a</span>.</li><li>Insertion/removal of PCMCIA cards is not yet supported</li><li>The code uses <span class="box code">wificonfig</span></li></ul><dl><dt>once libwladm becomes available, its APIs will be used directly.</dt></dl><ul><li>The scan of available wireless networks is only done once, when the daemon starts. If this is a problem, <span class="box code">svcadm restart profiled</span> will force a rescan, albeit at the cost of tearing down whatever interfaces are currently active. We intend to address this.</li><li>IPv6 is not supported yet.</li><li>Ferrari 3400 laptops with a bge interface, when plugged and unplugged multiple times, and the other end is plugged into a Netgear switch, result in the link light no longer being activated on either end. A manual <span class="box code">ifconfig bge0 unplumb ; ifconfig bge0 plumb</span> seems to fix this most of the time. We plan to file a bug once we characterize the problem more completely.</li><li>Punchin users: when punching out, <span class="box code">punchctl</span> (from SUNW0punchin versions prior to 1.3.0) restores your old default route, but the interface (in <span class="box code">netstat <span style="color: #666666; ">-</span>r</span> output) is unspecified, so you can end up in a situation with two default routes. You can work around this by manually deleting the old one. Alternatively, upgrading SUNW0punchin to version 1.3.0 fixes the problem.</li></ul><h2 id="HCaveats"><span>Caveats</span></h2><ul><li>Interface (in the <span class="box code">attributes(5)</span> sense) Stability<ul><li>This is a prototype.</li><li>It is not yet part of Solaris.</li><li>Until it appears in a release it is subject to change without notice.</li></ul></li><li>Network Interface (in the <span class="box code">ifconfig(1M)</span> sense) Configuration<ul><li>Neither <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>hostname<span style="color: #666666; ">.*</span></span> files nor <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>dhcp<span style="color: #666666; ">.*</span></span> files are used. Instead, the netprofd daemon will detect all available links; it will store information about these links in the file <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>nwam<span style="color: #666666; ">/</span>llp</span>. This file will be automatically created by the daemon; or it may be created/modified by the user.</li><li>See the <span class="wikilink"><a href="#llp">Link-Layer Profiles</a></span> ยง in the <span class="wikilink"><a href="#instructions">Instructions</a></span> section below for details on this configuration file.</li></ul></li><li>So far, almost all of our testing has been on Acer Ferrari 3400 laptops. We look forward to hearing about your experiences on other configurations!</li><li>There is no real user interface: see the <span class="wikilink"><a href="#instructions">Instructions</a></span> below for how to roll your own versions of the scripts which are needed to make the profiles work, and for samples of such scripts.</li></ul><h2 id="HInstructions"><span>Instructions</span></h2><h3 id="HLink-LayerProfiles"><span>Link-Layer Profiles</span></h3><ul><li>The format of an entry in <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>nwam<span style="color: #666666; ">/</span>llp</span> is:</li></ul><pre>link_name  static|dhcp  [ipaddr or hostname]</pre><p>&nbsp;If the second field is <span class="box code">dhcp</span>, then DHCP will be used to obtain an IP address. If the second field is <span class="box code">static</span>, then the IP address specified by the third field will be assigned to the interface. As an example, the following is common:</p><p><br/></p><pre>bge0 dhcpath0 dhcp</pre><ul><li>Only one link will be active at any given time. If more than one link is available, the active one will be selected based on the order in which links appear in the <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>nwam<span style="color: #666666; ">/</span>llp</span> file: in the above example, <span class="box code">bge0</span> is preferred over <span class="box code">ath0</span>. An important implication of this is that if a lower-preference link is running at start-up, and a higher-preference link is available (<span class="box code">IFF_RUNNING</span>), the lower-preference link will be taken down, and the higher-preference link will be brought up.</li></ul><h3 id="HUpper-LayerProfiles"><span>Upper-Layer Profiles</span></h3><p>&nbsp;Once an interface is brought up and an IP address is configured for it, <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>nwam<span style="color: #666666; ">/</span>ulp<span style="color: #666666; ">/</span>check<span style="color: #666666; ">-</span>conditions</span> is run if it exists and is executable. This is expected to print a single line of output, which is the name of the upper-layer profile which the user wishes to be activated based on the current conditions. If such a line is read successfully (<span class="box code">foo</span> in this example), then <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>nwam<span style="color: #666666; ">/</span>ulp<span style="color: #666666; ">/</span>foo<span style="color: #666666; ">/</span>bringup</span> is executed. Likewise, when the interface gets torn down for whatever reason, <span class="box code"><span style="color: #666666; ">/</span>etc<span style="color: #666666; ">/</span>nwam<span style="color: #666666; ">/</span>ulp<span style="color: #666666; ">/</span>foo<span style="color: #666666; ">/</span>teardown</span> is executed. Below are samples for the <span class="box code">check<span style="color: #666666; ">-</span>conditions</span>, <span class="box code">bringup</span> and <span class="box code">teardown</span> scripts.</p><ul><li><span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+nwam/prototype/check-conditions">check-conditions</a></span></li><li><span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+nwam/prototype/bringup">bringup</a></span></li><li><span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+nwam/prototype/teardown">teardown</a></span></li></ul><p>&nbsp;For the curious, <span class="box code"><span style="color: #666666; ">/</span>usr<span style="color: #666666; ">/</span>local<span style="color: #666666; ">/</span>bin<span style="color: #666666; ">/</span>punchctl</span> is the script which activates and deactivates the (Sun internal, as yet) IPsec-based VPN which many of us use.</p>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by Administrator on 2009/10/26 12:16<br/>
          </div>
    <div class="xdocLastModification">       Last modified by Renee Sommerfeld on 2009/11/12 17:31
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Project nwam Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Foundation">Foundation</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+nwam/1%2DStoryBoards">Story Boards</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/2%2DRequirements">Requirements</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/3%2DArchitecture">Architecture</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/4%2DDesign">Design</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Phase0">Phase 0</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+nwam/llp">Interface Configuration Policy</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/prototype">Prototype</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Phase0%2D5">Phase 0.5</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Phase1EA">Phase 1 Early Access</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Phase1Repo">Phase 1 Repository</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Phase1Spec">Phase 1 Spec</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Contents">TOC</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/DraftManPages">Draft Man Pages</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Glossary">Glossary</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/UIDesign">Phase 1 GUI Design</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Phase1">GUI Spec</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/usertasks_config">User Tasks for NWAM Configuration</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/usertasks_status">User Tasks for NWAM Status Notification</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/UIResearch">GUI Research & Futures</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+nwam/ConfigUI">UI Spec &#45; Phase 2</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Sketches">UI Sketches/Prototypes</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/stateoftheart">State of the Art</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/terminology">Terminology Study: Location vs. Environment</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/userexperience">User Scenarios</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/service%2Ddiscovery">Service Discovery</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+nwam/Applications">Applications</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/mdnsd_man">mdnsd(1M)</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+nwam/nsswitch_dns">nsswitch.dns</a></span></li>
</ul></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2013, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
