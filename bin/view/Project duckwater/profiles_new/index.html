<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Name Service Profiles (Project duckwater.profiles_new) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Project+duckwater/profiles_new" />
                    <link rel="canonical" href="/bin/view/Project+duckwater/profiles_new" />
                            <meta name="document" content="Project duckwater.profiles_new"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Project duckwater"/>
    <meta name="page" content="profiles_new"/>
    <meta name="version" content="2.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Project+duckwater/pages/profiles_new"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Name Service Profiles" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="Doug Leavitt" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Project duckwater";
XWiki.currentPage = "profiles_new";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Project+duckwater/profiles_new";
window.docediturl = "/bin/edit/Project+duckwater/profiles_new";
window.docsaveurl = "/bin/save/Project+duckwater/profiles_new";
window.docgeturl = "/bin/get/Project+duckwater/profiles_new";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Project_duckwater viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FProject%2Bduckwater%2Fprofiles_new"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+duckwater/"><strong>Project duckwater</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Project+duckwater" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>
            </td>
            <td style="width: 99%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Project+duckwater/Documentation'>Documentation</a> <span class='separator'>&#187;</span> <span class='current'>Name Service Profiles</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Project+duckwater/profiles_new?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Project+duckwater/profiles_new?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+duckwater/profiles_new?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+duckwater/profiles_new?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+duckwater/profiles_new?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Project+duckwater/profiles_new?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+duckwater/profiles_new?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+duckwater/profiles_new?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Project+duckwater/profiles_new?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Project+duckwater/profiles_new?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Project+duckwater/profiles_new?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>Name Service Profiles</h1></div>

              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h1 id="HDuckwater:SimplifiedNameServicesManagement-Profiles"><span>Duckwater: Simplified Name Services Management - Profiles</span></h1><table><tr><th scope="col">Author:</th><td>Tomas Heran &lt;<span class="wikiexternallink"><a href="mailto:tomas.heran@sun.com">tomas.heran@sun.com</a></span>&gt;</td></tr><tr><th scope="row">Version:</th><td>DRAFT 1.0</td></tr><tr><th scope="row">Date:</th><td>2008-02-13</td></tr></table><p>Contents</p><ul><li><span class="wikilink"><a href="#introduction">1   Introduction</a></span></li><li><span class="wikilink"><a href="#profile-configuration-types">2   Profile/configuration types</a></span></li><li><span class="wikilink"><a href="#profiles-description-and-contents">3   Profiles description and contents</a></span><ul><li><span class="wikilink"><a href="#implementation-of-name-service-profiles-in-smf">3.1   Implementation of name service profiles in SMF</a></span></li><li><span class="wikilink"><a href="#name-service-switch-profile-nssp">3.2   Name Service Switch Profile (NSSP)</a></span><ul><li><span class="wikilink"><a href="#automatic">3.2.1   Automatic</a></span></li><li><span class="wikilink"><a href="#links-to-nsbecs">3.2.2   Links to NSBECs</a></span></li></ul></li><li><span class="wikilink"><a href="#name-service-back-end-configuration-nsbec">3.3   Name Service Back-End Configuration (NSBEC)</a></span><ul><li><span class="wikilink"><a href="#dns-nsbec">3.3.1   DNS NSBEC</a></span></li><li><span class="wikilink"><a href="#ldap-nsbec">3.3.2   LDAP NSBEC</a></span></li><li><span class="wikilink"><a href="#nis-nsbec">3.3.3   NIS NSBEC</a></span></li><li><span class="wikilink"><a href="#id1">3.3.4   NIS+ NSBEC</a></span></li></ul></li></ul></li><li><span class="wikilink"><a href="#implementation-in-smf">4   Implementation in SMF</a></span></li></ul><h1 id="H1A0A0A0Introduction"><span><span class="wikilink"><a href="#id2">1   Introduction</a></span></span></h1><p>This document describes what types of name service configurations there are, the contents of each of them, the implementation in SMF - both properties and their types.</p><h1 id="H2A0A0A0Profile2Fconfigurationtypes"><span><span class="wikilink"><a href="#id3">2   Profile/configuration types</a></span></span></h1><p>There are two name service profile/configuration types: <strong>Name Service Switch Profile</strong> (NSSP, a.k.a. profile) and <strong>Name Service Back-End Configuration</strong> (NSBEC - a.k.a. back-end configuration).</p><p><strong>NSSP</strong> is a configuration for name service switch, currently being configured through nsswitch.conf(4). Additionally, there are pointers to NSBECs for each source type (DNS, NIS, NIS+, LDAP). NSSP + zero (for files only naming) or more NSBECs form a set of configuration form name service subsystem on (Open)Solaris OS.</p><p><strong>NSBEC</strong> holds configuration information for particular back-end - e.g. DNS, NIS, NIS+, LDAP.</p><h1 id="H3A0A0A0Profilesdescriptionandcontents"><span><span class="wikilink"><a href="#id4">3   Profiles description and contents</a></span></span></h1><p>This part describes the contents of NSSP and four different NSBECs as implemented in SMF. Also, semantics of a property values are described where needed.</p><h2 id="H3.1A0A0A0ImplementationofnameserviceprofilesinSMF"><span><span class="wikilink"><a href="#id5">3.1   Implementation of name service profiles in SMF</a></span></span></h2><p>Due to unavailability of Enhanced SMF Profiles, Duckwater project implements its own profile management framework. We have decided to implement the profiles (NSSP) and back-end configurations (NSBEC) using property groups of particular name service related services/instances in SMF. We plan to convert the proprietary Duckwater profiles to Enhanced SMF Profiles once they are available in (Open)Solaris. We believe the transition will be quite straightforward as even Duckwater uses SMF to store the profile/configuration data.</p><p>The profile-implementing property group name format is profile_&lt;name&gt;. So, for example, test1 LDAP NSBEC FMRI is:</p><pre>

svc:/network/ldap/client:default/:properties/profile_test1

</pre><p>Every name services related instance in SMF also has one special property group dedicated to metadata called prof_META which, for now, has only one property active storing the name of currently active profile/configuration of particular type. E.g., the example below shows, that we have two profiles - test1 and test2 - and test1 is marked as being active:</p><pre>

prof_META/active    test1
profile_test1/prop1 ...
profile_test1/prop2 ...
...
profile_test2/prop1 ...
...

</pre><p>Using the simple scheme, we can easily store multiple profiles/configurations for name service switch and name service back-ends without any additional support from SMF. The drawback of this approach is that the switching between profiles - e.g. switching name service configuration from profile1 to profile2 has to be driven by nsadm(1M) - in other words, users won't be able to use stock SMF tools - svccfg(1M) or svcadm(1M) - to reconfigure name service subsystem, instead they would have to use nsadm(1M) to do it for them.</p><h2 id="H3.2A0A0A0NameServiceSwitchProfile28NSSP29"><span><span class="wikilink"><a href="#id6">3.2   Name Service Switch Profile (NSSP)</a></span></span></h2><p>As stated before, this profile configures name service switch - configuration which is traditionally found in /etc/nsswitch.conf. Additionally, it points to NSBECs for DNS, NIS, NIS+ and LDAP (zero or one for each back-end type). It is easily extensible to support new name service source type (or back-end) if needed - e.g. to support Microsoft Active Directory through nss_ads.</p><p>Please note, that we are not proposing to EOL /etc/nsswitch.conf completely. We are aware that it's well known interface used by administrator as well as 3rd party software. For more information about handling legacy configuration files in Duckwater, please see [legacyconffiles].</p><p>With respect to SMF services, this configuration will be stored as a property group in svc:/system/name-service-cache:default instance.</p><table><tr><th scope="col">Property-name</th><th scope="col">Type</th><th scope="col">Value</th></tr><tr><td><strong>Misc</strong></td></tr><tr><td>domain</td><td>astring</td><td> </td></tr><tr><td><strong>Name Service Switch</strong></td></tr><tr><td>db_passwd</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_group</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_hosts</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_ipnodes</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_networks</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_protocols</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_rpc</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_ethers</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_netmasks</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_bootparam</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_publickey</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_netgroup</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_automount</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_aliases</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_services</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_printers</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_auth_attr</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_prof_attr</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td><td>auto</td></tr><tr><td>db_*</td><td>astring</td><td>[&lt;source&gt; [&lt;criteria&gt;]]*</td></tr><tr><td><strong>Links to NSBECs</strong></td></tr><tr><td>bec_dns</td><td>astring</td><td>[&lt;DNS NSBEC name&gt;]</td><td>auto</td></tr><tr><td>bec_nis</td><td>astring</td><td>[&lt;NIS NSBEC name&gt;]</td><td>auto</td></tr><tr><td>bec_nisplus</td><td>astring</td><td>[&lt;NIS+ NSBEC name&gt;]</td><td>auto</td></tr><tr><td>bec_ldap</td><td>astring</td><td>[&lt;LDAP NSBEC name&gt;]</td><td>auto</td></tr><tr><td>bec_&lt;type&gt;</td><td>astring</td><td>[&lt;&lt;type&gt; NSBEC name&gt;]</td><td>auto</td></tr></table><p>The full grammar for db_ property values is identical to the counterparts in nsswitch.conf(4).</p><h3 id="H3.2.1A0A0A0Automatic"><span><span class="wikilink"><a href="#id7">3.2.1   Automatic</a></span></span></h3><p>auto value for db_* properties means that the name service switch (nscd(1M)) should decide which source types to use based on the back-end availability information provided to it by back-ends and delivered using nsutil(1M) [nsutil]. This might also be implemented as a part of nscd's back-end monitoring facility.</p><p>auto value for bec_* properties means that special NSBEC instance for particular source type should be auto-configured (name service servers discovered using DHCP, DNS or mDNS where applicable).</p><h3 id="H3.2.2A0A0A0LinkstoNSBECs"><span><span class="wikilink"><a href="#id8">3.2.2   Links to NSBECs</a></span></span></h3><p>The idea is, that NSSP will include pointers to NSBECs (max one of each type), so there's a connection between configuration of switch and configurations of particular source types (name service back-ends). E.g. the NSSP validation procedure will have a chance to issue an error should for example particular source type being used in one or more databases, but no NSBEC of such type being "linked" to the particular NSSP.</p><h2 id="H3.3A0A0A0NameServiceBack-EndConfiguration28NSBEC29"><span><span class="wikilink"><a href="#id9">3.3   Name Service Back-End Configuration (NSBEC)</a></span></span></h2><p>Name Service Back-End Configuration (NSBEC) includes configuration for particular name service back-end. The reason these are not included in the NSSP is that they can exist separately, serving as independent configuration for particular name service back-end or name service tools specific for particular back-end type, like ldapaddent(1M) or ldaplist(1).</p><h3 id="H3.3.1A0A0A0DNSNSBEC"><span><span class="wikilink"><a href="#id10">3.3.1   DNS NSBEC</a></span></span></h3><p>As /etc/resolv.conf(4) is a Standard interface (Interface Stability: Standard BIND 8.3.3) we'll have to maintain backwards compatibility and generate the /etc/resolv.conf file from configuration repository at appropriate time and/or allow this file to be imported into the configuration repository.</p><p>Currently, the client DNS resolver is configured by SMF network-service net-svc script and it uses the information from DHCP (through dhcpinfo(1) utility). This is unfortunately not flexible enough. We need to generate the file when dns/client service is either being started or refreshed.</p><p>The DNS NSBEC properties are modeled based on /etc/resolv.conf and will be stored in property group of SMF service svc:/network/dns/client.</p><table><tr><th scope="col">Property-group</th><th scope="col">Type</th><th scope="col">Value</th></tr><tr><th scope="row">Property</th><th scope="col"> </th><th scope="col"> </th></tr><tr><td><strong>DNS</strong></td></tr><tr><td>nameserver</td><td>net_address_v4/6_list</td><td>Specifies the IPv4 or IPv6 Internet address of a name server that the resolver is to query.</td></tr><tr><td>domain</td><td>astring</td><td>Specifies the local domain name.</td></tr><tr><td>search</td><td>astring_list</td><td>The search list for host name lookup.</td></tr><tr><td>sortlist</td><td>net_address_v4/6_list</td><td>Allows addresses returned by the libresolv-internal gethostbyname() to be sorted</td></tr><tr><td>options</td><td>astring_list</td><td>Allows certain internal resolver variables to be modified</td></tr></table><h3 id="H3.3.2A0A0A0LDAPNSBEC"><span><span class="wikilink"><a href="#id11">3.3.2   LDAP NSBEC</a></span></span></h3><p>The configuration files for LDAP name service back-end is not public. It currently resides in /var/ldap directory.</p><table><tr><th scope="col">Property-group</th><th scope="col">Type</th><th scope="col">Values</th></tr><tr><th scope="row">Property</th><th scope="col"> </th><th scope="col"> </th></tr><tr><td><strong>LDAP</strong></td></tr><tr><td>ldap/FILE_VERSION</td><td>astring</td><td>2.0</td></tr><tr><td>proxyDN</td><td>astring</td><td> </td></tr><tr><td>proxyPassword</td><td>astring</td><td> </td></tr><tr><td>preferredServerList</td><td>astring</td><td> </td></tr><tr><td>defaultServerList</td><td>astring</td><td> </td></tr><tr><td>defaultSearchBase</td><td>astring</td><td> </td></tr><tr><td>defaultSearchScope</td><td>astring</td><td> </td></tr><tr><td>authenticationMethod</td><td>astring</td><td><br/></td></tr></table><ul><li>none</li><li>simple</li><li>sasl/CRAM-MD5</li><li>sasl/DIGEST-MD5</li><li>sasl/GSSAPI</li><li>tls:simple</li><li>tls:sasl/CRAM-MD5</li><li>tls:sasl/DIGEST-MD5</li></ul><table><tr><td>credentialLevel</td><td>astring</td><td><br/></td></tr></table><ul><li>anonymous</li><li>proxy</li><li>self</li></ul><table><tr><td>serviceSearchDescriptor</td><td>astring</td><td> </td></tr><tr><td>searchTimeLimit</td><td>count</td><td> </td></tr><tr><td>bindTimeLimit</td><td>count</td><td> </td></tr><tr><td>followReferrals</td><td>boolean</td><td> </td></tr><tr><td>profileTTL</td><td>count</td><td> </td></tr><tr><td>attributeMap</td><td>astring_list</td><td> </td></tr><tr><td>objectclassMap</td><td>astring_list</td><td> </td></tr><tr><td>profileName</td><td>astring</td><td> </td></tr><tr><td>serviceAuthMethod</td><td>astring_list</td><td> </td></tr><tr><td>serviceCredentialLevel</td><td>astring_list</td><td> </td></tr><tr><td>certificatePath</td><td>astring</td><td> </td></tr></table><p><strong>Question:</strong> Should the property names be derived from what's in /var/ldap/ldap_client_file or should they be named after equivalent command-line options to ldapclient(1M)? I'd rather name them based on names of command-line options because users are more likely to be familiar with those.' <strong>ldapclient(1M)</strong></p><p>LDAP type NSBEC(s) will be stored as a property group(s) in SMF service svc:/network/ldap/client.</p><h3 id="H3.3.3A0A0A0NISNSBEC"><span><span class="wikilink"><a href="#id12">3.3.3   NIS NSBEC</a></span></span></h3><p>The configuration files for NIS name service back-end are not public. They currently reside in /var/yp directory.</p><table><tr><th scope="col">Property-group</th><th scope="col">Type</th><th scope="col">Value</th></tr><tr><th scope="row">Property</th><th scope="col"> </th><th scope="col"> </th></tr><tr><td><strong>NIS</strong></td></tr><tr><td>servers</td><td>astring</td><td>auto or list of NIS servers</td></tr><tr><td>domain</td><td>astring</td><td>NIS domain</td></tr></table><p>servers set to auto means that ypbind(1M) will be run with -broadcast option.</p><p>If domain is empty, domain from NSSP to which that this particular NSBEC is associated to is used.</p><p>NSBEC(s) of this type will be stored as a property group(s) in SMF service svc:/network/nis/client.</p><h3 id="H3.3.4A0A0A0NIS2BNSBEC"><span><span class="wikilink"><a href="#id13">3.3.4   NIS+ NSBEC</a></span></span></h3><p>The configuration files for NIS+ name service back-end are not public. They currently reside in /var/nis directory.</p><table><tr><th scope="col">Property-group</th><th scope="col">Type</th><th scope="col">Value</th></tr><tr><th scope="row">Property</th><th scope="col"> </th><th scope="col"> </th></tr><tr><td><strong>NIS+</strong></td></tr><tr><td>server</td><td>astring</td><td>auto or trusted NIS+ server</td></tr><tr><td>preferredServerList</td><td>host_list</td><td> </td></tr><tr><td>domain</td><td>astring</td><td>NIS+ domain</td></tr><tr><td>coldstart</td><td>astring</td><td>NIS_COLD_START file location</td></tr></table><p>server set to auto means that broadcasting will be used to locate NIS+ server.</p><p>If domain is empty, domain from NSSP to which that this particular NSBEC is associated to is used.</p><p>NSBEC(s) of this type will be stored as a property group(s) in SMF service svc:/network/rpc/nisplus.</p><h1 id="H4A0A0A0ImplementationinSMF"><span><span class="wikilink"><a href="#id14">4   Implementation in SMF</a></span></span></h1><p>The ideal way of implementing the name service profiles is to leverage Enhanced SMF Profiles project. That way the SMF framework could be used for profile activation (and deactivation) - either by invoking svcadm(1M) (or possibly svccfg(1M)?) commands or by calling functions from libscf(3LIB) library. That way 3rd party software could manipulate name service profiles without having to rely on name service specific commands (like nsadm(1M)) or name service profile manipulation library (libnsconf).</p><table><tr><td>[nss_man]</td><td><em>nsswitch.conf(4)</em>, nsswitch.conf - configuration file for the name service switch</td></tr><tr><td>[dns_man]</td><td>resolv.conf(4), resolv.conf - resolver configuration file</td></tr><tr><td>[nis_man]</td><td>nis+(1), nis+, NIS+, nis - a new version of the network information name service</td></tr><tr><td>[ldap_man]</td><td>ldap(1), ldap - LDAP as a naming repository</td></tr><tr><td>[nsutil]</td><td>nsutil(1M) - see <span class="wikilink"><a href="/bin/view/Project+duckwater/"><span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://www.opensolaris.org/os/project/duckwater"><span class="wikigeneratedlinkcontent">http://www.opensolaris.org/os/project/duckwater</span></a></span></a></span></td></tr><tr><td>[enhsmfprof]</td><td>Enhanced SMF Profiles - <span class="wikilink"><a href="/bin/view/Project+smf%2Dprofiles/"><span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://opensolaris.org/os/project/smf-profiles/"><span class="wikigeneratedlinkcontent">http://opensolaris.org/os/project/smf-profiles/</span></a></span></a></span></td></tr><tr><td>[nwamproject]</td><td>Network Auto-Magic <span class="wikilink"><a href="/bin/view/Project+nwam/"><span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://opensolaris.org/os/project/nwam/"><span class="wikigeneratedlinkcontent">http://opensolaris.org/os/project/nwam/</span></a></span></a></span></td></tr><tr><td>[legacyconffiles]</td><td>Legacy config - <span class="wikilink"><a href="/bin/view/Project+duckwater/legacyconffiles"><span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://opensolaris.org/os/project/duckwater/Documentation/legacyconffiles/"><span class="wikigeneratedlinkcontent">http://opensolaris.org/os/project/duckwater/Documentation/legacyconffiles/</span></a></span></a></span></td></tr></table>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:13<br/>
          </div>
    <div class="xdocLastModification">       Last modified by Doug Leavitt on 2010/04/06 18:24
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Project duckwater Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/BuildSCM">Build Status & Gate Information</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/Documentation">Documentation</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/Reconfiguration">Name Service Reconfiguration (SMF)</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/TrackedBugs">Tracked Project Bugs/RFEs</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/finder">Finder APIs</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/legacyconffiles">Legacy Configuration Files Support</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/libnsconf">libnsconf &#45; Name services configuration library</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/ns%2Ddiscovery">Name Services Discovery</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/nsadm_man">nsadm(1m) Draft Man Page</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/nscfg_man">nscfg(1m) Draft Man Page</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/nssconfig">NSS config API draft</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/nssversion">PSARC/2008/035 nss versioning API draft</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/profiles_new">Name Service Profiles</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/requirements">Requirements</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/alpha2">Alpha2 Release Notes</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/demo">Alpha1 Release Notes &#45; Duckwater Demo</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/downloads">Duckwater Download Page</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/duckwater_phase0">Duckwater Phase 0</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/codereview">Code&#45;review</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/new_connmgmt">New Connection Management</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/std_ldapaddent">Standalone ldapaddent(1M)</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/std_ldapclient_man">Standalone libldapclient(1M)</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/std_ldaplist">Standalone ldaplist(1)</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+duckwater/hg_cheatsheet">Duckwater/Mercurial Cheat sheet</a></span></li>
</ul>
                    </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2011, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
