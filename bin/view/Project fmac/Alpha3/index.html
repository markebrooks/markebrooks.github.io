<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Alpha 3 FMAC Code Drop (Project fmac.Alpha3) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Project+fmac/Alpha3" />
                    <link rel="canonical" href="/bin/view/Project+fmac/Alpha3" />
                            <meta name="document" content="Project fmac.Alpha3"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Project fmac"/>
    <meta name="page" content="Alpha3"/>
    <meta name="version" content="1.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Project+fmac/pages/Alpha3"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Alpha 3 FMAC Code Drop" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="admin" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Project fmac";
XWiki.currentPage = "Alpha3";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Project+fmac/Alpha3";
window.docediturl = "/bin/edit/Project+fmac/Alpha3";
window.docsaveurl = "/bin/save/Project+fmac/Alpha3";
window.docgeturl = "/bin/get/Project+fmac/Alpha3";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Project_fmac viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FProject%2Bfmac%2FAlpha3"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+fmac/"><strong>Project fmac</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Project+fmac" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Project+fmac/downloads'>Downloads</a> <span class='separator'>&#187;</span> <span class='current'>Alpha 3 FMAC Code Drop</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Project+fmac/Alpha3?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Project+fmac/Alpha3?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+fmac/Alpha3?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+fmac/Alpha3?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+fmac/Alpha3?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Project+fmac/Alpha3?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+fmac/Alpha3?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+fmac/Alpha3?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Project+fmac/Alpha3?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Project+fmac/Alpha3?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Project+fmac/Alpha3?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          <span class="submenuitem "><a href="/bin/view/Project+fmac/Alpha3?xpage=copy" id="tmActionCopy" class="tmActionCopy">Copy</a></span>
      </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








                      
<div id="document-title"><h1>Alpha 3 FMAC Code Drop</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h2 class='hidden'>Alpha 3 FMAC Code Drop</h2><p>This page includes links to the Alpha 3 sources and to the Alpha 3 release notes.</p><table><tr><th scope="col">Date&nbsp;</th><th scope="col">Mercurial Repository&nbsp;</th><th scope="col">Description&nbsp;</th><th scope="col">HG Tag&nbsp;</th></tr><tr><td>&nbsp;October 29, 2008&nbsp;</td><td> <span class="wikiexternallink"><a class="wikimodel-freestanding" href="ssh://anon&amp;#64;hg.opensolaris.org/hg/fmac/fmac-gate"><span class="wikigeneratedlinkcontent">ssh://anon&amp;#64;hg.opensolaris.org/hg/fmac/fmac-gate</span></a></span>&nbsp;</td><td>&nbsp;FMAC Alpha 3 Source Code, onnv_97 based&nbsp;</td><td>&nbsp;fmac_alpha3&nbsp;</td><td></td></tr></table><p>Commits to the repository go to the fmac-notify list <span class="wikiexternallink"><a href="http://mail.opensolaris.org/mailman/listinfo/fmac-notify">(subscribe)</a></span>.</p><h2 id="HReleaseNotes"><span>Release Notes</span></h2><p>October 29, 2008</p><p>These release notes document the Alpha 3 code drop of the Flask/Type Enforcement[R] code that is based on toolchain/policy Version 15. The ON base of the FMAC repository in the fmac-gate repository is onnv_97.</p><p>This Alpha 3 code drop introduces major new kernel functionality, including labeled file objects for ZFS and TMPFS file systems, domain transitions on &nbsp;exec process and file mandatory access control checks.</p><p>NOTE: Any patches posted to the fmac-discuss list <em>after</em> October 29, 2008 are <em>not</em> part of this release.</p><p>Each code drop includes everything from previous code drops, except where noted.</p><p>This document covers the following topics:</p><ul><li>Feature List</li><li>Accessing the FMAC Source Files</li><li>FMAC Source File Locations</li><li>Known Limitations</li><li>Reporting Bugs</li></ul><h3 id="HFeatureList"><span>Feature List</span></h3><p>The following describes features of this Alpha 3 code drop:</p><ul><li>New FMAC kernel functionality:</li><li>File security labeling and access controls for ZFS and TMPFS</li><li>Basic process context transition support on exec</li><li>mmap PROT_EXEC restrictions</li><li>Setting of linker security flag</li><li>Basic proc vnode protection</li><li>Basic process access controls (hasprocperm)</li><li>Extended AVC auditing to include pid, comm, and path information</li><li>Improved AVC interface and locking</li><li>Exported AVC stats via kstat</li><li>kstat -m avc</li><li>Fixed getprevcon() and setting of prev_secid</li></ul><ul><li>New FMAC system calls to libc:</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int getfilecon(const char <em>path, char&nbsp;</em>*secctxp);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int setfilecon(const char <em>path, char&nbsp;</em>secctx);</p><p>For more information about FMAC, see the <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+fmac/docs/fmac.5.txt">fmac(5) man page</a></span>.</p><ul><li>New FMAC utilities:</li><li>The getfilecon command lets you view the security context on a file, see the <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+fmac/docs/getfilecon.1m.txt">getfilecon(1M) man page</a></span></li><li>The setfilecon command lets you set the security context on a file, see the <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+fmac/docs/getfilecon.1m.txt">setfilecon(1M) man page</a></span></li><li>The newrole command lets you start a shell with a different context</li><li>The fmacsetup command labels files after a BFU</li><li>The setfiles command is now functional and labels file objects, see the <span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Project+fmac/docs/setfiles.1m.txt">setfiles(1M) man page</a></span></li></ul><ul><li>Enhanced FMAC policy:</li><li>The file_contexts file has been adapted to the Solaris[tm] Operating System</li><li>The FMAC user, sysadm_u, has been added</li></ul><ul><li>Assigning Solaris users to FMAC users:</li><li>A new context attribute has been added to user_attr that maps the Solaris user to a FMAC user. For example:</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jack::::context=user_u\:user_r\:user_t<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jill::::context=sysadm_u\:user_r\:user_t<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root::::context=root\:sysadm_r\:sysadm_t</p><ul><li>The unix_cred PAM module has been modified to set the initial user context based on the user_attr context attribute. If a context attribute is not specified in user_attr for a user, the unix_cred module will default to the following:</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root: root:sysadm_r:sysadm_t<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;non-root: user_u:user_r:user_t</p><ul><li>All FMAC utility man pages are posted on the <span class="wikilink"><a href="/bin/view/Project+fmac/docs">FMAC documentation page</a></span>.</li></ul><ul><li>This Alpha 3 release is based on onnv_97. Use the corresponding onbld and closed bins that are available from opensolaris.org at <span class="wikiexternallink"><a href="http://dlc.sun.com/osol/on/downloads/b97"><span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://dlc.sun.com/osol/on/downloads/b97/"><span class="wikigeneratedlinkcontent">http://dlc.sun.com/osol/on/downloads/b97/</span></a></span></a></span>.</li></ul><p>See Known Limitations for information about building on the SPARC[R] platform and about an x86 build problem.</p><h3 id="HAccessingtheFMACSourceFiles"><span>Accessing the FMAC Source Files</span></h3><p>You can download snapshots of the FMAC source code repository or the latest sources by using the hg command.</p><ul><li>To pull the Alpha 3 FMAC source code from the fmac-gate repository, type:</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# hg clone -r fmac_alpha3<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="wikiexternallink"><a class="wikimodel-freestanding" href="ssh://anon@hg.opensolaris.org/hg/fmac/fmac-gate"><span class="wikigeneratedlinkcontent">ssh://anon@hg.opensolaris.org/hg/fmac/fmac-gate</span></a></span></p><ul><li>To pull the latest FMAC source code from the fmac-gate repository, type:</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# hg clone<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="wikiexternallink"><a class="wikimodel-freestanding" href="ssh://anon@hg.opensolaris.org/hg/fmac/fmac-gate"><span class="wikigeneratedlinkcontent">ssh://anon@hg.opensolaris.org/hg/fmac/fmac-gate</span></a></span></p><h3 id="HFMACSourceFileLocations"><span>FMAC Source File Locations</span></h3><p>The following list describes the FMAC source locations:</p><p>usr/src/common/fmac<br/>Policy Flask definitions and security server code shared by user space and the kernel<br/>usr/src/cmd/fmac<br/>Policy configuration and user space tools<br/>usr/src/uts/common/sys/fmac<br/>Flask headers and generated definitions<br/>usr/src/uts/common/fmac<br/>Flask kernel-only code</p><h3 id="HKnownLimitations"><span>Known Limitations</span></h3><ul><li>Security labeling and MAC checks are not yet supported for special files or symbolic links on ZFS or TMPFS file systems, or for files in other filesystem types.</li></ul><ul><li>The process controls are incomplete - FMAC is only presently<br/>mediating process operations that already invoke *hasprocperm() for permission checking and is only presently mediating proc vnode accesses that invoke priv_proc_cred_perm().</li></ul><ul><li>The basic process context transition support on exec does not yet include controls on the inheritance of open file descriptors or other inherited state.</li></ul><ul><li>The source for the policy is in usr/src/cmd/fmac/policy. It is not yet fully converted for use with the OpenSolaris[tm] release.</li></ul><ul><li>If building on the SPARC platform, see the <span class="wikicreatelink"><a href="/bin/create/Community+Group+tools/sun_studio_11_SPARC_special_May2008?parent=Project+fmac.Alpha3">special SPARC instructions</a></span> from the OpenSolaris Sun[tm] Studio 11 tools page.</li></ul><p>If you run into problems running the Sun Studio 11 SPARC installer with the default Java[tm] 1.6 version, try the following workaround:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# PATH=/usr/jdk/jdk1.5.0_15/bin:${PATH}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# export PATH<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# ./installer</p><p>Then, use patchadd to install the following Sun Studio 11 SPARC patches:</p><ul><li>121015-04</li><li>120760-11</li><li>121017-07</li><li>122135-02</li></ul><ul><li>The following build error on x86 seems to be due by a reference to htonll and ntohll in pkcs11_softtoken.so.1 that's not resolved in the Build 97 libc:</li></ul><h4 id="HCheckELFruntimeattributes"><span>Check ELF runtime attributes</span></h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./usr/lib/security/amd64/pkcs11_softtoken.so.1: symbol not found: htonll &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/builds/jweeks/onnv_97/proto/root_i386/usr/lib/security/amd64/pkcs11_softtoken.so.1) &lt;no -zdefs?&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./usr/lib/security/amd64/pkcs11_softtoken.so.1: symbol not found: ntohll &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/builds/jweeks/onnv_97/proto/root_i386/usr/lib/security/amd64/pkcs11_softtoken.so.1) &lt;no -zdefs?&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./usr/lib/security/pkcs11_softtoken.so.1: symbol not found: htonll &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/builds/jweeks/onnv_97/proto/root_i386/usr/lib/security/pkcs11_softtoken.so.1) &lt;no -zdefs?&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./usr/lib/security/pkcs11_softtoken.so.1: symbol not found: ntohll &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/builds/jweeks/onnv_97/proto/root_i386/usr/lib/security/pkcs11_softtoken.so.1) &lt;no -zdefs?&gt;</p><h4 id="HDiffELFruntimeattributes28sincelastbuild29"><span>Diff ELF runtime attributes (since last build)</span></h4><div class="wikimodel-emptyline"></div><p>This issue has been posted to opensolaris-help. While this problem generates an error during boot, the system still functions.</p><p>As a workaround, you can use the <span class="wikiexternallink"><a href="http://dlc.sun.com/osol/on/downloads/20080825">20080825</a></span> version of onbld for x86.</p><h3 id="HReportingBugs"><span>Reporting Bugs</span></h3><p>For each problem you encounter, send the following information to help the team determine the root cause of the problem:</p><ol><li>Describe the problem and describe what you were doing when you encountered the problem.</li></ol><p>NOTE: Give as much information as you can to enable the team to reproduce the problem.</p><ol><li>Describe your configuration.</li></ol><p>For example, x data servers running on x machines.</p><ol><li>Describe the bits you have installed.</li></ol><p>For example, run the following commands on all machines:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;% cat /etc/motd<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;% cat /etc/release</p><ol><li>If the problem is a panic, include the stack trace and access to the core file.</li></ol><ol><li>Send the information in an email message to the <span class="wikiexternallink"><a href="mailto:fmac-discuss@opensolaris.org">fmac dash discuss at opensolaris dot org</a></span> list.</li></ol><p>NOTE: You must be a member of the list before you can post messages to it.</p>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:13<br/>
          </div>
    <div class="xdocLastModification">       Last modified by admin on 2009/10/26 12:13
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Project fmac Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+fmac/BuildCurrent">Building the Current Repo</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/BuildInstallConfigureTest">How to Build, Install, Configure, and Test FMAC</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/Presentations">Presentations</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/ToDoList">To Do List</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/contribute">How to Submit FMAC Code and Bug Fixes</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/docs">Documentation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/downloads">Downloads</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+fmac/Alpha1">Alpha 1 FMAC Code Drop</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/Alpha2">Alpha 2 FMAC Code Drop</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/Alpha3">Alpha 3 FMAC Code Drop</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/mailing%2Dlists">Discussions</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+fmac/project_proposal">Project Proposal</a></span></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2013, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
