<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Usability Enhancements (Project rm.poolsui) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Project+rm/poolsui" />
                    <link rel="canonical" href="/bin/view/Project+rm/poolsui" />
                            <meta name="document" content="Project rm.poolsui"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Project rm"/>
    <meta name="page" content="poolsui"/>
    <meta name="version" content="1.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Project+rm/pages/poolsui"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Usability Enhancements" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="admin" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Project rm";
XWiki.currentPage = "poolsui";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Project+rm/poolsui";
window.docediturl = "/bin/edit/Project+rm/poolsui";
window.docsaveurl = "/bin/save/Project+rm/poolsui";
window.docgeturl = "/bin/get/Project+rm/poolsui";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Project_rm viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FProject%2Brm%2Fpoolsui"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+rm/"><strong>Project rm</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Project+rm" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Project+rm/pools'>Resource Pools</a> <span class='separator'>&#187;</span> <span class='current'>Usability Enhancements</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Project+rm/poolsui?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Project+rm/poolsui?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+rm/poolsui?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+rm/poolsui?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+rm/poolsui?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Project+rm/poolsui?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+rm/poolsui?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+rm/poolsui?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Project+rm/poolsui?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Project+rm/poolsui?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Project+rm/poolsui?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          <span class="submenuitem "><a href="/bin/view/Project+rm/poolsui?xpage=copy" id="tmActionCopy" class="tmActionCopy">Copy</a></span>
      </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>Usability Enhancements</h1></div>



    <strong>NOTE: The
 rm project
 is no longer active on this website so information here may be out of date. Current Oracle Solaris 11 product documentation can be found </strong>
  <strong><a href="http://www.oracle.com/technetwork/server-storage/solaris11/documentation/index.html">here</a>.</strong>
  <strong>Information about downloading Oracle Solaris 11 can be found <a href="http://www.oracle.com/technetwork/server-storage/solaris11/downloads/index.html">here</a>.</strong>
<hr>
  


              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h2 id="HEnhancingtheusabilityofResourcePools"><span>Enhancing the usability of Resource Pools</span></h2><h3 id="HOverview"><span>Overview</span></h3><p>This topic discusses the current usuability concerns with the pools administrative interfaces, and proposes changes to address them. &nbsp;Please send<br/>comments on this topic to [](rm-discuss@opensolaris.org).</p><h3 id="HEvalution"><span>Evalution</span></h3><p>Users evaluating Solaris Containers have expressed usability difficulties<br/>when attempting to configure Resource Pools (via poolcfg(1m)/pooladm(1m)) in order to partition cpu resources among Zones.</p><p>Users are particularly interested in using Resource Pools with Zones<br/>because of the strong process/processor-set binding which takes place when<br/>a Zone is bound to a Resource Pool. &nbsp;This binding has been recognized by some<br/>ISV's which license software per cpu. &nbsp;In the future customers will be further<br/>interested in using Resource Pools as it is the framework through which memory<br/>and swap partitioning will be made available.</p><p>Users have expressed satisfaction the the Zones administrative interfaces<br/>(zonecfg(1m)/zoneadm(1m)), and would most likely prefer a similar interface for configuring pools. &nbsp;Both the new Zones and SMF administrative interfaces introduced in Solaris 10 include interactive modes along with built-in help and context sensitive modes, all of which greatly enhance usability, especially for new users.</p><p>By evaluating the Resource Pools administrative interfaces, a number of usability issues can be raised:</p><h4 id="H1.Mostpropertynamesandvaluesareaccepted"><span>1. Most property names and values are accepted</span></h4><p>Incorrect property (misspelled name, invalid value) produces no error message. By contrast, zonecfg will complain about unknown property names or invalid values assigned to properties.</p><h4 id="H2.Thereisnoverbosevalidation."><span>2. There is no verbose validation.</span></h4><p>There are few useful error messages when modifying a configuration, and there are no useful error messages when committing a configuration fails. &nbsp;Both zonecfg(1m) and zoneadm(1m) offer validate commands which will generate lists of configuration errors.</p><h4 id="H3.TheneedtosetminandmaxonresourceisnotintuitivetocustomersnotusingDynamicResourcePools."><span>3. The need to set min and max on resource is not intuitive to customers not using Dynamic Resource Pools.</span></h4><p>Most Customers just want to set a resource set's size and in fact they specifically cannot set the size. &nbsp;This is confusing. &nbsp;Also, attempts to simply transfer cpus into a pset will fail if the administrator does not first modify pset.min and pset.max. &nbsp;poolcfg(1m) could automatically adjust a resource set's min and max properties to accommodate administrative actions. &nbsp;poolcfg(1m) could also provide a property by which the administrator could suggest the desired size.</p><h4 id="H4.Thereisnointeractivemodewithbuilt-inhelp."><span>4. There is no interactive mode with built-in help.</span></h4><p>Failed commands do not produce context sensitive error or usage message. &nbsp;There is no help listing all available commands, or supported property names and values.</p><h4 id="H5.Theneedtoquoteeachcommandiserror-prone."><span>5. The need to quote each command is error-prone.</span></h4><p>This is not a command based interface like zonecfg and svccfg, confusing customers that think it is.</p><h4 id="H6.Theneedtouseparenthesiswhensettingproperties."><span>6. The need to use parenthesis when setting properties.</span></h4><p>This does not get along with most shells, producing errors when improperly escaped or quoted.</p><h4 id="H7.Thereisnocontextsensitivemodes."><span>7. There is no context sensitive modes.</span></h4><p>By contrast, zonecfg and svccfg via the various select/add/end commands that<br/>produce context sensitive help and error messages.</p><h4 id="H8.Manycommandsareneededtocreateapool2Cpset2Cmset2Candsetupassociations."><span>8. Many commands are needed to create a pool, pset, mset, and set up associations.</span></h4><p>These commands include "create", "modify", "associate", and optionally "transfer". &nbsp;Each command has a different syntax which must be learned. &nbsp;The "transfer" command has two forms depending on what is being transferred (specific cpus, or quantities of cpu or memory). &nbsp;In contrast, Zones can be configured using just the "create" and "set" commands, and the admin is specifically instructed to use the "create" command when entering interactive mode. &nbsp;zonecfg also has "verify" and "commit" commands which are automatically applied when the interactive mode is terminated.</p><h4 id="H9.Transferringcpuids2Corquantitiesofcpu2Conastaticconfigworks2Cbutismeaningless."><span>9. Transferring cpuids, or quantities of cpu,on a static config works, but is meaningless.</span></h4><p>These cpus are not used when the configuration is instanciated on the system. Instead transfering cpus only has the effect of indirectly modifying a psets's size, which again is not used when the configuration is instanciated on the system. This is confusing.</p><h4 id="H10.Theneedtoexplicitlyenablepoolsbeforepoolscanbeconfiguredisanunnecessaryadministrativestep."><span>10. The need to explicitly enable pools before pools can be configured is an unnecessary administrative step.</span></h4><p>There are multiple issues here.</p><ul><li>Pools could be enabled by default.</li><li>Simply working with a static config should not require that pools are enabled.</li><li>Some commands (such as "pooladm -c", could automatically enable pools).</li></ul><h4 id="H11.Listingofthecurrentconfigurationinpresentedinanoverlyverboseandhardtoreadformat."><span>11. Listing of the current configuration in presented in an overly verbose and hard to read format.</span></h4><p>There are no concise table-formatted output modes for viewing the current configuration.</p><h4 id="H12.Propertieswithimpliedvalues28suchassystem.allocate-method29donotexistbydefaulteventhoughtheirimpliedmeaningisinaffect."><span>12. Properties with implied values (such as system.allocate-method) do not exist by default even though their implied meaning is in affect.</span></h4><p>This is uninformative to the user and results in an incomplete list of the actual configuration.</p><h4 id="H13.Eachpropertyisnamedwithapropertyprefix28system.2Cpool.2Cpset.2A29matchingtheresourcetypethatthepropertyison."><span>13. Each property is named with a property prefix (system.<em>, pool.</em>, pset.*) matching the resource type that the property is on.</span></h4><p>This is implementation specific information which to the administrator is redundant. &nbsp;Property types for properties that already exist must also be entered, which is again redundent.</p><p>Example:</p><pre>
    modify pset pset~_default ~( uint pset.min = 4 ~)  
</pre><p>This command could be reduced to:</p><pre>
    modify pset pset\//default ~( min = 4 ~)  
</pre><h4 id="H14.TheResourcepoolsconfigurationterminologyisconfusingandinconsistentwhencomparedtoitselfandtotheZonesconfigurationterminology."><span>14. The Resource pools configuration terminology is confusing and inconsistent when compared to itself and to the Zones configuration terminology.&nbsp;</span></h4><p>The terms "static" and "dynamic" configuration have no analog in other subsystems. &nbsp;The term "dynamic" refers to both the state of the running system, as well as to "dynamic" pools, which are pools that are reconfigured periodically depending on administrative objectives. The term "commit" is used by zones meaning to validate and save the configuration, while Resource Pools use the term "commit" to refer to instanciating the configuration on the running system.</p><h4 id="H15.SettingDRPobjectivesiserror-prone."><span>15. &nbsp;Setting DRP objectives is error-prone.</span></h4><p>DRP objective properties can be misspelled and can be given invalid values, with no immediate negative feedback or error messages.</p><h3 id="HProposedchanges2Fenhancementstopoolcfg"><span>Proposed changes/enhancements to poolcfg</span></h3><p>This topic proposes the following modifications to poolcfg in order to eliminate the usability points above.</p><h4 id="HA.Impliedtypesandprefixeswhenspecifyingpropertiesandentitynames."><span>A. Implied types and prefixes when specifying properties and entity names.</span></h4><ul><li>When setting a property with the modify or create command, if the property already exists, it will not be necessary to specify its type.</li><li>When setting a property, it will not be necessary to include the "entity." prefix in the property name. &nbsp;Example, the property "pset.min" and be specified using "min".</li><li>When specifying and entity, it will not be necessary to include the entity prefix "entity\<em>". &nbsp;For example, the entity "pset_default" can be specified using just "default".</em></li></ul><h4 id="HB.Consolidationofthecreate2Cmodify2Cassociate2Candtransfercommandscommandintothecreateandmodifycommands."><span>B. Consolidation of the create, modify, associate, and transfer commands command into the create and modify commands.</span></h4><p>This is accomplished by allowing resource and component associations to be declared as properties:</p><pre>
    create | modify entity name ~[ "~(" expression [;expression...] "~)" ~]
</pre><p>Where:</p><pre>
    expression == property = value | entity = name | component = name~[,name...~]
</pre><p>When a configuration is instanciated on the system (during boot, or during "pooladm -c", libpool will first attempt to transfer the specified cpu components to the pset resource before it begins dealing out remaining components among resource sets. &nbsp;Example, to create a pool with a specific set of cpus with the current interfaces:</p><pre>
    # poolcfg -f - &lt;&lt;EOF
    create pset foo ~(uint pset.min = 2; uint pset.max = 2~)
    transfer to pset foo ~(cpu 1; cpu 2~)
    create pool bar
    associate pool bar ~(pset foo~)
    EOF
</pre><p>With the proposed enhancements:</p><pre>
    # poolcfg
    poolcfg:&gt; create pset foo ~( cpus = 1,2 ~)
    poolcfg:&gt; create pool bar ~( pset = foo ~)
    poolcfg:&gt; &lt;EOF&gt;
</pre><h4 id="HC.Introductionof22res22asaread2Fwritepropertyonresourcesets."><span>C. Introduction of "res" as a read/write property on resource sets.</span></h4><p>When a configuration is instanciated (pooladm -c), each resource set will receive &nbsp;"res" resources before the remaining resources are dealt out among sets.</p><p>When the "component = name[,name...] expression is used to specify the components in a resource set, the "res" property is automatically updated to match the number of cpus specified.</p><p>Example:</p><pre>
    modify pset foo ~( cpus = 0,1,2,4 ~)
</pre><p>Will automatically set "res" equal to 4.</p><p>Example, these commands will currently create a pool with two cpus:</p><pre>
    # poolcfg -f - &lt;&lt;EOF
    create pset foo ~(uint pset.min = 2; uint pset.max = 2~)
    create pool bar
    associate pool bar (pset foo)
    EOF
</pre><p>In the proposed new interfaces, this is sufficient:</p><pre>
    # poolcfg
    poolcfg:&gt; create pset foo ~( res = 2 ~)
    poolcfg:&gt; create pool bar ~( pset = foo~)
    poolcfg:&gt; &lt;EOF&gt;
</pre><h4 id="HD.Eliminationoforderingconstraintsonresource.minandresource.maxpropertiesbyaddingunspecifiedvalues."><span>D. &nbsp;Elimination of ordering constraints on resource.min and resource.max properties by adding unspecified values.</span></h4><p>min and max properties are only used by:</p><ul><li>"pooladm -c", to implement resource dealing to resource sets</li><li>poold(1m), as constraints on moving resources among sets</li><li>Dynamic Reconfiguration, as a bounds on shrinking resource sets to allow for the removal of system resources.</li></ul><p>In all cases, reasonable values can be assumed for min and max when they are unspecified. &nbsp;This would avoid confusing errors when attempting to specify simple configurations.</p><p>Example, user specifies pset.min without specifying pset.max, currently:</p><pre>
    # poolcfg -c 'modify pset foo (uint pset.min = 2)'
    poolcfg: put property pset.min failed: Error putting property
</pre><p>There is no real reason for this to fail. &nbsp;If pset.min is 2 and pset.max is unspecified (or less than 2), the correct solution in all cases above is just to treat the configuration as if pset.max = 2.</p><h4 id="HE.Multi-linecreate2Fmodifycommandsusingset2Fremove2Fcancel2Fend."><span>E. &nbsp;Multi-line create/modify commands using set/remove/cancel/end.</span></h4><p>Omitting the ()'s after a create or modify command will cause poolcfg<br/>to apply the following commands to the given entity, until either the<br/>"end" or "cancel" commands are given. &nbsp;The "remove" command can be<br/>used to remove a property, association, or component specification.</p><p>Example, for an existing pset, remove specified cpus and declare a cpu range:</p><pre>
    # poolcfg
    poolcfg:&gt; modify pset foo
    poolcfg:pset foo&gt; remove cpus
    poolcfg:pset foo&gt; set min = 1
    poolcfg:pset foo&gt; set max = 4
    poolcfg:pset foo&gt; set importance = 10
    poolcfg:pset foo&gt; end
    poolcfg:&gt; set allocate-method = "importance based"
    poolcfg:&gt; &lt;EOF&gt;
</pre><p>The "set"/"remove" commands act on the currently entity, and can be<br/>used to manipulate properties, resource associations, and component<br/>associations. &nbsp;If there is no current entity, the system entity is modified.</p><p>Example, create a new pool with a new pset containing two cpus.</p><pre>
    # poolcfg
    poolcfg:&gt; create pset foo
    poolcfg:pset foo&gt; set res = 2
    poolcfg:pset foo&gt; end
    poolcfg:&gt; create pool bar
    poolcfg:pool bar&gt; set pset = foo
    poolcfg:pool bar&gt; end
    poolcfg:&gt; &lt;EOF&gt;
</pre><h4 id="HF.Additionofthe22verify22command."><span>F. &nbsp;Addition of the "verify" command.</span></h4><p>The verify command checks that the entity currently selected entity can be instanciated on the system. &nbsp;If no entity is selected, the entire configuration is checked.</p><h4 id="HG.Additionof22commit22command."><span>G. &nbsp;Addition of "commit" command.</span></h4><pre>
    commit ~[ -F ~] ~[ -c ~]
</pre><p>The commit command saves the current modifications to the configuration. If -c is specified, the configuration is also instanciated on the live system as if "pooladm -c" was run. &nbsp;The commit command autmatically does a "verify" first, and prompts the user if the verify fails, poolcfg is in interactive mode, and the force (-F) flag is not.</p><h4 id="HH.Additionofthe22revert22command."><span>H. &nbsp;Addition of the "revert" command.</span></h4><p>The "revert" command throws away the changes made since the last successful commit command or since poolcfg was invoked.</p><h4 id="HI.Additionofthe22export22command."><span>I. &nbsp;Addition of the "export" command.</span></h4><pre>
    export ~[-f output-file~]
</pre><p>The export command writes the configuration currently being edited to standard output, or output-file if the -f option is specified. &nbsp;The output includes all changes since the last commit.</p><h4 id="HJ.Additionofthe22exit22command"><span>J. &nbsp;Addition of the "exit" command</span></h4><pre>
    exit ~[ -f ~]
</pre><p>The exit command terminates poolcfg when in interactive mode or processing a script file. &nbsp;If there are unsaved changes and the -F option is not specified, the user is prompted to verify and save changes.</p><h4 id="HK.Extend22destroy222C22rename222Cand22info22commandstobecontextsensitive."><span>K. Extend "destroy", "rename", and "info" commands to be context sensitive.</span></h4><p>If an entity is selected by a "create" or "modify" command, these commands will operate on the selected entity if given no arguments.</p><p>Example:</p><pre>
    # poolcfg
    poolcfg:&gt; modify pset foo
    poolcfg:pset foo&gt; rename bar
    poolcfg:pset bar&gt;
</pre><h4 id="HL.Additionof22help22command."><span>L. Addition of "help" command.</span></h4><p>Help will give detailed help for all commands. &nbsp;"help set" will list all meaningful properties which can be set on the currently selected (by a create or modify command), or all entity types if no entity is selected.</p><h4 id="HM.Changestooutputof22info22command"><span>M. Changes to output of "info" command</span></h4><p>The info command output will have page tabbing when in interactive mode. &nbsp;It will also not require an argument when an entity is selected.</p><p>Example:</p><pre>
    # poolcfg
    poolcfg:&gt; modify pset pset~_default
    poolcfg:pset pset~_default&gt; info
    pset pset~_default:
        int     sys~_id -1
        boolean default true
        uint	res 1
        uint    min 1
        uint    max 65536
        string  units "population"
        string  comment ""
        cpu 0:
            int       sys~_id 0
            string    comment ""
            string    status "on-line"
        cpu 1:
	    int       sys~_id 1
	    string    comment ""
	    string    status "on-line"
    poolcfg:pset~_default&gt;
</pre><h4 id="HN.New22list22subcommand."><span>N. New "list" subcommand.</span></h4><pre>
    list [ pools | psets | msets | cpus ]
</pre><p>This subcommands lists entities in the pools configuration in a table format. &nbsp;"-" represents an unspecified value.</p><p>Examples:</p><pre>
    # poolcfg list pools
      NAME              PSET            MSET
      pool~_default     pset~_default   mset~_default
      pool~_foo         pset~_foo       mset~_foo
      pool~_bar         pset~_bar       mset~_bar
</pre><pre>
    # poolcfg list psets
      NAME              MIN     MAX     RES     LOCALITY        CPUS
      pset~_default     1	-	-	true		-
      pset~_foo	        1	4	-	true		3,4
      pset~_bar         -       -       1	true		-
</pre><h4 id="HO.Additionunitmodifiers."><span>O. Addition unit modifiers.</span></h4><p>Support for binary unit modifiers when setting/displaying integer values.<br/>Example:</p><pre>
    poolcfg -c "create mset foo ( res = 100mb )"
</pre><h4 id="HP.Automaticenablingofpools."><span>P. Automatic enabling of pools.</span></h4><p>With no configuration present, invoking poolcfg should generate a default config as if pools where enabled. &nbsp;If this config is committed, then pools will automatically enabled. &nbsp;If the configuration contains any dynamic pools objectives, dynamic pools will also be enabled.</p><p>Examples:</p><ul><li>Create a configuration with two pools with unique msets, sharing a pset which should use cpus on the same core if possible:</li></ul><pre>
    # poolcfg
    poolcfg:&gt; create mset A ( res = 100mb )
    poolcfg:&gt; create mset B ( res = 100mb )
    poolcfg:&gt; create pset shared ( res = 4 )
    poolcfg:&gt; create pool A ( pset = shared , mset = A )
    poolcfg:&gt; create pool B ( pset = shared , mset = B)
    poolcfg:&gt; commit -c
    poolcfg:&gt; &lt;EOF&gt;
</pre><ul><li>Here is the same example, using the "add/end", and specifying specific cpus instead of setting the cpu quantity (res):</li></ul><pre>
    # poolcfg
    poolcfg:&gt; create mset A
    poolcfg:mset A&gt; set res = 100mb
    poolcfg:mset A&gt; end
    poolcfg:&gt; create mset B
    poolcfg:mset B&gt; set res = 100mb
    poolcfg:mset B&gt; end
    poolcfg:&gt; create pset shared
    poolcfg:pset shared&gt; set cpus = 4,5,6,7
    poolcfg:pset shared&gt; end
    poolcfg:&gt; create pool A
    poolcfg: pool A&gt; set pset = shared
    poolcfg: pool A&gt; set mset = A
    poolcfg: pool A&gt; end
    poolcfg:&gt; add pool B
    poolcfg:pool B&gt; set pset = shared
    poolcfg:pool B&gt; set mset = shared
    poolcfg:pool B&gt; end
    poolcfg:&gt; commit -c
    poolcfg:&gt; &lt;EOF&gt;

</pre>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:17<br/>
          </div>
    <div class="xdocLastModification">       Last modified by admin on 2009/10/26 12:17
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Project rm Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+rm/docs">Documentation and Examples</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+rm/pools">Resource Pools</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+rm/msets">Memory Sets</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+rm/poolsui">Usability Enhancements</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+rm/rctls">Resource Controls</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+rm/cpu%2Dcaps">CPU caps</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+rm/sysv">System V IPC</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Project+rm/zones">RM for Zones</a></span></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
