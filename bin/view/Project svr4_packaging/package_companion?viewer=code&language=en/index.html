<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>Solaris Package Companion (Project svr4_packaging.package_companion) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Project+svr4_packaging/package_companion" />
                    <link rel="canonical" href="/bin/view/Project+svr4_packaging/package_companion" />
                            <meta name="document" content="Project svr4_packaging.package_companion"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Project svr4_packaging"/>
    <meta name="page" content="package_companion"/>
    <meta name="version" content="7.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Project+svr4_packaging/pages/package_companion"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="Solaris Package Companion" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="Glenn Brunette" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/fullScreen.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Project svr4_packaging";
XWiki.currentPage = "package_companion";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Project+svr4_packaging/package_companion";
window.docediturl = "/bin/edit/Project+svr4_packaging/package_companion";
window.docsaveurl = "/bin/save/Project+svr4_packaging/package_companion";
window.docgeturl = "/bin/get/Project+svr4_packaging/package_companion";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/viewers/code.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/fullScreen.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Project_svr4_packaging viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FProject%2Bsvr4_packaging%2Fpackage_companion%3Fviewer%3Dcode%26%2338%3Blanguage%3Den"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+svr4_packaging/"><strong>Project svr4_packaging</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Project+svr4_packaging" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>
            </td>
            <td style="width: 99%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                  <span class='current'>Solaris Package Companion</span>
          </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Project+svr4_packaging/package_companion?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
        <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Project+svr4_packaging/package_companion?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+svr4_packaging/package_companion?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Project+svr4_packaging/package_companion?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Project+svr4_packaging/package_companion?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Project+svr4_packaging/package_companion?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+svr4_packaging/package_companion?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Project+svr4_packaging/package_companion?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Project+svr4_packaging/package_companion?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Project+svr4_packaging/package_companion?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Project+svr4_packaging/package_companion?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      


<div id="document-title"><h1>Wiki source code of <a href="/bin/view/Project+svr4_packaging/package_companion">Solaris Package Companion</a></h1></div>
                <div id="document-info">
    <div>
                      <span id="contentshortcut"><a href="/bin/view/Project+svr4_packaging/package_companion?viewer=content">Content</a></span>
          </div>
    <div class="clearfloats"></div>
  </div>







<div>
  <a href="/bin/view/Project+svr4_packaging/package_companion?viewer=code&amp;showlinenumbers=0&amp;language=en" id="toggleLineNumbers">Hide line numbers</a>
                                  <textarea readonly="readonly" class="wiki-code" rows="25" cols="80">
  1: == Solaris Package Companion
  2: 
  3: The Solaris Package Companion is a small Korn shell script that allows you to ask quite a number of interesting questions about the relationships between Solaris metaclusters, clusters and packages as well as their respective dependencies.  Very often, answers to these kinds of questions are essential for the construction of minimized systems as well as more generally for OS golden images.
  4: 
  5: The goal of the Solaris Package Companion, or SPC for short, is to do all of the hard work so you don't have to.  SPC will create a cache of important facts by mining information from the various packaging files and directories to allow you to quickly and easily obtain answers to a variety of questions such as:
  6: 
  7: * What clusters or packages are contained in a given metacluster?
  8: * What packages are contained in a given cluster?
  9: * What metacluster or cluster contains a given package?
 10: * On what other packages does a given package or cluster depend?
 11: * Which packages depend on a given package?
 12: * ... and so on...
 13: 
 14: Note that this tool is provided to the community for its use, but it is not officially supported by Sun.
 15: 
 16: === Acknowledgements
 17: 
 18: Thank you to all of the people who given this tool a try!  As of March 2009, the Solaris Package Companion has been downloaded over 4,500 times!
 19: 
 20: I also want to publicly thank the following people who have contributed to this project:
 21: 
 22: * Jerome Blanchet.  For providing a patch to include support for processing of reverse dependency declarations in &quot;depend&quot; files and for providing a patch to improve the processing and display of platform dependent packages.
 23: * Dave Comay.  For reporting a bug related to an unanchored grep operation.
 24: * Clive King.  For pointing out a bug related to the processing of local system package information.
 25: * Fredrich Maney.  For contributing the tree display output mode.
 26: * Peter Pickford.  For pointing out a case where not all package dependencies were being captured.
 27: 
 28: === Downloading the Tool
 29: 
 30: The current version of the Solaris Package Companion is [[v0.9&gt;&gt;https://markebrooks.github.io/bin/download/Project+svr4_packaging/package_companion/spc%2Dv0.9.ksh]].  The MD5 fingerprint for this file is: 
 31: 
 32:      $ **digest -v -a md5 ./spc-v0.9.ksh**
 33:      md5 (./spc-v0.9.ksh) = 0df57f4e0a1cbeea62e3873d1949916c
 34: 
 35: An older [[version&gt;&gt;https://markebrooks.github.io/bin/download/Project+svr4_packaging/package_companion/spc%2Dv0.8.1.ksh]] of the tool is available in case there are any problems with the current version.  The MD5 fingerprint for version 0.8.1 is:
 36: 
 37:      blackhole$ **digest -v -a md5 ./spc-v0.8.1.ksh**
 38:      md5 (./spc-v0.8.1.ksh) = 7bf5831685562b62dce1cc0304b3d720
 39: 
 40: The information below assumes that you are using the latest version of the tool.
 41: 
 42: === Installing the Tool
 43: 
 44: The Solaris Package Companion is just a single shell script and can be installed into any directory location.  Permissions typically should be:
 45: 
 46: {{{
 47:     $ **ls -l spc-v0.9.ksh**
 48:     \-rwxr-xr-x   1 gbrunett staff      24841 Aug  1 14:55 spc-v0.9.ksh
 49: }}}
 50: 
 51: === Using the Tool
 52: 
 53: The following is the list of options supported by the Solaris Package Companion:
 54: 
 55: {{{
 56:     $ **./spc\-v0.9.ksh \-h**
 57:     General Options:
 58:        \-F           [fold packages into their respect clusters - experimental]
 59:        \-h, -?       [show help]
 60:        \-l           [local mode - use local system repositories and data]
 61:        \-r           [repository location]
 62:        \-s           [solaris distribution location]
 63:        \-v           [show package details]
 64:     Processing Options:
 65:        To initialize the information repository used by this tool.
 66:           \-i (used with either the -s or -l options)
 67:        To display the list of packages contained in the specified cluster(s).
 68:           \-c &lt;package cluster list&gt;
 69:        To display the metacluster(s) that contain the specified cluster(s).
 70:           \-C &lt;package cluster list&gt;
 71:        To display the dependencies for the specified package(s).
 72:           \-d &lt;package list&gt;
 73:        To display the dependencies for the specified cluster(s).
 74:           \-D &lt;package cluster list&gt;
 75:        To evaluate install packages on a system against a specified metacluster.
 76:           \-e &lt;metacluster&gt;
 77:        To determine what package contains a given file (experimental).
 78:           \-f &lt;file name&gt; (fully qualified path names only)
 79:        To display the packages contained in the specified metacluster(s).
 80:           \-m &lt;metacluster list&gt;
 81:        To display the clusters contained in the specified metacluster(s).
 82:           \-M &lt;metacluster list&gt;
 83:        To display the cluster that contains the specified package(s).
 84:           \-p &lt;package list&gt;
 85:        To display the metacluster(s) that contain the specified package(s).
 86:           \-P &lt;package list&gt;
 87:        To display a tree view of the specified cluster(s) (experimental).
 88:           \-t &lt;cluster list&gt;
 89:        To display a tree view of the specified metacluster(s) (experimental).
 90:           \-T &lt;metacluster list&gt;
 91:        To display the list of packages that depend on the specified package(s).
 92:           \-z &lt;package list&gt;
 93:        To display the list of packages that depend on the specified cluster(s).
 94:           \-Z &lt;package cluster list&gt;
 95: }}}
 96: 
 97: Before you can use the tool for the first time, you must create its package information cache.  By default, the information cache contains 
 98: information regarding packaging relationships, dependencies, names and even which files are contained within each package.  Collecting this amount of information can generate a cache of over 30M and take several minutes to complete.
 99: 
100: If you are sure you do not need this much information, you can adjust one of the COLLECT_ variables inside of the program.  For each of these variables, the tool will automatically honor a pre-existing value (obtained from the shell or command line).  If no pre-existing value is defined, each of the COLLECT_ variables default to an &quot;on&quot; (1) value.  The smallest cache (created when the COLLECT_ variables are set to &quot;off&quot; (0)) is roughly 4MB.  In general, it is recommended that the settings remain unmodified so that the complete set of functionality is enabled.  Note that the repository need only be created once (for each distribution you want to inspect) so the impact should be minimal both in terms of time and disk space.
101: 
102: The information cache can be created in one of two ways depending on what you would like to accomplish.  First, if you would like to create a cache based on Solaris installation media, then you should use the following command:
103: 
104:      $ **./spc-v0.9.ksh -i -s /media/SOL_11_X86/Solaris_11/Product -r ./myrepository**
105: 
106: This will create a cache based on the Solaris OS media found at the location specified by the {{code}}-r{{/code}} option.  On the other hand, if you wanted to create a cache based upon the local system, you can use the following command:
107: 
108:      $ **./spc-v0.9.ksh -i -l -r ./myrepository**
109: 
110: In this case, it leverages information found on the currently installed system to create its cache (stored in ./myrepository).  Note that since each cache is specified by name, there is nothing to stop you from having multiple caches for different systems, versions of the operating system, etc.
111: 
112: The time to create the cache will vary depending on the media being read as well as the performance of the system on which it is being created.  Initial testing showed that the time could range from 10 to 30 minutes.  Once the cache is created, it will not need to be created nor modified again so this is a one time penalty as noted above.
113: 
114: === Examples
115: 
116: The following are just a few examples to illustrate how the SPC tool can be used to answer some very interesting packaging questions.  We would love to hear about other uses and requirements in this space, so please forward your ideas and feedback along!
117: 
118: Each of these examples was generated using the most recent version of the tool against a Solaris 10 05/08 (Update 5, build 10) repository.  Each of these examples should work with other versions of the Solaris OS including newer Nevada builds.
119: 
120: ==== What packages are in cluster SUNWCssh?
121: 
122: {{{
123:     $ **./spc-v0.9.ksh -r ./myrepository -c SUNWCssh**
124:     SUNWsshcu
125:     SUNWsshdr
126:     SUNWsshdu
127:     SUNWsshr
128:     SUNWsshu
129: }}}
130: 
131: In addition, you can always get more information by specifying the {{code}}-v{{/code}} option:
132: 
133: {{{
134:     $ **./spc-v0.9.ksh -v -r ./myrepository -c SUNWCssh**
135:     [P] SUNWsshcu                 SSH Common, (Usr)
136:     [P] SUNWsshdr                 SSH Server, (Root)
137:     [P] SUNWsshdu                 SSH Server, (Usr)
138:     [P] SUNWsshr                  SSH Client and utilities, (Root)
139:     [P] SUNWsshu                  SSH Client and utilities, (Usr)
140: }}}
141: 
142: Updated in this release is the tag before the item name to inform the user of the type of object being dispayed.  [P] indicates a package while [C] is a cluster and [M] is a metacluster.  In previous releases this was placed between the item name and item description.
143: 
144: Also new in this release is the ability to display information in a tree view.
145: 
146: ==== What packages are in cluster SUNCssh (tree view)?
147: 
148: {{{
149:     $ **./spc-v0.9.ksh -v -r ./myrepository -t SUNWCssh**
150:        [C] SUNWCssh                  Secure Shell
151:           [P] SUNWsshcu                 SSH Common, (Usr)
152:           [P] SUNWsshdr                 SSH Server, (Root)
153:           [P] SUNWsshdu                 SSH Server, (Usr)
154:           [P] SUNWsshr                  SSH Client and utilities, (Root)
155:           [P] SUNWsshu                  SSH Client and utilities, (Usr)
156: }}}
157: 
158: Similar questions can be asked of metaclusters as well:
159: 
160: {{{
161:     $ **./spc-v0.9.ksh -v -r ./myrepository -T SUNWCmreq | head -10**
162:     [M] SUNWCmreq                 Minimal Core System Support
163:        [C] SUNWCfca                  Sun ISP Fibre Channel Device Drivers
164:           [P] SUNWqlc                   Qlogic ISP 2200/2202 Fibre Channel Device Driver
165:           [P] SUNWemlxs                 Emulex-Sun LightPulse Fibre Channel Adapter (FCA) driver (root)
166:        [C] SUNWCfct                  Sun Fibre Channel Transport Software
167:           [P] SUNWfcsm                  FCSM driver
168:           [P] SUNWfctl                  Sun Fibre Channel Transport layer
169:           [P] SUNWfcp                   Sun FCP SCSI Device Driver
170:           [P] SUNWfcip                  Sun FCIP IP/ARP over FibreChannel Device Driver
171:        [C] SUNWCfmd                  Fault Management Daemon and Utilities
172:     [...]
173: }}}
174: 
175: ==== In what metaclusters is the SUNWsshdr package found?
176: 
177: {{{
178:     $ **./spc-v0.9.ksh -v -r ./myrepository -P SUNWsshdr**
179:     [M] SUNWCall                  Entire Distribution
180:     [M] SUNWCprog                 Developer System Support
181:     [M] SUNWCuser                 End User System Support
182:     [M] SUNWCXall                 Entire Distribution plus OEM support
183: }}}
184: 
185: ==== On what packages does the SUNWsshdu package depend?
186: 
187: {{{
188:     $ **./spc-v0.9.ksh -v -r ./myrepository -d SUNWsshdu**
189:     [P] SUNWcakr                  Core Solaris Kernel Architecture (Root)
190:     [P] SUNWcar                   Core Architecture, (Root)
191:     [P] SUNWckr                   Core Solaris Kernel (Root)
192:     [P] SUNWcnetr                 Core Solaris Network Infrastructure (Root)
193:     [P] SUNWcsd                   Core Solaris Devices
194:     [P] SUNWcsl                   Core Solaris, (Shared Libs)
195:     [P] SUNWcsr                   Core Solaris, (Root)
196:     [P] SUNWcsu                   Core Solaris, (Usr)
197:     [P] SUNWgss                   GSSAPI V2
198:     [P] SUNWgssc                  GSSAPI CONFIG V2
199:     [P] SUNWkvm                   Core Architecture, (Kvm)
200:     [P] SUNWopenssl-libraries     OpenSSL Libraries (Usr)
201:     [P] SUNWsshcu                 SSH Common, (Usr)
202:     [P] SUNWsshdr                 SSH Server, (Root)
203:     [P] SUNWzlib                  The Zip compression library
204: }}}
205: 
206: Another new feature is the ability to fold packages back into their respective clusters (where possible).  This can be helpful when trying to create a complete list of items for a standard OE image or JumpStart configuration.  This can be accomplished using the '-F' (folding) option:
207: 
208: {{{
209:     $ **./spc-v0.9.ksh -v -r ./myrepository -d -F SUNWsshdu**
210:     [P] SUNWcakr                  Core Solaris Kernel Architecture (Root)
211:     [P] SUNWcar                   Core Architecture, (Root)
212:     [C] SUNWCcs                   Core Solaris
213:     [C] SUNWCfwcmp                Freeware Compression Utilities
214:     [C] SUNWCopenssl              OpenSSL
215:     [C] SUNWCssh                  Secure Shell
216:     [P] SUNWgss                   GSSAPI V2
217:     [P] SUNWgssc                  GSSAPI CONFIG V2
218:     [P] SUNWkvm                   Core Architecture, (Kvm)
219: }}}
220: 
221: In this case, several of the packages were able to be folded into their respective clusters leaving just a handful of individual packages.  These packages do not belong to any existing software cluster.
222: 
223: ==== Which package contains the file /usr/sbin/zic?
224: 
225: {{{
226:     $ **./spc-v0.9.ksh -r ./myrepository -l -v -f /usr/sbin/zic**
227:     [P] SUNWcsu                   Core Solaris, (Usr)
228: }}}
229: 
230: ==== Which package cluster contains the file /usr/sfw/lib/libcrypto.so?
231: 
232: {{{
233:     $ **./spc-v0.9.ksh -r ./myrepository -l -F -v -f /usr/sfw/lib/libcrypto.so**
234:     [C] SUNWCopenssl              OpenSSL
235: }}}
236: 
237: ==== Which packages depend on the SUNWmfrun package?
238: 
239: {{{
240:     $ **pkginfo SUNWmfrun**
241:     system      SUNWmfrun Motif RunTime Kit
242: }}}
243: 
244: {{{
245:     $ **./spc-v0.9.ksh -v -r ./myrepository -z SUNWmfrun | head -10**
246:     [P] IPLTadcon                 Administration Server Console
247:     [P] IPLTadmin                 Administration Server
248:     [P] IPLTcadcon                Administration Server Console Simplified Chinese Localization
249:     [P] IPLTcadmin                Administration Server Simplified Chinese Localization
250:     [P] IPLTccons                 Console Client Base Simplified Chinese Localization
251:     [P] IPLTcdscon                Directory Server Console Simplified Chinese Localization
252:     [P] IPLTcdsu                  Directory Server (usr) Simplified Chinese Localization
253:     [P] IPLTcons                  Console Client Base
254:     [P] IPLTdscon                 Directory Server Console
255:     [P] IPLTdsr                   Directory Server (root)
256: }}}
257: 
258: This option can also take advantage of the folding (-F) option to merge packages back into their respective clusters (if applicable):
259: 
260: {{{
261:     $ **./spc-v0.9.ksh -v -F -r ./myrepository -z SUNWmfrun | grep &quot;~[C~]&quot;**
262:     [C] SUNWCappserver            Sun Java(tm) System Application Server
263:     [C] SUNWCbrowser              SUNWCbrowser
264:     [C] SUNWCbrowserdev           SUNWCbrowserdev
265:     [C] SUNWCdhcp                 DHCPv4 Services
266:     [C] SUNWCdtdev                CDE Developer Software
267:     [C] SUNWCdtrun                CDE Runtime Software
268:     [C] SUNWCdtts                 Solaris Trusted Extensions CDE
269:     [C] SUNWCdtusr                CDE End User Software
270:     [C] SUNWCevo                  Evolution
271:     [C] SUNWCevodev               Evolution Developer Packages
272:     ...
273: }}}
274: 
275: === Testing the Tool 
276: 
277: After some reworking, I have also released version 0.1 of the Solaris Package Companion Testing Tool, [[spc-test-v0.1.ksh&gt;&gt;https://markebrooks.github.io/bin/download/Project+svr4_packaging/package_companion/spc%2Dtest%2Dv0.1.ksh]].  This tool is fairly configurable, allowing you to test multiple versions of the tool against multiple repositories.  There are currently 48 tests although tests can be easily added or removed as needed.  It can optionally display the results to the screen, but by default it records them in a directory where a basic consistency check is performed to detect differences in output (for the same repository) resulting from the use of different versions of the tool.  This is not intended to be an all encompassing test suite, but rather a basic sanity check to make sure the key functions are working as expected.
278: 
279: === Project Lead(s)
280: 
281: * [[Glenn Brunette&gt;&gt;http://blogs.oracle.com/gbrunett]]
282: 
283: === Additional References
284: 
285: * [[Glenn Brunette's Blog articles on the Solaris Package Companion&gt;&gt;http://blogs.oracle.com/gbrunett/tags/tool-spc]]
286: 
</textarea>
</div>

    <div class="clearfloats"></div>
  </div>    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Project svr4_packaging Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Project+svr4_packaging/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Project+svr4_packaging/package_companion">Solaris Package Companion</a></span></li>
</ul>
                    </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2011, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
