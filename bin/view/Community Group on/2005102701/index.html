<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title>
                  Heads Up PSARC/2004/776 Device checking for fs utlitities (Community Group on.2005102701) - XWiki
              </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="imagetoolbar" content="no"/>
                <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+on/2005102701" />
                        <meta name="document" content="Community Group on.2005102701"/>
    <meta name="space" content="Community Group on"/>
    <meta name="page" content="2005102701"/>
        <meta name="revisit-after" content="7 days" />
<meta name="description" content="Heads Up PSARC/2004/776 Device checking for fs utlitities" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="admin" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />

        <!-- com.xpn.xwiki.plugin.skinx.LinkExtensionPlugin -->
    <link href="/bin/skin/skins/oso/style.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/oso/os_base1.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/oso/print.css" rel="stylesheet" type="text/css" media="print" />
        


    

    <link href="/resources/js/xwiki/fullscreenedit/fullscreenEdit.css" rel="stylesheet" type="text/css" />
<link href="/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->
<script type="text/javascript">
var script1 = document.createElement('script')
script1.src = "/resources/js/prototype/prototype.js"
var script2 = document.createElement('script')
script2.src = "/bin/skin/resources/js/xwiki/xwiki.js"
var script3 = document.createElement('script')
script3.src = "/resources/js/xwiki/suggest/ajaxSuggest.js"
document.getElementsByTagName('head')[0].appendChild(script1);
document.getElementsByTagName('head')[0].appendChild(script2);
document.getElementsByTagName('head')[0].appendChild(script3);
</script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.editor = "";
XWiki.viewer = "";
// ]]>
</script>



  </head>
    	<body id="body" class="xwiki viewbody hidelefthideright">
  <!-- These elements will be closed in the footer vm file -->
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">


<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <br/>
  <br/>
  <div id="Masthead">
    <h1><a href="/bin/view/Main/">OpenSolaris</a></h1>
    <a href="/bin/view/Main/"><div id="MastheadLogo"></div></a>
    <a href="/bin/view/Main/" title="Home" rel="home"></a>
    <div id="Iconbar">
	<a id="CollectivesIcon" href="/bin/view/Main/collectives">Collectives</a>
	<a id="DiscussionsIcon" href="/bin/view/Main/discussions">Discussions</a>
	<a id="DocumentationIcon" href="/bin/view/Main/documentation">Documentation</a>
	<a id="DownloadIcon" href="/bin/view/Main/downloads">Download</a>
	<a id="SourceBrowserIcon" href="http://src.opensolaris.org">Source Browser</a>
	<a id="FreeCD" href="http://www.opensolaris.org/os/TryOpenSolaris/">Free CD</a>
    </div>
  </div>


 <div class="layoutsection">
<div class="minwidthb"></div>

    <div align="right">
      <a class="glink" href="http://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Bon%2F2005102701" id="headerlogin">Log-in</a><span class="separator"> | </span>
  <span class="glink" id="headerlanguages">
  <a href="/bin/view/Community+Group+on/2005102701?language=en">en</a>
    </span>
    </div> 
</div>

 <div id="headerspace" class="layoutsection">
<div class="minwidth"></div>
<hr/>
  <div id="breadcrumbs">
    <span class="breadcrumbspace"><a href="/bin/view/Community+Group+on/">Community Group on</a>: </span>
<a href='/bin/view/Community+Group+on/2005102701'>Heads Up PSARC/2004/776 Device checking for fs utlitities</a>
  </div>
<hr/>
</div>


<div id="menuview"> 
  <div id="actionmenu" class="layoutsubsection">
<h3 id="xwikimenutitle" class="hidden">Top Menu</h3>
<div class="rightmenu">
</div>
<div class="leftmenu">
<div class="topmenuentry" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);" id="tmShow">
<a class="tme"  href="/bin/view/Community+Group+on/2005102701?viewer=code&amp;language=en" ><strong>Show</strong></a><span class="hidden menucolon">: </span><span class="submenu hidden">
<span class="submenuitem"><a href="/bin/view/Community+Group+on/2005102701?viewer=comments&amp;language=en" id="tmShowComments">Comments</a></span>
<span class="submenuitem"><a href="/bin/view/Community+Group+on/2005102701?viewer=attachments&amp;language=en" id="tmShowAttachments">Attachments</a></span>
<span class="submenuitem"><a href="/bin/view/Community+Group+on/2005102701?viewer=history&amp;language=en" id="tmShowHistory">History</a></span>
<span class="submenuitem"><a href="/bin/view/Community+Group+on/2005102701?viewer=information&amp;language=en" id="tmShowInformation">Information</a></span>
</span></div>
 <div class="topmenuentry" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);" id="tmPrint">
<a class="tme"  href="javascript:window.print()" ><strong>Print</strong></a><span class="hidden menucolon">: </span><span class="submenu hidden">
<span class="submenuitem"><a href="javascript:window.print()" id="tmPrintAction">Print</a></span>
<span class="submenuitem"><a href="/bin/view/Community+Group+on/2005102701?xpage=print&amp;language=en" id="tmPrintPreview">Print preview</a></span>
<span class="submenuseparator">&nbsp;</span>
<span class="submenuitem"><a href="/bin/export/Community+Group+on/2005102701?format=pdf&amp;language=en" id="tmExportPdf">Export as PDF</a></span>
<span class="submenuitem"><a href="/bin/export/Community+Group+on/2005102701?format=rtf&amp;language=en" id="tmExportRtf">Export as RTF</a></span>
<span class="submenuitem"><a href="/bin/export/Community+Group+on/2005102701?format=html&amp;language=en" id="tmExportHtml">Export as HTML</a></span>
<span class="submenuitem"><a href="/bin/export/Community+Group+on/2005102701?format=xar&amp;name=Community+Group+on.2005102701&amp;pages=Community+Group+on.2005102701&amp;language=en" id="tmExportXar">Export as XAR</a></span>
</span></div>
</div>
</div>

</div>
<div class="contenthidelefthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
<div class="minwidthb"></div>
<div class="main layoutsubsection">
<div id="xwikicontent">
<h2 id="HHeadsUpPSARC2004776Devicecheckingforfsutlitities"><span>Heads Up PSARC/2004/776 Device checking for fs utlitities</span></h2><pre>

Date: Thu, 27 Oct 2005 09:56:06 -0600
From: Sarah Jelinek &lt;Sarah dot Jelinek at Sun dot COM&gt;
To: on-all at eng dot sun dot com, onnv-gate at onnv dot eng dot sun dot com
Subject: Heads Up PSARC/2004/776 Device checking for fs utlitities

My putback for PSARC/2004/776- Device in use checking for fs utilities,
means that the following utilities will now have device 'in use' checking:

-swap
-dumpadm
-format
-mkfs
-newfs

This new functionality means that now, prior to executing these commands,
the device specified will be checked for current usage by the following
applications:

-zpool
-SVM
-VxVM
-Live Upgrade
-dump
-swap
-/etc/vfstab entry
-mounted filesystems

Depending on the utility, these may or may not constitute 'in use'. Please
see PSARC/2004/776 for full details for each named utility.

What this means is that you may see an error where previously you did
not. For
example, if you have an entry in /etc/vfstab you may have forgotten
about, and
you try to newfs that device, newfs will fail and indicate you must modify
/etc/vfstab prior to using the specified device.

This project is in alignment with the current way the ZFS zpool utility
works
and is part of an overall effort to help our users to not step on themselves
when using these potentially destructive utilities.

Included with this putback are the changes for, PSARC/2005/461-libdiskmgt
should enable bypassing of in use checking. With this you can set
NOINUSE_CHECK = 1 variable value in your environment prior to running
the above utilities and it will not do any in use checking for the
specified
device. It is not recommended you use this flag as it may lead to
unintended
use of a device.

Solaris Install and Live Upgrade have been modified to override the device
in use checking for now, so there should be no issues with standard install
and live upgrade. BFU is unaffected.

For those of you who run TSufs testing, you must set the NOINUSE_CHECK flag
prior to running these tests for now, until a fix is integrated in to TSufs
for this new functionality. It is expected that this fix will happen soon.

Any questions or issues, please contact me.

Thank You,
sarah

</pre>
</div>

<div id="xwikidata" class="layoutsubsection">
                          <div class="about">
<span id="aboutauthor">last modified by admin</span>
<span id="aboutdate">on 2009/10/26 12:09</span>
</div>
</div>  
<div class="clearfloats"></div>
</div>    </div>
  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
  <div id="xwikilicence">&copy; Sun Microsystems Inc. 2009</div>
          <div id="xwikiplatformversion">XWiki Enterprise 1.8.2.19075 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div> 
    <div><a href="/bin/view/Main/tou">Terms Of Use</a> |
         <a href="http://www.sun.com/privacy/">Privacy</a> | 
         <a href="/bin/view/Main/trademark">Trademarks</a> |
         <a href="/bin/view/Main/copyrights">Copyright Policy</a> |
         <a href="/bin/view/Main/site_guidelines">Site Guidelines</a> |
         <a href="/bin/view/Main/site%2Dmap">Site map</a> |
         <a href="/bin/view/Main/help">Help</a></div>
    <div>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.</div>
<hr/>
</div>

</div></div></body>
</html>
