<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>ON IPS FAQ (Community Group on.ON IPS FAQ) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+on/ON+IPS+FAQ" />
                    <link rel="canonical" href="/bin/view/Community+Group+on/ON+IPS+FAQ" />
                            <meta name="document" content="Community Group on.ON IPS FAQ"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group on"/>
    <meta name="page" content="ON IPS FAQ"/>
    <meta name="version" content="11.2"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+on/pages/ON+IPS+FAQ"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="ON IPS FAQ" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="Richard Lowe" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group on";
XWiki.currentPage = "ON IPS FAQ";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+on/ON+IPS+FAQ";
window.docediturl = "/bin/edit/Community+Group+on/ON+IPS+FAQ";
window.docsaveurl = "/bin/save/Community+Group+on/ON+IPS+FAQ";
window.docgeturl = "/bin/get/Community+Group+on/ON+IPS+FAQ";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_on viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Bon%2FON%2BIPS%2BFAQ"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+on/"><strong>Community Group on</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+on" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <div id="header_banner">
	<table style="width: 100%;">
	    <tr>
		<td style="width: 1%;">
		    <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
		</td>
		<td id="logo-text" style="width: 1%;">
		    Solaris
		</td>         
		<td style="width: 98%;">
		    <table id="loading-indicator">
			<tr>
			    <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
				    alt="Loading" title="Loading"/></td>
			    <td>Loading...</td>
			</tr>
		    </table>
		</td>
		<td style="width: 1%;">
		    <table id="iconbar">
			<tr>
			<td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
			    Collectives</a></td>
			<td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
				Discussions</a></td>
			<td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
				Documentation</a></td>
			<td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
				Download</a></td>
			<td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
				Source Browser</a></td>
			</tr>
		    </table>
		</td>
	    </tr>
	</table>
    </div>
    <div id="site-notice">
	<span>
	    <a href="https://markebrooks.github.io/bin/view/Main/">ATTENTION: This website and all services within the opensolaris.org domain will be unavailable after March 24, 2013.</a>	   
	</span>
    </div>
</div>
 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                  <span class='current'>ON IPS FAQ</span>
          </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+on/ON+IPS+FAQ?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+on/ON+IPS+FAQ?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+on/ON+IPS+FAQ?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+on/ON+IPS+FAQ?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+on/ON+IPS+FAQ?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+on/ON+IPS+FAQ?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+on/ON+IPS+FAQ?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+on/ON+IPS+FAQ?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+on/ON+IPS+FAQ?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+on/ON+IPS+FAQ?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+on/ON+IPS+FAQ?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>ON IPS FAQ</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<p>The final days of SVR4 packaging as a delivery mechanism for Solaris are coming quickly. &nbsp;OpenSolaris has been delivered using IPS since its original release in 2008.05, and the Sun Storage 7000 Series also uses the Nevada codebase but not the ON SVR4 packages. &nbsp;All consolidations will be moving to delivering IPS repositories to Release Engineering (RE) rather than SVR4 packages before Solaris Next. &nbsp;This page describes FAQs about ON's transition to delivering an IPS repository to Release Engineering and stopping its SVR4 deliveries.</p><h5 id="HTopics"><span>Topics</span></h5><ul><li><span class="wikilink"><a href="#HKeylinks">Key links</a></span></li><li><span class="wikilink"><a href="#HWhat27schangingfordevelopers3F">What's changing for developers?</a></span></li><li><span class="wikilink"><a href="#HHowwillIbuildmybits3F">How will I build my bits?</a></span></li><li><span class="wikilink"><a href="#HHowwillIinstallandtestmybits3F">How will I install and test my bits?</a></span></li><li><span class="wikilink"><a href="#HHowdoIinstalladditionalONpackages3F">How do I install additional ON packages?</a></span></li><li><span class="wikilink"><a href="#HHowdoImakepackagingchanges3F">How do I make packaging changes?</a></span></li></ul><hr/><h3 id="HKeylinks"><span>Key links</span></h3><p>Questions about this project are best addressed to on-ips-dev@opensolaris.org, where a number of developers are available to answer queries. &nbsp;We'll manually approve all non-spam, but if you want to not get caught up in manual moderation of the alias, subscribe to the mailman list by sending a mail to &nbsp;on-ips-dev-subscribe@opensolaris.org. &nbsp;You can also view the archives at <span class="wikiexternallink"><a href="http://mail.opensolaris.org/pipermail/on-ips-dev/"><span class="wikigeneratedlinkcontent">http://mail.opensolaris.org/pipermail/on-ips-dev/</span></a></span></p><p>Many questions are answered by one of these documents. &nbsp;Please review them carefully.</p><p><span class="wikiexternallink"><a href="http://static.opensolaris.org/on/flagdays/pages/20100302184109.html">Flag Day message</a></span></p><p><span class="wikiexternallink"><a href="http://src.opensolaris.org/source/xref/pkg/on_ips/usr/src/pkg/README.pkg">usr/src/pkg/README.pkg</a></span></p><p><span class="wikiexternallink"><a href="https://markebrooks.github.io/bin/download/Community+Group+on/ON+IPS+FAQ/onips%2Dktd.pdf">ON IPS Technical TOI Slides</a></span></p><p><span class="wikiexternallink"><a href="http://dlc.sun.com/osol/docs/content/2009.06/IMGPACKAGESYS/index.html">General IPS Documentation</a></span></p><h3 id="HWhat27schangingfordevelopers3F"><span>What's changing for developers?</span></h3><p>Please see the <span class="wikiexternallink"><a href="http://static.opensolaris.org/on/flagdays/pages/20100302184109.html">Flag Day message</a></span> for details.</p><h3 id="HHowwillIbuildmybits3F"><span>How will I build my bits?</span></h3><p>More details on how to build are available in the project's <span class="wikiexternallink"><a href="http://src.opensolaris.org/source/xref/pkg/on_ips/usr/src/pkg/README.pkg">README.pkg</a></span>, but a general overview is included below.</p><h4 id="Hnightly"><span>nightly</span></h4><p>You should continue to use nightly with -t to drive automated builds. &nbsp;You must use the new nightly, and can build that by<br/><span class="box code">ws $CODEMGR_WS; cd usr<span style="color: #666666; ">/</span>src<span style="color: #666666; ">/</span>tools<span style="color: #666666; ">/</span>scripts; make; ^D</span><br/>Nightly has been updated to build IPS repositories when the -p option is specified. &nbsp;The IPS repositories will be placed in $CODEMGR_WS/packages/$MACH/nightly[-nd].</p><h4 id="Hbldenvandmake"><span>bldenv and make</span></h4><p>Once you've got a populated proto area, and your environment is setup correctly with bldenv, you can also <br/><span class="box code">cd $CODEMGR_WS<span style="color: #666666; ">/</span>usr<span style="color: #666666; ">/</span>src<span style="color: #666666; ">/</span>pkg; dmake install; dmake check</span><br/>which will build an architecture-specific repository and place it in $CODEMGR_WS/packages/$MACH/nightly[-nd]. &nbsp;The <tt>make check</tt> will do a protocmp-style check against your proto area to ensure that all bits are packaged and all packages describe bits in the proto area.</p><h3 id="HHowwillIinstallandtestmybits3F"><span>How will I install and test my bits?</span></h3><h4 id="HInstall"><span>Install</span></h4><p>Cap-I Install will continue to work unchanged for developers making kernel-only changes.</p><h4 id="Hpkgimage-update"><span>pkg image-update</span></h4><p>pkg image-update is the tool our customers use to upgrade their systems. &nbsp;It is also the preferred tool now for updating ON bits to nightly, project, or developer bits. &nbsp;Today, this requires a server, pkg.depotd, to be started to serve your package repository. &nbsp;In the future, a server will not be required. &nbsp;However, starting the server is not a challenging step, and we'll be providing a script called <tt>onu</tt> to set up your test machine or desktop, start a server, and update to your bits all with one command, but using only supported interfaces under the covers.</p><p>After you've built your repository, this is done by starting pkg.depotd on your test machine against an NFS mounted repository from your build machine. &nbsp;If your test machines and build machines are connected by a slow or bandwidth-limited network, there's benefit in copying the repo close to the test machines, especially if there are multiple to update. &nbsp;In some cases, running the repo on the build machine is the right choice, but developers will need to manage that shared resource as they do disk space usage.</p><p>More details on doing image-update are available in the project's <span class="wikiexternallink"><a href="http://src.opensolaris.org/source/xref/pkg/on_ips/usr/src/pkg/README.pkg">README.pkg</a></span>.</p><h4 id="HBFU2Cbutonlytemporarily"><span>BFU, but only temporarily</span></h4><p>BFU will be removed about 2 builds after initial integration of the IPS bits. &nbsp;pkg image-update is very similar to what BFU used to do, but in a form that is supportable and used by our customers. &nbsp;When developers use the same tools as our customers to install and upgrade their bits, the quality of the product increases. &nbsp;If there are flaws with our supported tools, please help our customers by investing in improving those tools rather than creating developer-specific one-offs. &nbsp;The IPS team welcomes contributions.</p><h4 id="HPIT"><span>PIT</span></h4><p>Both DIY and project PIT will be able to accept IPS repositories for test runs.</p><h4 id="HTestingInstall"><span>Testing Install</span></h4><p>Testing install as our customers will see it is a much easier process on OpenSolaris than it was on Nevada. &nbsp;Developers making changes which may impact the install environment should use the Distribution Constructor to assemble an IPS-based install image to test from. &nbsp;Minor changes to the process are required, but the basic steps are covered here: <span class="wikiexternallink"><a href="http://blogs.sun.com/lianep/entry/testing_on_changes_with_opensolaris"><span class="wikigeneratedlinkcontent">http://blogs.sun.com/lianep/entry/testing_on_changes_with_opensolaris</span></a></span></p><div class="wikimodel-emptyline"></div><h4 id="HQ:28SunInternal29HowdoIgetOpenSolarisonmyOPGlabmachines3F"><span>Q<img src="/resources/icons/silk/emoticon_unhappy.gif" class="wikimodel-freestanding" alt="emoticon_unhappy"/>Sun Internal) How do I get OpenSolaris on my OPG lab machines?</span></h4><p>A: <span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://labspace.central.sun.com/wiki/index.php/OpenSolarisInstallDirections"><span class="wikigeneratedlinkcontent">http://labspace.central.sun.com/wiki/index.php/OpenSolarisInstallDirections</span></a></span></p><h4 id="HQ:WhataboutusingACR3F"><span>Q:What about using ACR?</span></h4><p>A: The SVR4 package postinstall scripts ACR invoked are being removed. &nbsp;If you're adding a driver, or need a driver added, you'll need to modify your driver files (name_to_major, etc.) by hand. &nbsp;Doing so is a good sign you should be testing on IPS-installed systems instead.</p><h3 id="HHowdoIinstalladditionalONpackages3F"><span>How do I install additional ON packages?</span></h3><p>If you've used onu, or want to install additional ON packages from your workspace, you currently need to learn to start up a depot manually. &nbsp;These instructions are included in <span class="wikiexternallink"><a href="http://src.opensolaris.org/source/xref/pkg/on_ips/usr/src/pkg/README.pkg">README.pkg</a></span>, but are fairly straightforward.</p><p>On your build machine,<br/><span class="box code">cd $CODEMGR_WS<span style="color: #666666; ">/</span>packages<span style="color: #666666; ">/</span>$MACH<span style="color: #666666; ">/</span>nightly[<span style="color: #666666; ">-</span>nd]</span><br/><span class="box code"><span style="color: #666666; ">/</span>usr<span style="color: #666666; ">/</span>lib<span style="color: #666666; ">/</span>pkg.depotd <span style="color: #666666; ">-</span>d repo.redist <span style="color: #666666; ">-</span>p <span style="color: #666666; ">&lt;</span>port<span style="color: #666666; ">&gt;</span> <span style="color: #666666; ">&amp;</span></span></p><p>If you're building without ON_CRYPTO_BINS set, you also need the on-extra repository.<br/><span class="box code"><span style="color: #666666; ">/</span>usr<span style="color: #666666; ">/</span>lib<span style="color: #666666; ">/</span>pkg.depotd <span style="color: #666666; ">-</span>d repo.extra <span style="color: #666666; ">-</span>p <span style="color: #666666; ">&lt;</span>different<span style="color: #666666; ">-</span>port<span style="color: #666666; ">&gt;</span> <span style="color: #666666; ">&amp;</span></span></p><div class="wikimodel-emptyline"></div><p>Make SURE you choose an unused port and the depot starts successfully.</p><p>Configure your test system.<br/><span class="box code">pkg set<span style="color: #666666; ">-</span>publisher <span style="color: #666666; ">-</span>P <span style="color: #666666; ">-</span>g http:<span style="color: #666666; ">//&lt;</span>your server host<span style="color: #666666; ">&gt;</span>:<span style="color: #666666; ">&lt;</span>port<span style="color: #666666; ">&gt;</span> on<span style="color: #666666; ">-</span>nightly</span><br/>Again, if you're building without ON_CRYPTO_BINS set:<br/><span class="box code">pkg set<span style="color: #666666; ">-</span>publisher <span style="color: #666666; ">-</span>g http:<span style="color: #666666; ">//&lt;</span>your server host<span style="color: #666666; ">&gt;</span>:<span style="color: #666666; ">&lt;</span>different<span style="color: #666666; ">-</span>port<span style="color: #666666; ">&gt;</span> on<span style="color: #666666; ">-</span>extra</span></p><p>Then you can install additional packages with <span class="box code">pkg install <span style="color: #666666; ">&lt;</span>package<span style="color: #666666; ">&gt;</span></span>. &nbsp;If you wish to do this after <span class="box code">onu</span> but before reboot, look at where your new BE is mounted with <span class="box code">beadm list</span>, and then use the -R option to pkg install to install the package in your new BE.</p><p>Alternatively, after installation but before <span class="box code">onu</span>, install the package and <span class="box code">onu</span> will take care of upgrading it for you.</p><h3 id="HHowdoImakepackagingchanges3F"><span>How do I make packaging changes?</span></h3><p>For an overview, read the project's <span class="wikiexternallink"><a href="http://src.opensolaris.org/source/xref/pkg/on_ips/usr/src/pkg/README.pkg">README.pkg</a></span> and the <tt>pkg</tt>(5) manpage on your OpenSolaris system.</p><h4 id="HQ:Whataboutmypostinstall2Cclassaction2Candotherpackagingscripts3F"><span>Q: What about my postinstall, class action, and other packaging scripts?</span></h4><p>A: The most common modification to postinstall scripts is to modify driver files. &nbsp;Driver file updates are now done declaratively in the package manifest in a <tt>driver</tt> action.</p><p>For other postinstall scripts, please read about how to avoid writing packaging scripts which must work in a wide variety of install and upgrade contexts and replace them with self-assembling software. &nbsp;<span class="wikiexternallink"><a href="http://src.opensolaris.org/source/xref/pkg/gate/doc/scripting.txt"><span class="wikigeneratedlinkcontent">http://src.opensolaris.org/source/xref/pkg/gate/doc/scripting.txt</span></a></span></p><div class="wikimodel-emptyline"></div><p><a name="packaging_ownership"></a></p><h4 id="HQ:Doesn27tsomeoneelseownthepackagingofmysoftware3F"><span>Q: Doesn't someone else own the packaging of my software?</span></h4><p>A: Sorry, but there are no magic packaging elves introduced with the switch from SVR4 to IPS. &nbsp;As with SVR4, each technology owner remains responsible for ensuring that their software components install and upgrade properly through the packaging system. &nbsp;Because we've changed to a new packaging system, this will likely involve more diligence than it has while we were not investing in and thus not changing installation and packaging technologies for our customers.</p>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by Liane Praza on 2010/01/12 13:32<br/>
          </div>
    <div class="xdocLastModification">       Last modified by Richard Lowe on 2010/07/31 17:02
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group on Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/ON+IPS+FAQ">ON IPS FAQ</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/crt">CRT</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/advocates">Advocates & Sponsors</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/becoming%2Da%2Dsponsor">Becoming a Sponsor</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/becoming%2Dan%2Dadvocate">Becoming a CRT Advocate</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/charter">Charter</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/rti%2Dnits">RTI nits to avoid</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/sponsor%2Dtasks">Sponsor Tasks</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/dev_solaris">Developing Solaris</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/qual_death_spiral">Quality Death Spiral</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_toc">Developer’s Reference</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_1">Introduction</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_2">Prerequisites</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_3a">The Source Tree, part 1</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_3b">The Source Tree, part 2</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_4">Building OpenSolaris</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_5">Installing and Testing OpenSolaris</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_6">Integration Procedure</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_7">Best Practices and Requirements</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/devref_glossary">Glossary</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/findunref">findunref and unreferenced files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/flag%2Ddays">ONNV Flag Days, Heads Ups, and Project Integration History</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/101%2D105">Builds 101&#45;105</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/106%2D110">Builds 106&#45;110</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/111%2D115">Builds 111&#45;115</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/116%2D120">Builds 116&#45;120</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/121%2D125">Builds 121&#45;125</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/126%2D130">Builds 126&#45;130</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/21%2D25">Builds 21&#45;25</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/26%2D30">Builds 26&#45;30</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/31%2D35">Builds 31&#45;35</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/36%2D40">Builds 36&#45;40</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/41%2D45">Builds 41&#45;45</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/46%2D50">Builds 46&#45;50</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/51%2D55">Builds 51&#45;55</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/56%2D60">Builds 56&#45;60</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/61%2D65">Builds 61&#45;65</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/66%2D70">Builds 66&#45;70</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/71%2D75">Builds 71&#45;75</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/76%2D80">Builds 76&#45;80</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/81%2D85">Builds 81&#45;85</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/86%2D90">Builds 86&#45;90</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/91%2D95">Builds 91&#45;95</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/96%2D100">Builds 96&#45;100</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/install_quickstart">Installation (from source) Quickstart</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/example_nightly">Annotated nightly(1) Mail Example</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/known_issues">Currently Known Issues</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/onnv_putback_logs">Putback Logs</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/os_dev_process">Development Process</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/schedule">Schedule</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/shellstyle">Bourne/Korn Shell Coding Conventions</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+on/wx">wx</a></span></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2013, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
