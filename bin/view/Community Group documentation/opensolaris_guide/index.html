<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>OpenSolaris Primer (Community Group documentation.opensolaris_guide) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+documentation/opensolaris_guide" />
                    <link rel="canonical" href="/bin/view/Community+Group+documentation/opensolaris_guide" />
                            <meta name="document" content="Community Group documentation.opensolaris_guide"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group documentation"/>
    <meta name="page" content="opensolaris_guide"/>
    <meta name="version" content="1.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+documentation/pages/opensolaris_guide"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="OpenSolaris Primer" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="admin" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group documentation";
XWiki.currentPage = "opensolaris_guide";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+documentation/opensolaris_guide";
window.docediturl = "/bin/edit/Community+Group+documentation/opensolaris_guide";
window.docsaveurl = "/bin/save/Community+Group+documentation/opensolaris_guide";
window.docgeturl = "/bin/get/Community+Group+documentation/opensolaris_guide";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_documentation viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Bdocumentation%2Fopensolaris_guide"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+documentation/"><strong>Community Group documentation</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+documentation" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                              <a href='/bin/view/Community+Group+documentation/docprojects'>OpenSolaris: Documentation Projects</a> <span class='separator'>&#187;</span> <span class='current'>OpenSolaris Primer</span>
                </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+documentation/opensolaris_guide?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+documentation/opensolaris_guide?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+documentation/opensolaris_guide?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+documentation/opensolaris_guide?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+documentation/opensolaris_guide?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+documentation/opensolaris_guide?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+documentation/opensolaris_guide?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+documentation/opensolaris_guide?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+documentation/opensolaris_guide?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+documentation/opensolaris_guide?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+documentation/opensolaris_guide?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          <span class="submenuitem "><a href="/bin/view/Community+Group+documentation/opensolaris_guide?xpage=copy" id="tmActionCopy" class="tmActionCopy">Copy</a></span>
      </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








                      
<div id="document-title"><h1>OpenSolaris Primer</h1></div>



    <strong>NOTE: The
 documentation community group
 is no longer active on this website so information here may be out of date. Current Oracle Solaris 11 product documentation can be found </strong>
  <strong><a href="http://www.oracle.com/technetwork/server-storage/solaris11/documentation/index.html">here</a>.</strong>
  <strong>Information about downloading Oracle Solaris 11 can be found <a href="http://www.oracle.com/technetwork/server-storage/solaris11/downloads/index.html">here</a>.</strong>
<hr>
  


              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h2 class='hidden'>OpenSolaris Primer</h2><p>&nbsp;This document is a summary of the features in OpenSolaris, with a focus on providing examples and demonstrations for each. This has been written by the OpenSolaris Community.</p><p>&nbsp;These features may be specific to OpenSolaris, Solaris 10, or even older Solaris versions; the aim is to cover what makes OpenSolaris a great OS. The origin of each feature is documented, to identify the OpenSolaris build number or Solaris release.</p><hr/><hr/><h3 id="HFeatures"><span>Features</span></h3><hr/><hr/><hr/><h4 id="HBART"><span>BART</span></h4><p>&nbsp;The Basic Audit Reporting Tool provides a database of message digest and inode details. This can be helpful for many reasons, such as intrusion detection and forensics.</p><p>&nbsp;An example of BART detecting a change is,</p><pre>
   # find /etc | bart create -I &gt; etc1.bart
   # ed /etc/passwd
   580
   1s/-/-Duper-/
   w
   586
   q
   # find /etc | bart create -I &gt; etc2.bart
   # bart compare etc1.bart etc2.bart
   /etc/passwd:
     size  control:580  test:586
     mtime  control:423c07a9  test:426a5d10
     contents  control:e90fc4977a824822f360b0c0fb79f567  test:a8f272b513f109f233408067b7eb0e62

</pre><p>&nbsp;BART was added in Solaris Express 11/03.</p><p><span class="wikiexternallink"><a href="http://www.sun.com/blueprints/0405/819-2260.pdf">BART Bluprint</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;BART Blueprint</p><hr/><hr/><h4 id="HCommands"><span>Commands</span></h4><p><strong>pfiles</strong> has been enhanced to display pathnames for file descriptors,</p><pre>
   pfiles `pgrep syslog`
   342:    /usr/sbin/syslogd
   [...]
      6: S_IFREG mode:0644 dev:102,0 ino:30080 uid:0 gid:0 size:142041
         O_WRONLY|O_APPEND|O_NOCTTY|O_LARGEFILE
         /var/adm/messages
      7: S_IFREG mode:0644 dev:102,0 ino:30079 uid:0 gid:3 size:0
         O_WRONLY|O_APPEND|O_NOCTTY|O_LARGEFILE
         /var/log/syslog
   [...]

</pre><p><strong>ls</strong> has new options for time, -e and -E,</p><pre>
   ls -E /etc/motd
   -rw-r~--r~--   1 root     sys           54 2005-01-22 10:46:06.000000000 +1100 /etc/motd

</pre><hr/><hr/><h4 id="HDTrace"><span>DTrace</span></h4><p>&nbsp;DTrace is an analysis tool that combines features of truss, apptrace, mdb, C and awk, as well as adding many unique features of it's own. It will help sys admins and delevopers troubleshoot faults and performance problems in amazing detail, and has solved many problems that were previously too difficult to identify.</p><p>&nbsp;DTrace provides us with new tools such as lockstat, plockstat and intrstat. For example,</p><pre>
   # intrstat 1
         device |      cpu0 %tim
   ~-------------+~---------------
          hme#0 |       219 14.3
         uata#0 |         0  0.0
   ^C
</pre><p>&nbsp;The CPU is spending 14% of it's time to satisfy hme0 interrupts, previously too difficult to measure!</p><p>&nbsp;DTrace also provides a command line tool. Here we find which process is generating the most interprocessor crosscalls,</p><pre>
   # dtrace -n 'sysinfo:::xcalls { @num[execname] = count(); }'
   dtrace: description 'sysinfo:::xcalls ' matched 4 probes
   ^C
     dtrace                                                          105
     sched                                                           135
     tar                                                            4120

</pre><p>&nbsp;Very cool, but that's the tip of the iceberg. DTrace provides a new language, D, and at least 30,000 probes to measure. It's possible to write standalone DTrace scripts to analyse just about anying. Here we snoop disk I/O,</p><pre>
   # iosnoop
     UID   PID D    BLOCK   SIZE       COMM PATHNAME
     100 15795 R     3808   8192        tar /usr/bin/eject
     100 15795 R    35904   6144        tar /usr/bin/eject
     100 15795 R    39828   6144        tar /usr/bin/env
     100 15795 R     3872   8192        tar /usr/bin/expr
     100 15795 R    21120   7168        tar /usr/bin/expr
   [...]

</pre><p>&nbsp;In the above output we can see the tar command is using the disks, as well as the block number, size and pathname accessed!</p><p>&nbsp;DTrace was added in Solaris Express 11/03.</p><p><span class="wikilink"><a href="/bin/view/Community+Group+dtrace/">DTrace Community</a></span> is the DTrace community on OpenSolaris.<br/><span class="wikiexternallink"><a href="http://www.sun.com/bigadmin/content/dtrace">DTrace BigAdmin</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;is the BigAdmin DTrace website.<br/><span class="wikiexternallink"><a href="http://docs.sun.com/app/docs/doc/817-6223">DTrace Docs</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;is the DTrace Guide.<br/><span class="wikiexternallink"><a href="http://www.brendangregg.com/dtrace.html">DTrace Tools</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;is a repository of DTrace scripts and examples.</p><hr/><hr/><h4 id="Hgcc"><span>gcc</span></h4><p>&nbsp;gcc is available here,</p><pre>
   /usr/sfw/bin/gcc -v
   Reading specs from /usr/sfw/lib/gcc/i386-pc-solaris2.10/3.4.3/specs
   Configured with: /builds/sfw10-gate/usr/src/cmd/gcc/gcc-3.4.3/configure ~--prefix=/usr/sfw ...
   Thread model: posix
   gcc version 3.4.3 (csl-sol210-3_4-branch+sol_rpath)
   #
   # /usr/sfw/bin/gmake
   gmake: *** No targets specified and no makefile found.  Stop.

</pre><p>&nbsp;gcc was shipped with the first Solaris 10 release.</p><p><span class="wikiexternallink"><a href="http://gcc.gnu.org">gcc</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;gcc Home Page.</p><hr/><hr/><h4 id="HKernel"><span>Kernel</span></h4><p>&nbsp;General Kernel features,</p><ul><li>Multi-tasking</li><li>Virtual Memory</li><li>Fully Preemptive</li><li>64-bit capable</li></ul><p><em>add stuff here&nbsp;</em></p><hr/><hr/><h4 id="HKstat"><span>Kstat</span></h4><p>&nbsp;Kstat is the Kernel Statistics Facility, a single programming interface to provide module statistics to non-privileged processes. Commands like vmstat, iostat, mpstat and sar are Kstat based. There is a ton of info in Kstat, and it is very useful for developers to find all the system statistics in one place.</p><p>&nbsp;Developers writing device drivers should include support for Kstat. Developers writing tools can use Kstat in C, Perl or shell (but preferably C <img src="/resources/icons/silk/emoticon_smile.gif" class="wikimodel-freestanding" alt="emoticon_smile"/>.</p><pre>
   #  man -l kstat.3kstat Sun::Solaris::Kstat kstat.1m    # list C, Perl and CLI man pages
   kstat.3kstat (3kstat)   -M /usr/man
   Sun::Solaris::Kstat (3) -M /usr/perl5/man
   kstat.1m (1m)   -M /usr/man
   #
   # kstat cpu_info:0:cpu_info0:clock_MHz                    # fetch a value using the CLI
   module: cpu_info                        instance: 0
   name:   cpu_info0                       class:    misc
           clock_MHz                       333

</pre><p><span class="wikiexternallink"><a href="http://developers.sun.com/solaris/articles/kstatc.html">Kstat Developers 1</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Kstat for C Developers<br/><span class="wikiexternallink"><a href="http://developers.sun.com/solaris/articles/kstat_part2.html">Kstat Developers 2</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Kstat for shell and Perl Developers<br/><span class="wikiexternallink"><a href="http://www.brendangregg.com/k9toolkit.html">K9Toolkit</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Kstat tools written using Perl</p><hr/><hr/><h4 id="HIPFilter"><span>IP Filter</span></h4><p>&nbsp;IP Filter is a freeware firewall written by Darren Reed of Australia. It has a simple command line interface, a lightweight look and feel, but is somewhat powerful.</p><p>&nbsp;The following is a summary of IP Filter usage,</p><pre>
   # ipf -Fa -f /etc/ipf/ipf.conf          # load rules
   # ipfstat -ionh                         # list rules
   # ipnat -CF -f /etc/ipf/ipnat.conf      # load NAT
   # ipnat -l                              # list NAT
   # vi /etc/ipf/pfil.ap                   # activate interface
   # ls /usr/share/ipfilter/examples       # examples,
   BASIC.NAT   example.10  example.2   example.6   example.sr  ip_rules    pool.conf
   BASIC_1.FW  example.11  example.3   example.7   firewall    mkfilters   server
   BASIC_2.FW  example.12  example.4   example.8   ftp-proxy   nat-setup   tcpstate
   example.1   example.13  example.5   example.9   ftppxy      nat.eg

</pre><p>&nbsp;This is a simple ruleset that blocks all inbound TCP traffic except for SSH, and allows all outbound traffic,</p><pre>
   # cat /etc/ipf/ipf.conf
   pass in quick on hme0 proto tcp from any to any port = 22 keep state
   block return-rst in log on hme0 proto tcp from any to any
   pass out on hme0 proto tcp from any to any keep state
   #
   # ipfstat -ionh
   0 @1 pass out on hme0 proto tcp from any to any keep state
   2 @1 pass in quick on hme0 proto tcp from any to any port = ssh keep state
   9 @2 block return-rst in log on hme0 proto tcp from any to any

</pre><p>&nbsp;IP Filter was added in Solaris Express 2/04.</p><p><span class="wikiexternallink"><a href="http://coombs.anu.edu.au/avalon/">IP Filter Home</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;IP Filter Homepage.<br/><span class="wikiexternallink"><a href="http://coombs.anu.edu.au/ipfilter/examples.html">IP Filter Examples</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;IP Filter Examples.<br/><span class="wikiexternallink"><a href="http://docs.sun.com/app/docs/doc/816-4554">IP Filter Docs</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Chapters 24 and 25 of the answerbook.</p><hr/><hr/><h4 id="HIPQoS"><span>IPQoS</span></h4><p>&nbsp;IPQoS allows us to classify packets based on various rules, and then stamp the packets with different priorities. Some rules are for port numbers, IP addresses, or UIDs (outbound), other rules called meters can check the rate of traffic. It is based on numerous RFCs, in particular RFC2475, and works best when other network devices also talk IPQoS.</p><pre>
   # ls /etc/inet/ipqosconf.*                      # example configs
   /etc/inet/ipqosconf.1.sample  /etc/inet/ipqosconf.3.sample
   /etc/inet/ipqosconf.2.sample
   #
   # ipqosconf -v -a /etc/inet/ipqosinit.conf      # load configs
   #
   # man -l ipqos ipqosconf ipgpc tokenmt tswtclmt dscpmk flowacct
   ipqos (7ipp)    -M /usr/share/man
   ipqosconf (1m)  -M /usr/share/man
   ipgpc (7ipp)    -M /usr/share/man
   tokenmt (7ipp)  -M /usr/share/man
   tswtclmt (7ipp) -M /usr/share/man
   dscpmk (7ipp)   -M /usr/share/man
   flowacct (7ipp) -M /usr/share/man

</pre><p>&nbsp;IPQoS was added to Solaris 9 9/02.</p><p><span class="wikiexternallink"><a href="http://docs.sun.com/app/docs/doc/816-4554">IPQoS Docs</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;in Chapters 31 to 36.</p><hr/><hr/><h4 id="HMTBUFS"><span>MTB UFS</span></h4><p>&nbsp;MultiTerabyte UFS is a new flavor of Sun's enhanced UFS (which is based on the Fast File System, FSS + many enhancements by Sun over the years). MTB_UFS is the default for file systems greater than a terabyte, which it has been optimised for. Other commands, such as fsck and ufsdump support this new file system type.</p><p>&nbsp;Here we use MTB_UFS on a tiny slice that normally wouldn't, so the -T is necessary to force it,</p><pre>
  # newfs -T /dev/dsk/c0t1d0s0
   newfs: construct a new file system /dev/rdsk/c0t1d0s0: (y/n)? y
   /dev/rdsk/c0t1d0s0:     16839648 sectors in 16706 cylinders of 16 tracks, 63 sectors
           8222.5MB in 59 cyl groups (286 c/g, 140.77MB/g, 192 i/g)
   super-block backups (for fsck -F ufs -o b=#) at:
    32, 288384, 576736, 865088, 1153440, 1441792, 1730144, 2018496, 2306848,
    2595200,
    14126208, 14414560, 14702912, 14991264, 15279616, 15567968, 15856320,
    16144672, 16433024, 16721376,

</pre><p>&nbsp;Notice the cylinder groups are much larger than usual, and there are fewer inodes than normal.</p><p>&nbsp;MTB_UFS was added in Solaris 9 8/03.</p><p><span class="wikiexternallink"><a href="http://www.brendangregg.com/findbill">findbill</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;find UFS/MTB_UFS backups - the only google hit for MTB_UFS!</p><hr/><hr/><h4 id="HOpenSSL"><span>OpenSSL</span></h4><p>&nbsp;The OpenSSL cryptography toolkit provides commands and libraries that are needed by other software.</p><p>&nbsp;There is a /usr/sfw/include/openssl dicectory, as well as the following command,</p><pre>
   $ /usr/sfw/bin/openssl md5 /usr/bin/ls
   MD5(/usr/bin/ls)= b46d86445cb33dff0c3029730aab3a1f
   $
   $ /usr/sfw/bin/openssl enc -aes128 -in /etc/passwd -out /tmp/passwd.aes128
   $ enter aes-128-cbc encryption password:
   $ Verifying - enter aes-128-cbc encryption password:

</pre><p>&nbsp;OpenSSL was added in Solaris Express 8/04.</p><p><span class="wikiexternallink"><a href="http://www.openssl.org/">OpenSSL</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;OpenSSL Homepage</p><hr/><hr/><h4 id="HPAM"><span>PAM</span></h4><p>&nbsp;The Pluggable Authentication Module provides a single authentication point for applications, and sysadmins the ability to change or enhance how authentication is performed. Extra modules can be written in C, placed in /usr/lib/security, and activated by editing /etc/pam.conf.</p><p>&nbsp;For example, the following are the modules that allow rlogin to use trusts,</p><pre>
   # grep rhosts /etc/pam.conf
   rlogin  auth sufficient         pam_rhosts_auth.so.1
   rsh     auth sufficient         pam_rhosts_auth.so.1

</pre><p>&nbsp;PAM was added in Solaris 2.6.</p><p><span class="wikiexternallink"><a href="http://www.sun.com/software/solaris/pam/">PAM Docs</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;PAM Docs on www.sun.com</p><hr/><hr/><h4 id="HPatchManager"><span>Patch Manager</span></h4><p>&nbsp;Patch Manager provides many ways to automatically manage patches on a server, depending on what strategy is suitable for the environment. Different methods include seperate analysis then download then install steps, or full automation with an "update".</p><p>&nbsp;The following shows the configurables, then a portion of an analysis run,</p><pre>
   # smpatch get
   patchpro.backout.directory      -               ""
   patchpro.download.directory     -               /var/sadm/spool
   patchpro.install.types          -               rebootafter:reconfigafter:standard
   patchpro.patch.source           https://updateserver.sun.com/solaris/  https://updateserver.sun.com/solaris/
   patchpro.patchset               -               patchdb
   patchpro.proxy.host             mars            ""
   patchpro.proxy.passwd           ****            ****
   patchpro.proxy.port             8080            8080
   patchpro.proxy.user             -               ""
   patchpro.sun.passwd             ****            ****
   patchpro.sun.user               yourlogin       ""
   #
   # smpatch analyze
   119146-01 SunOS 5.10_x86: usr/snadm/lib Patch
   119253-01 SunOS 5.10_x86: System Administration Applications Patch
   119316-01 SunOS 5.10_x86: Solaris Management Applications Patch
   119314-01 SunOS 5.10_x86: WBEM Patch
   [...]

</pre><p>&nbsp;Patch Manager was added in Solaris Express 6/04.</p><p><span class="wikiexternallink"><a href="http://docs.sun.com/app/docs/doc/817-1985">Patch Manager Docs</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;in Chapters 18 and 19.</p><hr/><hr/><h4 id="HSMF"><span>SMF</span></h4><p>&nbsp;The Solaris Management Framework replaces the usual boot scripts found under /etc/rcS.d/S*... It provides many advantages: faster booting - as services can be started in parallel across CPUs, dependancy checking, excellent logs during boot, a central configuration location, and a simple interface.</p><p>&nbsp;In this above example, we disable ssh using "svcadm" and check the status using "svcs". The change will persist across reboots.</p><pre>
   # ssh 0
   The authenticity of host '0 (0.0.0.0)' can't be established.
   RSA key fingerprint is 3e:97:ab:fe:18:2e:1a:1f:6a:39:6e:f7:19:bd:43:85.
   Are you sure you want to continue connecting (yes/no)? ^C
   # svcadm disable ssh
   # ssh 0
   ssh: connect to host 0 port 22: Connection refused
   # svcs ssh
   STATE          STIME    FMRI
   disabled       11:04:22 svc:/network/ssh:default

</pre><p>&nbsp;In the following example, there is a fault with the network card during boot. Many services are now offline, and "svcs -xv" is used to determine the root cause of the problem,</p><pre>
   # svcs -xv
   svc:/network/physical:default (physical network interfaces)
    State: maintenance since Sun Apr 24 11:13:36 2005
   Reason: Start method exited with $SMF_EXIT_ERR_CONFIG.
      See: http://sun.com/msg/SMF-8000-KS
      See: man -M /usr/share/man -s 1M ifconfig
      See: /etc/svc/volatile/network-physical:default.log
   Impact: 8 dependent services are not running:
           svc:/milestone/network:default
           svc:/network/nfs/nlockmgr:default
           svc:/network/nfs/client:default
           svc:/network/nfs/status:default
           svc:/network/nfs/cbd:default
           svc:/network/nfs/mapid:default
           svc:/network/ipfilter:default
           svc:/network/ssh:default

</pre><p>&nbsp;The logfile make it clear what is wrong. When the fault is fixed and network/physical is reenabled, all the offline services immediatly start. SMF is really smart and saves a lot of typing.</p><p>&nbsp;SMF (also called the Solaris Service Manager) was introduced Solaris Express 10/04.</p><p><span class="wikiexternallink"><a href="http://www.sun.com/bigadmin/content/selfheal/smf-quickstart.html">SMF Quickstart</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;SMF Quickstart Guide on BigAdmin<br/><span class="wikiexternallink"><a href="http://www.sun.com/bigadmin/content/selfheal/sdev_intro.html">SMF Developer</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Service Developer Introduction on BigAdmin<br/><span class="wikiexternallink"><a href="http://docs.sun.com/app/docs/doc/817-1985">SMF Docs</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Chapter 9</p><hr/><hr/><h4 id="HSolarisCryptographicFramework"><span>Solaris Cryptographic Framework</span></h4><p>&nbsp;The Solaris Cryptographic Framework is based on the Public Key Cryptographic Standard PKCS11 from RSA Security. It allows sysadmins to administer encryption provided by software libraries or hardware cards, and provides developers with a stardard API for adding to the framework.</p><p>&nbsp;The cryptoadm command can be used list all providers, install or uninstall software providers, and enable or disable hardware providers.</p><p>&nbsp;One immediate benifit of the Solaris Cryptographic Framework is the addition of the commands digest and encrypt,</p><pre>
   $  digest
   digest: usage: digest -l | [-v] -a &lt;algorithm&gt; [file...]
   $ digest -v -a md5 /usr/bin/ls
   md5 (/usr/bin/ls) = b46d86445cb33dff0c3029730aab3a1f
   $
   $ encrypt
   encrypt: usage: encrypt -l | -a &lt;algorithm&gt; [-k &lt;keyfile&gt;] [-i &lt;infile&gt;]
                           [-o &lt;outfile&gt;]
   $
   $ encrypt -l
   Algorithm       Keysize:  Min   Max (bits)
   ~------------------------------------------
   aes                       128   128
   arcfour                     8   128
   des                        64    64
   3des                      192   192

</pre><p>&nbsp;PS. MD5 and SHA1 may be insecure, check recent articles on collisions. Good thing we have the Solaris Cryptographic Framework, as it is easy to upgrade these algorithms. <img src="/resources/icons/silk/emoticon_smile.gif" class="wikimodel-freestanding" alt="emoticon_smile"/></p><p>&nbsp;The Solaris Cryptographic Framework was added in stages, from Solaris Express 9/03 to Solaris Express 6/04.</p><p><span class="wikiexternallink"><a href="http://www.sun.com/bigadmin/xperts/sessions/12_crypt/">BigAdmin Xperts</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Xpert transcript on BigAdmin<br/><span class="wikiexternallink"><a href="http://www.sun.com/bigadmin/features/articles/crypt_framework.html">&nbsp;BigAdmin Article</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Article on BigAdmin</p><hr/><hr/><h4 id="HStarOffice7"><span>StarOffice 7</span></h4><p>&nbsp;StarOffice 7 is a fast and very capable word processor suite. It can import and export to all of the popular file formats, plus it's own formats generate nicely small files.</p><p>&nbsp;The first time StarOffice is executed it configures itself, then it behaves as normal,</p><pre>
   $ /usr/bin/soffice -h
   StarOffice 7  645m52(Build:8824)

   Usage: soffice [options] [documents...]

</pre><p>&nbsp;StarOffice was added to the Solaris 10 release.</p><p><span class="wikiexternallink"><a href="http://www.sun.com/software/star/staroffice/index.xml">StarOffice 7</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;StarOffice 7 at www.sun.com<br/><span class="wikiexternallink"><a href="http://www.staroffice.com/">StarOffice.Com</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;StarOffice User Portal</p><hr/><hr/><h4 id="HTCPMDT"><span>TCP MDT</span></h4><p>&nbsp;TCP MultaData Transmit allows TCP/IP to aggregate packets sent to the network device driver, reducing the overhead of switching between these modules. This increases network performance.</p><p>&nbsp;Testing using TTCP (Test TCP) on an busy UltraSPARC 10 with TCP MDT turned on and then off,</p><pre>
   # java ttcp -n 32768 -t 192.168.1.1
   Transmit: buflen= 8192  nbuf= 32768 port= 5001
   Transmit connection:
     Socket[addr=alfa/192.168.1.1,port=5001,localport=33398].
   Transmit: 268435456 bytes in 29776 milli-seconds = 9015.162 KB/sec (72121.3 Kbps).
   #
   # ndd -set /dev/ip ip_multidata_outbound 0
   #
   # java ttcp -n 32768 -t 192.168.1.1
   Transmit: buflen= 8192  nbuf= 32768 port= 5001
   Transmit connection:
     Socket[addr=alfa/192.168.1.1,port=5001,localport=33391].
   Transmit: 268435456 bytes in 34520 milli-seconds = 7776.23 KB/sec (62209.84 Kbps).

</pre><p>&nbsp;When TCP MDT is turned on we get 9.0 Mb/s, and when off 7.7 Mb/s. The more loaded the server is, the greater the difference.</p><p>&nbsp;TCP MDT was added in the Solaris 9 8/03 release.</p><hr/><hr/><h4 id="HWebmin"><span>Webmin</span></h4><p>&nbsp;Webmin is a freeware GUI that allows easy administration of common tasks. To activate webmin,</p><pre>
   # /usr/sfw/bin/webminsetup
   Login name (default root):

   Web server port (default 10000):

   Use SSL?  [y,n,?,q] y
   ***********************************************************************
   *            Welcome to the Webmin setup script, version 1.170        *
   ***********************************************************************
   Webmin is a web-based interface that allows Unix-like operating
   systems and common Unix services to be easily administered.
   [...]

</pre><p>&nbsp;Then connect to <span class="wikiexternallink"><a class="wikimodel-freestanding" href="https://localhost:10000"><span class="wikigeneratedlinkcontent">https://localhost:10000</span></a></span> in your browser to start webmin. New modules exist for SMF and IP Filter.</p><p>&nbsp;webmin was added in Solaris Express 11/04.</p><p><span class="wikiexternallink"><a href="http://www.webmin.com">Webmin</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;The Webmin homepage.</p><hr/><hr/><h4 id="HZFS"><span>ZFS</span></h4><p>ZFS is both a volume manager and a file system, and is the world's most advanced file system technology. Its numerous features include checksums on all data, 128-bit capacity, dynamic striping, incredible ease of use, and excellent performance.</p><p>There are two main commands for administering ZFS: zpool and zfs. Here, a single zpool command is issued to take four 75 Gbyte disks and create a mirrored, checksumed, dynamically-striped pool of storage, called "fast". The next two zpool commands observe the state of the pool.</p><pre>
   # zpool create fast mirror c1t0d0 c1t1d0 mirror c1t2d0 c1t3d0
   #
   # zpool list
   NAME              SIZE    USED   AVAIL    CAP  HEALTH     ALTROOT
   pool            149.1G   2.92M  149.1G     0%  ONLINE     -
   #
   # zpool status
     pool: fast
    state: ONLINE
    scrub: none requested
   config:

           NAME        STATE     READ WRITE CKSUM
           fast        ONLINE       0     0     0
             mirror    ONLINE       0     0     0
               c1t0d0  ONLINE       0     0     0
               c1t1d0  ONLINE       0     0     0
             mirror    ONLINE       0     0     0
               c1t2d0  ONLINE       0     0     0
               c1t3d0  ONLINE       0     0     0

   errors: No known data errors

</pre><p>After creating a storage pool, file systems can be created that use that pool. Here the zfs command is used to create a file system called "fast/home", which has a 20 Gbyte quota, compresses data (for both greater capacity and improved I/O throughput), and is mounted on /export/home.</p><pre>
   # zfs create fast/home
   # zfs set mountpoint=/export/home fast/home
   # zfs set compression=on fast/home
   # zfs set quota=20G fast/home
   # zfs list
   NAME                   USED  AVAIL  REFER  MOUNTPOINT
   fast                  91.0K 149.1G   9.5K  /fast
   fast/home                8K  20.0G     8K  /fast/home
   #
   # df -F zfs -h
   Filesystem             size   used  avail capacity  Mounted on
   fast/home               20G     9K    20G     1%    /export/home
   fast                   149G    91K   149G     1%    /fast

</pre><p>ZFS is already in OpenSolaris, and will be part of the Solaris 10 6/06 release.</p><p><span class="wikilink"><a href="/bin/view/Community+Group+zfs/">ZFS Community</a></span> OpenSolaris ZFS Community.<br/><span class="wikiexternallink"><a href="http://www.sun.com/software/solaris/zfs_learning_center.jsp">ZFS Learning Center</a></span> introduces ZFS.<br/><span class="wikiexternallink"><a href="http://www.sun.com/smi/Press/sunflash/2006-05/sunflash.20060502.5.xml?cid=155">ZFS Release</a></span> Announcement for the Solaris 10 6/06 release.<br/><span class="wikiexternallink"><a href="http://www.sun.com/2004-0914/feature/">ZFS Article</a></span> Sun's ZFS article.<br/><span class="wikiexternallink"><a href="http://uadmin.blogspot.com/2006/05/why-zfs-for-home.html">ZFS For Home</a></span> discusses using ZFS for home use.<br/><span class="wikiexternallink"><a href="http://unixconsult.org/zfs_vs_lvm.html">ZFS vs LVM</a></span> compares differences between ZFS and Linux LVM.<br/>&nbsp;Also see the manpages for zpool and zfs, which are an excellent reference and include many examples.</p><hr/><hr/><h4 id="HZones"><span>Zones</span></h4><p>&nbsp;A zone is a virtual instance of Solaris. Zones are great for isolation of network serives, sharing resources on a large server, or creating development environments. Each zone has it's own root password, it's own /etc and /var files, and it's own OS files if installed in that way.</p><p>&nbsp;In the following, a zone is created that by default will share (lofs ro) most of the OS with the global zone (the root install),</p><pre>
   # zonecfg -z small-zone
   small-zone: No such zone configured
   Use 'create' to begin configuring a new zone.
   zonecfg:small-zone&gt; create
   zonecfg:small-zone&gt; set autoboot=true
   zonecfg:small-zone&gt; set zonepath=/export/small-zone  
   zonecfg:small-zone&gt; add net
   zonecfg:small-zone:net&gt; set address=192.168.2.101
   zonecfg:small-zone:net&gt; set physical=hme0
   zonecfg:small-zone:net&gt; end
   zonecfg:small-zone&gt; verify
   zonecfg:small-zone&gt; exit
   # mkdir /export/small-zone
   # chmod 700 /export/small-zone
   # zoneadm -z small-zone install
   Preparing to install zone &lt;small-zone&gt;.
   Creating list of files to copy from the global zone.
   Copying &lt;2574&gt; files to the zone.
   [...]

</pre><p>&nbsp;A single server may run many zones, each can be rebooted independantly to the global zone. Here we list all the zones and login to one of them,</p><pre>
   # zoneadm list -cv
     ID NAME             STATUS         PATH            
      0 global           running        /                
      1 workzone4        running        /export/workzone4 
      2 workzone3        running        /export/workzone3  
      3 workzone2        running        /export/workzone2   
      4 workzone1        running        /export/workzone1   
   #
   # zlogin workzone1
   [Connected to zone 'workzone1' pts/2]
   Last login: Tue Apr 19 09:39:57 on pts/2
   Sun Microsystems Inc.   SunOS 5.10      Generic January 2005
   Welcome to Sol10_Generic on sfe2900
   #

</pre><p>&nbsp;Resource control is possible for CPU and Memory in a variety of ways. The Fair Share Schedular can divide CPU resources between busy zones depending on ratios. The following demonstrates the result of attempting to give workzone1 60%, workzone2 30% and workzone3 10% of the CPUs,</p><pre>
   # prstat -Z
      PID USERNAME  SIZE   RSS STATE  PRI NICE      TIME  CPU PROCESS/NLWP       
     2008 root     4000K 1168K cpu513  28    0   0:02:11 3.7% cpuhog.pl/1
     2018 root     4000K 1168K cpu1    32    0   0:02:11 3.7% cpuhog.pl/1
   [...]
   ZONEID    NPROC  SIZE   RSS MEMORY      TIME  CPU ZONE        
        2       51  182M   93M   0.5%   0:37:27  59% workzone1   
        4       51  182M   92M   0.5%   0:16:25  30% workzone2   
        3       51  183M   93M   0.5%   0:16:30  10% workzone3   
        0       61  359M  194M   1.1%   0:00:11 0.1% global      
        1       34  116M   72M   0.4%   0:00:12 0.0% workzone4   
   Total: 248 processes, 659 lwps, load averages: 51.19, 40.28, 20.52

</pre><p>&nbsp;Zones was released with Solaris Express 2/04.</p><p><span class="wikilink"><a href="/bin/view/Community+Group+zones/">Zones Community</a></span> OpenSolaris Zones Community.<br/><span class="wikiexternallink"><a href="http://www.sun.com/bigadmin/content/zones">Zones BigAdmin</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Zones BigAdmin<br/><span class="wikiexternallink"><a href="http://docs.sun.com/db/doc/817-1592">Zones Docs</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Zones Answerbook on docs.sun.com<br/><span class="wikiexternallink"><a href="http://www.brendangregg.com/zones.html">Zones Examples</a></span><img src="https://markebrooks.github.io/bin/download/Community+Group+documentation/opensolaris_guide/images%2Fout.png" alt="images/out.png"/>&nbsp;Zones Examples, including resource control</p><h3 id="HContents"><span>Contents</span></h3><hr/><ul><li>Apache 2</li><li>BART - Basic Audit Reporting Tool</li><li>BIND 9</li><li>BSM - Basic Security Module</li><li>Command Enhancements</li><li>DISM - Dynamic Intimate Shared Memory</li><li>Drivers</li><li>DRP - Dynamic Resource Pools</li><li>DTrace - Dynamic Tracing</li><li>ELF Signatures</li><li>FireEngine</li><li>Flash Archives</li><li>FMA - Fault Management Architecture</li><li>gcc v3.4.3 - GNU C Compiler</li><li>IP Filter</li><li>IPP - Internet Printing Protocol</li><li>IPQoS - IP Quality of Service</li><li>J2SE 5 - Java 2 Platform, Standard Edition 5</li><li>JDS3 - Java Desktop System 3</li><li>JumpStart</li><li>Kernel Features</li><li>Kstat - Kernel Statistics Facility</li><li>LDAP - Directory Server</li><li>MTB UFS - MultiTerabyte UFS</li><li>NFSv4</li><li>OpenSSL</li><li>PAM - Pluggable Authentication Module</li><li>Password Enhancements</li><li>Patch Manager</li><li>RBAC - Role Based Access Control</li><li>rcapd - Resource Capping Daemon</li><li>Signed Patches and Packages</li><li>SMA - System Management Agent</li><li>SMF - Solaris Management Framework</li><li>Solaris Cryptographic Framework</li><li>StarOffice 7</li><li>SUNWCrnet - Reduced Networking Software Group</li><li>SVM - Solaris Volume Manager</li><li>TCP MDT - TCP Multidata Transmit</li><li>UFS - Unix File System</li><li>VFS - Virtual File System</li><li>WAN Boot</li><li>Webmin</li><li>X11</li><li>Zebra Multiprotocol Routing</li><li>ZFS - Zetabyte Filesystem</li><li>Zones</li></ul><hr/><h3 id="HGuidelines"><span>Guidelines</span></h3><hr/><p>&nbsp;Each section is a summary so try to be brief - get to the point and provide a small example if possible. Make sure the subject fits on one screen (ok, DTrace, Zones and ZFS may be exceptions to that!). Add the release that this feature was added, and a short list of related websites.</p><p>&nbsp;More detailed examples can be created as extra wiki enties, and linked to in the list of links.</p><hr/><h3 id="HHistory"><span>History</span></h3><hr/><p>&nbsp;23-Apr-05 This site was created - Brendan.<br/>&nbsp;23-Apr-05 Added DTrace, TCP MDT, Webmin, IP Filter, gcc, commands, MTB UFS, SCF sections - Brendan.<br/>&nbsp;24-Apr-05 Added Zones, StarOffice 7, Patch Manager, BART, IPQoS, SMF, Kstat, PAM sections - Brendan.<br/>&nbsp;11-Nov-05 Moved contents section to end for readability and changed title - Michelle.<br/>&nbsp;21-May-06 Some updates, including ZFS - Brendan.</p><hr/><h3 id="HContributionList"><span>Contribution List</span></h3><hr/><p>&nbsp;Alphabetical Order,</p><ul><li>Brendan Gregg</li></ul>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by admin on 2009/10/26 12:07<br/>
          </div>
    <div class="xdocLastModification">       Last modified by admin on 2009/10/26 12:07
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group documentation Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/dev">Developer Documentation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/doc_collab">Contributor Resources</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/docs+wiki+collaboration+space">Docs Wiki</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/feature_docs">How To Participate</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/manpageguide">Man Page Guidelines</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/persist_links">Persistent Links to Man Pages</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/style_guide">Documentation Style Resources for OpenSolaris</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/tools">Documentation Tools</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/docprojects">OpenSolaris: Documentation Projects</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/opensolaris_guide">OpenSolaris Primer</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/examples">Examples</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/files">Files</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/hw">Hardware Documentation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/install">Build, Install, Patch, and Upgrade Documentation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/newbie_faq">New&#45;to&#45;Solaris FAQ</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/reviews">Doc Reviews</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/Dual_Boot_Install_Doc_Plan">Doc Plan: Dual&#45;Boot OpenSolaris DP2 with a Second Operating System</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/sysadmin">System Administration Documentation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/tmp">Doc Downloads</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/docs%2Dindex">Current Open Source Documentation</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+documentation/license">OpenSolaris Documentation License Information</a></span></li>
</ul></li>
</ul>
                                                            </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
