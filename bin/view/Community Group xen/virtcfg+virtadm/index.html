<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>virtcfg+virtadm (Community Group xen.virtcfg+virtadm) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+xen/virtcfg%2Bvirtadm" />
                    <link rel="canonical" href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm" />
                            <meta name="document" content="Community Group xen.virtcfg+virtadm"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group xen"/>
    <meta name="page" content="virtcfg+virtadm"/>
    <meta name="version" content="2.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+xen/pages/virtcfg%2Bvirtadm"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="virtcfg+virtadm" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="Tim Foster" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group xen";
XWiki.currentPage = "virtcfg+virtadm";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+xen/virtcfg%2Bvirtadm";
window.docediturl = "/bin/edit/Community+Group+xen/virtcfg%2Bvirtadm";
window.docsaveurl = "/bin/save/Community+Group+xen/virtcfg%2Bvirtadm";
window.docgeturl = "/bin/get/Community+Group+xen/virtcfg%2Bvirtadm";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_xen viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Bxen%2Fvirtcfg%252Bvirtadm"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+xen/"><strong>Community Group xen</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+xen" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                  <span class='current'>virtcfg+virtadm</span>
          </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+xen/virtcfg%2Bvirtadm?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+xen/virtcfg%2Bvirtadm?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+xen/virtcfg%2Bvirtadm?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>virtcfg+virtadm</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h1 id="Hvirtcfg26virtadm:makingxVMguestadministrationeasy"><span>virtcfg &amp; virtadm: making xVM guest administration easy</span></h1><h3 id="HIntroduction"><span>Introduction</span></h3><p>virtcfg and virtadm were written to make configuration, installation and maintenance of xVM guests on OpenSolaris domU a lot easier.</p><p>Using syntax similar to zonecfg(1M)/zoneadm(1M) the tools should be very familar to people already used to managing zones on OpenSolaris. &nbsp;The tools, written in Python, make use of libvirt on the backend to communicate with the hypervisor.</p><p>In this document, we'll walk through a quick example, then show the usage for both tools.</p><h3 id="HSourcesandcompiling:"><span>Sources and compiling:</span></h3><pre>
 $ hg clone ssh://timf@hg.opensolaris.org//hg/xen-gate/virtcfg-gate
 $ cd virtcfg-gate
 $ make pkgs
 .
 .
 $ pfexec pkgadd -d packages SUNWvirt
</pre><p>To install SUNWvirt, the following packages must exist on the system:</p><ul><li>OpenSolaris xVM hypervisor support nv_129 or later (SUNWxvm)</li><li>SUNWxvmdom</li><li>SUNWlibvirt</li><li>SUNWurlgrabber</li><li>SUNWvdisk</li><li>SUNWvirtinst</li><li>SUNWunzip</li><li>SUNWPython26</li><li>SUNWp7zip</li><li>SUNWpython-lxml</li><li>SUNWvncviewer&nbsp;</li></ul><h2 id="Hvirtcfg"><span>virtcfg</span></h2><p>This tool provides a simple interactive or scriptable CLI to configure guests.</p><p>It is based around the concepts of resources and properties. &nbsp;We can navigate around a directory-tree of these resources, adding new resources and setting properties on those resources as needed.</p><p>Help is provided throughout the CLI using the 'help' command, and extended prompting can be turned on using the 'prompt' command.</p><p>To script virtcfg, users can simply echo or cat virtcfg commands through stdin or just run virtcfg commands from the command line, eg. 'virtcfg list -r myguest'</p><p>Out of the box, several default guest templates are provided. &nbsp;We can create new templates from any existing guest or resource (see 'help commit'). &nbsp;Templates that create an entire guest allows the user to run 'virtcfg -t myguest_template newguest' from the command line, whereas templates of individual resources allow us to add that resource with a template, eg. 'add -t mydisk disk'</p><p>We use the 'context' command to switch virtcfg between several different guest contexts, allowing it to configure the permanent state of the guest, the guest's runtime state, or the state of the guest the next time it is booted.</p><div class="wikimodel-emptyline"></div><h2 id="Hvirtadm"><span>virtadm</span></h2><p>Taking configurations created by virtcfg, virtadm is responsible for installing and managing guest state.</p><div class="wikimodel-emptyline"></div><h2 id="HVirtcfgexample"><span>Virtcfg example</span></h2><p>Here is a simple example of creating an OpenSolaris guest:</p><pre>
-bash-4.0# virtcfg templates guest
NAME                TYPE          LOCATION
centos-5.4          guest         -
debian-lenny        guest         -
fedora-11           guest         -
linux-hvm           guest         -
linux-pv            guest         -
opensolaris         guest         -
solaris10           guest         -
ubuntu              guest         -
windows-xp          guest         -
-bash-4.0# virtcfg -t opensolaris myguest
creating new guest guest from template opensolaris

.
. [ omitting help messages]

(myguest)/:&gt; ls
id/
boot/
params/
devices/
install/
cpu_capped: 1
memory: 1024M
(myguest)/:&gt; cd devices/network/datalink
(myguest)/devices/network/datalink:&gt; ls
cappedbandwidth: [unset]
mac: [unset]
name: auto
over: auto
type: vnic
vlan: [unset]
(myguest)/devices/network/datalink:&gt; set mac=auto
(myguest)/devices/network/datalink:&gt; cd /
(myguest)/:&gt; cd install
(myguest)/install:&gt; ls
configuration: [unset]
source: file:///path/to/opensolaris-dvd.iso
status: configured
type: cd
(myguest)/install:&gt; set source=/space/guests/osol-dev-129-x86.iso
(myguest)/install:&gt; cd /devices
(myguest)/devices:&gt; templates disk
NAME                TYPE          LOCATION
iscsi               disk          /devices
iso                 disk          /devices
path                disk          /devices
zvol                disk          /devices
(myguest)/devices:&gt; add -t zvol disk
(myguest)/devices/disk:&gt; set volume/capacity=16g
(myguest)/devices/disk:&gt; set volume/name=space/guests/myguestdsk      
(myguest)/devices/disk:&gt; set /memory=2048g
(myguest)/devices/disk:&gt; set /cpu_capped=2
(myguest)/devices/disk:&gt; commit
virtcfg: written myguest
(myguest)/devices/disk:&gt; exit
</pre><h2 id="Hvirtadmexample"><span>virtadm example</span></h2><pre>
-bash-4.0# virtadm list
NAME                TYPE BRAND  STATE  
myguest             xen  pv     halted 
osol                xen  pv     halted 
zone-10-5-236-226   xen  pv     running
newguest            xen  pv     running
-bash-4.0# virtadm install myguest
virtadm: creating ZFS volume space/guests/myguestdsk ... done
virtadm: waiting for myguest to start ..........

virtadm: waiting for install completion
Connected to domain 15
Escape character is '^]'
v3.4.2-xvm-debug chgset 'Sun Dec 06 22:26:11 2009 -0800 19673:56d9e54df9d2'
SunOS Release 5.11 Version snv_129 64-bit
Copyright 1983-2009 Sun Microsystems, Inc.  All rights reserved.
Use is subject to license terms.
Hostname: opensolaris
Remounting root read/write
Probing for device nodes ...
Preparing live image for use

[ install guest as usual 

Ctrl-] to drop the console

]
</pre><h3 id="Hvirtcfgusage"><span>virtcfg usage</span></h3><pre>
timf@x4150-sfb-19[1309] virtcfg --help
Usage:

virtcfg - Configure guests or create/modify guest templates

virtcfg [-c &lt;context&gt;] [-t template] name

-c      Specify the context for editing the guest configuration
-t      Template to use when creating a guest

virtcfg starts and provides an interactive shell which accepts commands
to be run on the named guest configuration, or template.  If a guest
with the given name does not yet exist, one is created based upon the
given template, or the default guest template.

Help is provided using the command "help".

The context can be provided, allowing the editing of the guest
just for that particular context. Supported contexts are:
next, permanent, runtime

When provided with standard input, commands are read from that
input and applied to the given guest or template.

EXAMPLES:
    $ virtcfg myguest
    $ virtcfg -c next myguest
    $ echo 'cd devices
    &gt; add -t iscsi disk
    &gt; commit' | virtcfg myguest    
    $ virtcfg mytemplate
    $ virtcfg help add

Usage:
 add [ -t tmpl ] &lt;resource&gt;        Add a resource
 clear &lt;property&gt; ...              Clear one or more properties
 clone &lt;new guest&gt;                 Clone a guest
 commit [-f] [-t] [-n] [name]      Save configuration or template
 context [context]                 Switch context
 delete &lt;name&gt;                     Delete a template or guest configuration
 exit                              Exit virtcfg
 get | info [-p] &lt;prop&gt; ...        Get one or more property values
 help [object] | [cmd]             Show help for a resource, property or command
 history [-c]                      Print command history
 list | ls [-r] [-l|-p] [path]..   List resources
 prompt [on|off]                   Toggle or set the extended CLI prompting
 remove | rm &lt;expr&gt; ...            Remove one or more resources or properties
 select | cd [expr]                Navigate around the tree
 set &lt;prop&gt;=&lt;value&gt;                Set a property value
 templates [-pH] [-o field] [name] List templates


</pre><div class="wikimodel-emptyline"></div><h2 id="Hvirtadmusage"><span>virtadm usage</span></h2><pre>

timf@x4150-sfb-19[1310] virtadm --help

virtadm [-d dbg] [-q?] subcmd ...
  -q, --quiet           suppress verbose output
  -d DEBUG, --debug=DEBUG
                        set debug options
  -?, --help            show usage message

virtadm boot [-CcdW] [-t timeout] guestname
  -C, --no-console      don't connect to the guest console
  -t TIMEOUT, --timeout=TIMEOUT
                        timeout in seconds
  -W, --no-wait         don't wait
  -c, --text            connect to the guest's text console
  -d, --display         connect to the guest's display

virtadm halt [-fW] [-t timeout] guestname
  -t TIMEOUT, --timeout=TIMEOUT
                        timeout in seconds
  -W, --no-wait         don't wait
  -f, --force           destroy guest

virtadm reboot [-CcdW] [-t timeout] guestname
  -C, --no-console      don't connect to the guest console
  -c, --console         connect to the guest's text console
  -d, --display         connect to the guest's display
  -t TIMEOUT, --timeout=TIMEOUT
                        timeout in seconds
  -W, --no-wait         don't wait

virtadm console [-cd] guestname
  -c, --text     connect to the guest's text console
  -d, --display  connect to the guest's display

virtadm refresh guestname

virtadm list [-o field,... -p] [guestname[,...]]
  -H, --no-header       don't output header
  -o FIELDS, --output=FIELDS
                        output given fields
  -p, --parseable       output machine-readable format

virtadm install [-CcdtW] guestname
  -C, --no-console      don't connect to the guest console
  -c, --text            connect to the guest's text console
  -d, --display         connect to the guest's display
  -t TIMEOUT, --timeout=TIMEOUT
                        timeout in seconds
  -W, --no-wait         don't wait

virtadm import [-f] source [dest]
  -f, --force  import over existing guest

virtadm export -f format guestname destination
  -f FORMAT, --format=FORMAT
                        output format

virtadm migrate [-nw] guestname destination
  -n, --dry-run  perform a dry-run test
  -w, --warm     warm migrate

virtadm suspend guestname [destination]

virtadm resume [-pr] guestname [source]
  -p, --preserve  preserve image file
  -r, --remove    remove image file

virtadm dump guestname [outpath]

virtadm group [list|add|remove] [group] [args...]
  -p, --parseable       output machine-readable format
  -h HOST, --host=HOST  host name
  -d DOMAIN, --domain=DOMAIN
                        domain name

virtadm history [-c] [-Hp] [-o field,...]
  -c, --clear           clear history
  -H, --no-header       don't output header
  -o FIELDS, --output=FIELDS
                        output given fields
  -p, --parseable       output machine-readable format
timf@x4150-sfb-19[1311] 
</pre>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by Tim Foster on 2009/12/17 13:53<br/>
          </div>
    <div class="xdocLastModification">       Last modified by Tim Foster on 2009/12/17 13:56
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group xen Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/Migration+dry%2Drun">Migration+dry&#45;run</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/OVFsupport">Basic Open Virtualization Format Support</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/UpdatedFeatures">Updated Features</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/demos">Demonstrations</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xvmscreencast">xVM Screencast</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/devdocs">Developer documentation</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/developers">Xen For OpenSolaris Developers</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/install%2Ddepedencies">xVM Dependencies on Installer/LiveCD layouts</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xVMTests">xVM Tests</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/docs">Documentation</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/2008_11_dom0">How to Set up OpenSolaris as a dom0</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/Bandwidth_VLAN_ID">Configuring VLAN and bandwidth limits for a VNIC</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/SolarisAsGuestHost">Known Issues With Running Solaris OS as a Host and Guest on Different Virtualization Platforms</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/changing%2Dboot%2Dflags">Changing domU boot flags</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/cloning%2Ddomains">Cloning ZFS&#45;based domains</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/configuring%2Ddom0">Configuring dom0</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/guest%2Dcompatibility">Guest types known to work and not work</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/linux%2Ddom0">How To Install an OpenSolaris domU on a Linux dom0</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/manpages">Official docs</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/opensolaris_domu">How to Set up OpenSolaris as a Paravirtual Guest</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/serial%2Dconsole">Enabling serial console for the hypervisor</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/setupvnc">VNC access to guest domains</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/virtinstall">Using virt&#45;install to Install a Domain</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/goals%2Dof%2Dthe%2Dproject">Goals of Project</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/help">Getting help</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/virtcfg+virtadm">virtcfg &amp; virtadm: making xVM guest administration easy</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm">virtcfg+virtadm</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xVM+Visual+Panel">xVM Visual Panel</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xdt+dtrace">xdt+dtrace</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xen_faq">FAQ</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/sunxvmfaq">Sun's Announcement on Sun xVM hypervisor</a></span></li>
</ul></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
