<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                    <title>xdt+dtrace (Community Group xen.xdt dtrace) - XWiki</title>
                <meta http-equiv="Content-Script-Type" content="text/javascript" />
                        <meta http-equiv="imagetoolbar" content="no"/>
                      <link rel="alternate" type="application/x-wiki" title="Edit" href="/bin/edit/Community+Group+xen/xdt+dtrace" />
                    <link rel="canonical" href="/bin/view/Community+Group+xen/xdt+dtrace" />
                            <meta name="document" content="Community Group xen.xdt dtrace"/>
    <meta name="wiki" content="xwiki"/>
    <meta name="space" content="Community Group xen"/>
    <meta name="page" content="xdt dtrace"/>
    <meta name="version" content="1.1"/>
    <meta name="restURL" content="/rest/wikis/xwiki/spaces/Community+Group+xen/pages/xdt+dtrace"/>
                <meta name="gwt:property" content="locale=en" />
                <meta name="revisit-after" content="7 days" />
<meta name="description" content="xdt+dtrace" />
<meta name="keywords" content="wiki " />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="author" content="pcotten" />
<meta http-equiv="reply-to" content="" />
<meta name="language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Wiki Feed RSS" href="/bin/view/Main/WebRss?xpage=rdf" />
<link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/bin/view/Blog/GlobalBlogRss?xpage=plain" />
<link rel="shortcut icon" href="/resources/icons/oso/icon.png">
                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
<link href="https://markebrooks.github.io/static/css/stylesheet.css" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/style.css?colorTheme=ColorThemes.Oso" rel="stylesheet" type="text/css" media="all" />
<link href="/bin/skin/skins/colibri/print.css" rel="stylesheet" type="text/css" media="print" />
        <!--[if IE]>
  <link href="/bin/skin/skins/colibri/ie%2Dall.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
  <link href="/bin/skin/skins/colibri/ie%2D6.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Settings?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/AnnotationCode/Style?language=en'/><link rel='stylesheet' type='text/css' href='/bin/ssx/XWiki/SharePage?language=en'/>
<link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/modalPopup.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/js/xwiki/widgets/jumpToPage.css?language=en'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/confirmationBox.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/resources/uicomponents/widgets/notification.css'/><link rel='stylesheet' type='text/css' href='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.css'/>

    
    <link href="/bin/skin/resources/js/xwiki/suggest/ajaxSuggest.css" rel="stylesheet" type="text/css" />
<link href="/bin/skin/resources/js/xwiki/lightbox/lightbox.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
  <link href="/bin/skin/resources/js/xwiki/lightbox/lightboxIE.css" rel="stylesheet" type="text/css" />
<![endif]-->












<script type="text/javascript" src="/resources/js/prototype/prototype.js"></script>
<script type="text/javascript" src="/bin/skin/resources/js/xwiki/xwiki.js"></script>
<script type="text/javascript">
// <![CDATA[
XWiki.webapppath = "";
XWiki.servletpath = "bin/";
XWiki.contextPath = "";
XWiki.mainWiki = "xwiki";
XWiki.currentWiki = "xwiki";
XWiki.currentSpace = "Community Group xen";
XWiki.currentPage = "xdt dtrace";
XWiki.editor = "";
XWiki.viewer = "";
XWiki.contextaction = "view";
XWiki.docisnew = false;
XWiki.docsyntax = "xwiki/2.0";
XWiki.blacklistedSpaces = [ "Import","Panels","Scheduler","Stats","XAppClasses","XAppSheets","XAppTemplates","XWiki","WatchCode","WatchSheets","XApp","WatchAdmin","Watch","ColorThemes","AnnotationCode" ];
XWiki.hasEdit = false;
XWiki.hasProgramming = false;
XWiki.hasBackupPackImportRights = false;
window.docviewurl = "/bin/view/Community+Group+xen/xdt+dtrace";
window.docediturl = "/bin/edit/Community+Group+xen/xdt+dtrace";
window.docsaveurl = "/bin/save/Community+Group+xen/xdt+dtrace";
window.docgeturl = "/bin/get/Community+Group+xen/xdt+dtrace";
// ]]>
</script>
<script type='text/javascript' src='/bin/skin/resources/js/scriptaculous/effects.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/modalPopup.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/js/xwiki/widgets/jumpToPage.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmationBox.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/confirmedAjaxRequest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/resources/uicomponents/widgets/notification.js' defer='defer'></script>
<script type='text/javascript' src='/resources/uicomponents/widgets/list/xlist.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/suggest/ajaxSuggest.js' defer='defer'></script>
<script type='text/javascript' src='/bin/skin/skins/colibri/resources/uicomponents/viewers/tags.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/scriptaculous/scriptaculous.js' defer='defer'></script>
<script type='text/javascript' src='/resources/js/xwiki/accordion/accordion.js' defer='defer'></script>

<script type='text/javascript' src='/bin/jsx/XWiki/WebDAV?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Settings?language=en' defer='defer'></script>
<script type='text/javascript' src='/bin/jsx/AnnotationCode/Script?language=en' defer='defer'></script>

<script type="text/javascript" src="/resources/js/xwiki/compatibility.js" defer="defer"></script>

  </head>
  <body id="body" class="wiki-xwiki space-Community_Group_xen viewbody hideright">
<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

  <div id="menuview">
    <div id="mainmenu" class="layoutsubsection actionmenu">
<strong id="xwikimenutitle" class="hidden">General Actions:</strong>
<div class="rightmenu">
      <div id="tmLogin" class="tmLogin topmenuentry ">
   <a class="tme" href="https://auth.opensolaris.org/login.action?targetUrl=http%3A%2F%2Fmarkebrooks.github.io%2Fbin%2Fview%2FCommunity%2BGroup%2Bxen%2Fxdt%2Bdtrace"><strong>Log-in</strong></a>
  </div>
  </div>
<div class="leftmenu">
  <div id="tmWiki" class="tmWiki topmenuentry hasIcon">
   <a class="tme" href="/bin/view/Main/"><strong>Wiki</strong></a>
  </div>
  <div id="tmSpace" class="tmSpace topmenuentry dropdownmenuentry  hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+xen/"><strong>Community Group xen</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
                <span class="submenuitem "><a href="/bin/view/Main/SpaceIndex?space=Community+Group+xen" id="tmSpaceDocumentIndex" class="tmSpaceDocumentIndex">Document Index</a></span>
    </span></div>

<div id="tmSubSites" class="tmSubSites topmenuentry dropdownmenuentry dropdownnolink hasIcon" onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Subsites</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem hasIcon"><a href="https://cr.opensolaris.org/" id="tmCR" class="tmCR">Code Reviews</a></span>
<span class="submenuitem hasIcon"><a href="http://repo.opensolaris.org/" id="tmRepo" class="tmRepo">SCM Management</a></span>
<span class="submenuitem hasIcon"><a href="http://pkg.opensolaris.org/" id="tmPkg" class="tmPkg">Package Search</a></span>
<span class="submenuitem hasIcon"><a href="http://bugs.opensolaris.org/" id="tmBugs" class="tmBugs">Bugster</a></span>
<span class="submenuitem hasIcon"><a href="http://defect.opensolaris.org/" id="tmDefect" class="tmDefect">Bugzilla</a></span>
<span class="submenuitem hasIcon"><a href="http://test.opensolaris.org/" id="tmTest" class="tmTest">Test Machines</a></span>
<span class="submenuitem hasIcon"><a href="http://planet.opensolaris.org/" id="tmPlanet" class="tmPlanet">Planet</a></span>
<span class="submenuitem hasIcon"><a href="http://mail.opensolaris.org/" id="tmMail" class="tmMail">Mailing Lists</a></span>
<span class="submenuitem hasIcon"><a href="http://poll.opensolaris.org/" id="tmPoll" class="tmPoll">Elections &amp; Polls</a></span>
<span class="submenuitem hasIcon"><a href="http://arc.opensolaris.org/" id="tmArc" class="tmArc">ARC Case Logs</a></span>
<span class="submenuitem hasIcon"><a href="http://jucr.opensolaris.org/" id="tmJucr" class="tmJucr">Source Juicer</a></span>
<span class="submenuitem hasIcon"><a href="http://pkgfactory.opensolaris.org/" id="tmPkgfactory" class="tmPkgfactory">Package Factory</a></span>
<span class="submenuitem hasIcon"><a href="http://auth.opensolaris.org/" id="tmAuth" class="tmAuth">Auth</a></span>
</span></div>

</div>
</div>

  </div>
 <div id="header" class="layoutsection">
<div class="minwidthb"></div>

  <div id="header">
    <table style="width: 100%;">
        <tr>
            <td style="width: 1%;">
                 <a href="https://markebrooks.github.io/bin/view/Main/"><div id="logo"></div></a>  
            </td>
            <td id="logo-text" style="width: 1%;">
                Solaris
            </td>         
            <td style="width: 98%;">
                <table id="loading-indicator">
                    <tr>
                        <td><img src="https://markebrooks.github.io:443/static/images/busy.gif"
                                 alt="Loading" title="Loading"/></td>
                        <td>Loading...</td>
                    </tr>
                </table>
            </td>
            <td style="width: 1%;">
                <table id="iconbar">
                    <tr>
                    <td><a id="collectives-icon" href="https://markebrooks.github.io/bin/view/Main/collectives">
                        Collectives</a></td>
                    <td><a id="discussions-icon" href="https://markebrooks.github.io/bin/view/Main/discussions">
                            Discussions</a></td>
                    <td><a id="documentation-icon" href="https://markebrooks.github.io/bin/view/Main/documentation">
                            Documentation</a></td>
                    <td><a id="download-icon" href="https://markebrooks.github.io/bin/view/Main/downloads">
                            Download</a></td>
                    <td><a id="source-browser-icon" href="http://src.opensolaris.org/source">
                            Source Browser</a></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

 </div> 
  <div id="globallinks">
    <form action="/bin/view/Main/Search">
      <div class="globalsearch">
        <label class="hidden" for="headerglobalsearchinput">Search</label><input class="globalsearchinput withTip" id="headerglobalsearchinput" type="text" name="text" value="search..." size="15"/><input class="button" type="image" value="Go" alt="Go" src="/resources/icons/xwiki/search.png"/>
      </div>
    </form>
  </div> <div style="float:left;">

                

   <div id="hierarchy">
                  <span class='current'>xdt+dtrace</span>
          </div>

</div>
  <span class="glink" id="headerlanguages" style="float:right">
        <a href="/bin/view/Community+Group+xen/xdt+dtrace?language=en" class="language-default language-current">en</a>
    </span>


<div class="contenthideright" id="contentcontainer">
<div id="contentcontainerinner">
<div class="leftsidecolumns">
  <div id="contentcolumn"> 
          <div class="main layoutsubsection">
      <div id="contentmenu" class="actionmenu">
    <strong id="xwikicontentmenutitle" class="hidden">Page Actions:</strong>
<div class="rightmenu">
</div>
<div class="leftmenu">
  <div id="tmExport" class="tmExport topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>Export</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/export/Community+Group+xen/xdt+dtrace?format=pdf&amp;language=en" id="tmExportPdf" class="tmExportPdf">Export as PDF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+xen/xdt+dtrace?format=rtf&amp;language=en" id="tmExportRtf" class="tmExportRtf">Export as RTF</a></span>
  <span class="submenuitem "><a href="/bin/export/Community+Group+xen/xdt+dtrace?format=html&amp;language=en" id="tmExportHtml" class="tmExportHtml">Export as HTML</a></span>
    </span></div>

<div id="tmShow" class="tmShow topmenuentry dropdownmenuentry  " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme" href="/bin/view/Community+Group+xen/xdt+dtrace?viewer=code&amp;language=en"><strong>View</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/xdt+dtrace?viewer=comments&amp;language=en" id="tmViewComments" class="tmViewComments">Comments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/xdt+dtrace?viewer=attachments&amp;language=en" id="tmViewAttachments" class="tmViewAttachments">Attachments</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/xdt+dtrace?viewer=history&amp;language=en" id="tmViewHistory" class="tmViewHistory">History</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/xdt+dtrace?viewer=information&amp;language=en" id="tmViewInformation" class="tmViewInformation">Information</a></span>
<span class="submenuitem "><a href="/bin/view/Community+Group+xen/xdt+dtrace?viewer=code&amp;language=en" id="tmViewSource" class="tmViewSource">View Source</a></span>
</span></div>

  <div id="tmMoreActions" class="tmMoreActions topmenuentry dropdownmenuentry dropdownnolink " onmouseover="showsubmenu(this);" onmouseout="hidesubmenu(this);">
<span class="tme-extensible">
   <a class="tme"><strong>More actions</strong></a>
    <span class="hidden menucolon">: </span>
</span><span class="submenu hidden">
  <span class="submenuitem "><a href="/bin/view/Community+Group+xen/xdt+dtrace?xpage=print&amp;language=en" id="tmPrintPreview" class="tmPrintPreview">Print preview</a></span>
          </span></div>
</div>

    </div>
    <div id="mainContentArea">
      








    
<div id="document-title"><h1>xdt+dtrace</h1></div>





              <div id="document-info">
    <div>
          </div>
    <div class="clearfloats"></div>
  </div>

<div id="xwikicontent">
<h3 id="HObservabilitySupportwithxdtProbesandDTraceScripts"><span>Observability Support with xdt Probes and DTrace Scripts</span></h3><p>xdt is an interface for DTrace to XenTrace probes <br/>inside the Xen hypervisor. While xdt functionality is <br/>limited (it provides time-delayed samples of XenTrace <br/>buffers with no additional context), it can still be used &nbsp;<br/>to analyze performance issues.</p><p>xdt works by enabling tracing inside the hypervisor. <br/>This will collect tracing data for a number of trace <br/>points inside Xen. This data is collected in buffers, <br/>one for each physical CPU. Dom0 can map these trace <br/>buffers and collect the data, and that is what xdt <br/>does. This updated version of xdt supports all <br/>tracepoints inside Xen (previously a subset was supported).&nbsp;</p><p>DTrace scripts that combine data from the xdt provider <br/>as well as data from the backend drivers in dom0 are <br/>available to obtain performance data.</p><p>At specific intervals, xdt (through a cyclic routine) <br/>walks through the trace buffers and feeds the data to <br/>DTrace by calling dtrace_probe(). This means that <br/>all probes fire from this periodic dom0 kernel context. <br/>The only consistent context that the probes can rely <br/>on consists of the arguments to the probe, and a <br/>context that is maintained by xdt, and is exported <br/>through global variables in xdt (safe, because all <br/>probes are executed in order and on one CPU at a <br/>time only). This context can be accessed from <br/>DTrace scripts by accessing these kernel variables:</p><ul><li>`xdt_curpcpu <del>&nbsp;the current physical CPU (uint_t)</del></li><li>`xdt_curdom <del>&nbsp;the current domain id (uint_t)</del></li><li>`xdt_curvcpu <del>&nbsp;the current virtual CPU (uint_t)</del></li><li>`xdt_timestamp <del>&nbsp;the current Xen system time in nanoseconds (uint64_t)</del></li></ul><p>This global context is only available in xdt probes, not <br/>in any other ones, including BEGIN and END. The sched <br/>probes may have explicit domain and vcpu arguments, as the <br/>current domain/vcpu can be changed by the operation that <br/>they report on. Also note that xdt_timestamp reflects the <br/>timestamp that came with the current trace event. It is a <br/>time snapshot and will not change during the execution <br/>of the probe. It can only be used to measure time <br/>between events, not changing time during events.</p><p>The following probe classes are available:</p><ul><li>sched <del>&nbsp;scheduling events</del></li><li>pv <del>&nbsp;PV domain events</del></li><li>hvm <del>&nbsp;HVM domain events</del></li><li>mem <del>&nbsp;grant events</del></li><li>shadow <del>&nbsp;shadow page table (typically HVM domain) events</del></li><li>pm <del>&nbsp;power management events</del></li><li>trace <del>&nbsp;tracing meta events</del></li></ul><p>Below is a list of all probes, with short descriptions.</p><pre>
xdt:sched::block
  A vcpu blocks in the Xen scheduler.
  arg0 = domain
  arg1 = vcpu

xdt:sched::idle-off-cpu
  The idle domain is being replaced by a newly scheduled domain/vcpu.
  arg0 = domain (will be 0x7fff, the idle domain)
  arg1 = vcpu
  arg2 = runtime for the idle domain in nanoseconds (e.g. time the physical cPU was idle)

xdt:sched::off-cpu
  A vcpu is being scheduled off of a cpu.
  arg0 = domain
  arg1 = vcpu
  arg2 = time the vcpu spent running on this cpu (nanoseconds)

xdt:sched::idle-on-cpu
  The idle domain is being scheduled on a cpu.
  arg0 = domain (will be 0x7fff, the idle domain)
  arg1 = vcpu
  arg2 = time spent waiting to be scheduled (not useful for this case)
  arg3 = allocated time slice (nanoseconds)

xdt:sched::on-cpu
  A vcpu is being scheduled on a cpu.
  arg0 = domain
  arg1 = vcpu
  arg2 = time spent waiting to be scheduled (nanoseconds)
  arg3 = allocated time slice (nanoseconds)

xdt:sched::shutdown-crash
  A domain is being shut down because of a crash.
  arg0 = domain
  arg1 = the initiating vcpu

xdt:sched::shutdown-poweroff
  A domain is being shut down becuase of a poweroff.
  arg0 = domain
  arg1 = the initiating vcpu

xdt:sched::shutdown-reboot
  A domain is being shut down becuase of a reboot.
  arg0 = domain
  arg1 = the initiating vcpu

xdt:sched::shutdown-suspend
  A domain is being shut down becuase of a suspend.
  arg0 = domain
  arg1 = the initiating vcpu

xdt:sched::sleep
  A vcpu sleeps.
  arg0 = domain
  arg1 = vcpu

xdt:sched::wake
  A vcpu is woken up.
  arg0 = domain
  arg1 = vcpu

xdt:sched::yield
  A vcpu yields.
  arg0 = domain
  arg1 = vcpu

xdt:sched::add
  A vcpu is added to a guest
  arg0 = domain
  arg1 = vcpu

xdt:sched::adjdom
  Scheduling parameters for a domain were adjusted.
  arg0 = domain

xdt:pv::dt-mapping-fault
  A PV domain faulted in a descriptor table mapping.
  arg0 = instruction pointer
  arg1 = offset in table

xdt:pv::emulate-priv-op
  Xen emulated a privileged operation for a PV domain that trapped.
  arg0 = instruction pointer

xdt:pv::forced-invalid-op
  An invalid op (ud2 insn) was inserted in a PV domain do emulate an op (cpuid).
  arg0 = instruction pointer

xdt:pv::hypercall
  A hypercall is done in to Xen from a PV domain.
  arg0 = hypercall number (%eax register)

xdt:pv::math-state-restore
  Xen restored FPU state after a DNA trap

xdt:pv::page-fault
  Page fault in a PV domain.
  arg0 = instruction pointer
  arg1 = faulting virtual address
  arg2 = error code

xdt:pv::paging-fixup
  A page fault was fixed up by Xen (it occurred because of Xen bookkeeping only)
  arg0 = instruction pointer
  arg1 = faulting virtual address

xdt:pv::pte-write-emul
  An emulated write to a PTE (PV writeable page tables)
  arg0 = page table entry (PTE)
  arg1 = virtual address
  arg2 = instruction pointer

xdt:pv::trap
  A trap occurred in a PV domain.
  arg0 = instruction pointer
  arg1 = trap number
  arg2 = 1 if the error code is valid, 0 otherwise
  arg3 = error code

xdt:hvm::vmexit
  An event occurred that made a HVM domain trap in to the hypervisor HVM
  code. The vmentry trace point (see below) fires when the hypervisor
  resumes executing the HVM guest code. All other hvm tracepoints happen
  between vmexit and vmentry and provide further information on the time
  that a VCPU for a HVM domain spends inside Xen.
  arg0 = exit reason (different for AMD and Intel)
  arg1 = instruction pointer

xdt:hvm::vmentry
  Resume execution of a HVM domain VCPU after a vmexit has been handled.
  No arguments.

xdt:hvm::vmmcall
  Explicit entry in to the hypervisor from a HVM domain
  arg0 = call number (%eax)

xdt:hvm::clts
  clts (clear task switch bit) instruction executed in a HVM domain.
  No arguments.

xdt:hvm::cpuid
  cpuid instruction executed in a HVM domain.
  arg0 = %eax (input)
  arg1 = %eax (output)
  arg2 = %ebx
  arg3 = %ecx
  arg4 = %edx

xdt:hvm::cr-read
  Control register read in a HVM domain.
  arg0 = control reg #
  arg1 = value

xdt:hvm::cr-write
  Control register write in a HVM domain.
  arg0 = control reg #
  arg1 = value

xdt:hvm::exception-inject
  Inject an exception in to a HVM domain.
  arg0 = trap number
  arg1 = error code

xdt:hvm::virq-inject
  Inject an interrupt in to a HVM domain.
  arg0 = vector

xdt:hvm::hlt
  hlt instruction executed in a HVM domain
  arg0 = 1 if VCPU is runnable, 0 if not

xdt:hvm::intr
  vmexit because of a physical interrupt while running a HVM domain.
  No arguments.

xdt:hvm::intr-window
  An interrupt can't be delivered to a HVM domain VCPU yet. This vmexit
  happens if a vmentry is done with an injected interrupt, but for
  some reason, it can't be delivered (interrupts disabled, SS segment reg
  operation).
  arg0 = vector
  arg1 = source (0 = none, 1 = PIC, 2 = LAPIC, 3 = NMI)
  arg2 = info (-1 if unavailable; different for AMD and Intel)

xdt:hvm::nmi
  An NMI occurred while executing a HVM domain.
  No arguments.

xdt:hvm::smi
  An SMI occurred while executing a HVM domain. AMD only.
  No arguments.

xdt:hvm::mce
  MCE in HVM domain.
  No arguments

xdt:hvm::lmsw
  lmsw instruction executed in a HVM domain
  arg0 = value
  
xdt:hvm::mmio-read
xdt:hvm::mmio-write
xdt:hvm::pio-read
xdt:hvm::pio-write
  An PIO instruction was executed, or a memory-mapped I/O region
  was accessed, from a HVM domain.
  arg0 = address (port or physical)
  arg1 = count (for REP instruction prefix)
  arg2 = access size (1, 2, 4, 8)

xdt:hvm::msr-read
  An MSR was read in a HVM domain.
  arg0 = MSR
  arg1 = value

xdt:hvm::msr-write
  An MSR was written in a HVM domain.
  arg0 = MSR
  arg1 = value

xdt:hvm::invlpg
  The invlpg or invlpga instruction was executed in a HVM domain.
  arg0 = 1 if invplga, 0 if invlpg
  arg1 = virtual address

xdt:hvm::pagefault-inject
  A page fault is injected in to a HVM domain.
  arg0 = error code
  arg1 = faulting guest VA

xdt:hvm::pagefault-xen
  A page fault was fixed by Xen, and not injected in to the HVM guest, because
  it was an artifact of the shadow page table code.
  arg0 = error code
  arg1 = faulting guest VA

xdt:mem::page-grant-map
  A domain mapped a grant ref.
  arg0 = domain (owner of the grant)

xdt:mem::page-grant-transfer
  A domain transferred a grant ref.
  arg0 = domain (target domain)

xdt:mem::page-grant-unmap
  A domain unmapped a grant ref.
  arg0 = domain (owner of the grant)

xdt:shadow::domf-dying
  Fatal error while handling a mapping in the shadow page tables.
  arg0 = virtual address

xdt:shadow::emulate
  A PTE write was handled in the shadow page tables by emulating it.
  arg0 = PTE
  arg1 = written value
  arg2 = guest VA
  arg3 = flags

xdt:shadow::emulate-unshadow-evtinj
  The shadow page table code detected a page fault during exception/interrupt
  injection.
  arg0 = guest frame number
  arg1 = guest VA

xdt:shadow::emulate-unshadow-unhandled
  The shadow page table code failed to emulate a faulting instruction.
  arg0 = guest frame number
  arg1 = guest VA

xdt:shadow::emulate-unshadow-user
  The shadow page table code detected a user mode write to a page table.
  It assumes that this means the page is no longer a page table page.
  arg0 = guest frame number
  arg1 = guest VA

xdt:shadow::false-fast-path
  The shadow page table code detected that a page fault was fixed by another
  VCPU (this should be a rare condition).
  arg0 = guest VA

xdt:shadow::fast-mmio
  The shadow page table code handled a MMIO access through its fast path.
  arg0 = guest VA

xdt:shadow::fast-propagate
  The shadow page table code propagates a not-present page fault to the guest.
  arg0 = guest VA
  
xdt:shadow::fault-not-shadow
  Page fault was not a shadow page table fault and is bounced back to the
  guest.
  arg0 = PTE
  arg1 = guest VA
  arg2 = flags

xdt:shadow::fixup
  A page fault was fixed up in the shadow page table code, because it was
  cause by the shadow PT mechanism itself. The guest will not see it.
  arg0 = PTE
  arg1 = guest VA
  arg2 = flags

xdt:shadow::mmio
  A page fault was determined to be an MMIO access, and will be handled
  as such.
  arg0 = guest VA

xdt:shadow::prealloc-unpin
  Unpin pages as part of a shadow page table pre-allocation.
  arg0 = shadow frame number
  
xdt:shadow::resync-full
  Re-sync all entries on an out-of-sync shadow page table page (was allowed
  to go out of sync as an optimization)
  arg0 = guest frame number

xdt:shadow::resync-only
  Resync only one out-of-sync entry in the shadow page tables.
  arg0 = guest frame number

xdt:shadow::wrmap-bf
  Brute force search of shadow page tables to remove write access.
  arg0 = guest frame number

xdt:pm::freq-change
  Power management frequency change
  arg0 = old frequency
  arg1 = new frequency

xdt:pm::idle-entry
  Power management: entering idle state.
  arg0 = C-state
  arg1 = time

xdt:pm::idle-exit
  Power management: exiting idle state
  arg0 = C-state
  arg1 = time

xdt:trace::records-lost
  Trace records were lost inside Xen because of a buffer overflow
  arg0 = current domain
  arg1 = crrent vcpu
  arg2 = number of lost records
  arg3 = Xen system timestamp at time of first lost record
</pre>
</div>


    <div class="clearfloats"></div>
  </div>      <div id="xdocFooter">
  
                

       <div class="doc-tags" id="xdocTags">
        Tags:
        </div>
  
  <div id="xdocAuthors">
    <div class="xdocCreation">       Created by pcotten on 2010/04/08 20:34<br/>
          </div>
    <div class="xdocLastModification">       Last modified by pcotten on 2010/04/08 20:34
    </div>
  </div>
</div>
<div id="xwikidata" class="layoutsubsection">
        </div>  
    </div>      </div><div id="leftPanels" class="panels left">
                  <div class="panel expanded OSNav">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSNav');">Collectives</h1>
<div class="xwikipanelcontents">
<div id="xwikinavcontainer">
<span class="wikilink"><a href="/bin/view/Main/communities">Community Groups</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/projects">Projects</a></span><br/>
<span class="wikilink"><a href="/bin/view/Main/usergroups">User Groups</a></span>
</div><p/>
<script type="text/javascript">
document.observe('xwiki:dom:loaded', function() {
var obj = {div:'xwikinav',no:$count,height:250};
var acc = createAccordion(obj);
});
</script>
</div>
</div>
                        <div class="panel expanded OSDocs">
<h1 class="xwikipaneltitle" onclick="XWiki.togglePanelVisibility(this.parentNode, 'XWiki.XWikiGuest_Panels.OSDocs');">Community Group xen Pages</h1>
<div class="xwikipanelcontents">
<ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/Migration+dry%2Drun">Migration+dry&#45;run</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/OVFsupport">Basic Open Virtualization Format Support</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/UpdatedFeatures">Updated Features</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/demos">Demonstrations</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xvmscreencast">xVM Screencast</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/devdocs">Developer documentation</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/developers">Xen For OpenSolaris Developers</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/install%2Ddepedencies">xVM Dependencies on Installer/LiveCD layouts</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xVMTests">xVM Tests</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/docs">Documentation</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/2008_11_dom0">How to Set up OpenSolaris as a dom0</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/Bandwidth_VLAN_ID">Configuring VLAN and bandwidth limits for a VNIC</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/SolarisAsGuestHost">Known Issues With Running Solaris OS as a Host and Guest on Different Virtualization Platforms</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/changing%2Dboot%2Dflags">Changing domU boot flags</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/cloning%2Ddomains">Cloning ZFS&#45;based domains</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/configuring%2Ddom0">Configuring dom0</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/guest%2Dcompatibility">Guest types known to work and not work</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/linux%2Ddom0">How To Install an OpenSolaris domU on a Linux dom0</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/manpages">Official docs</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/opensolaris_domu">How to Set up OpenSolaris as a Paravirtual Guest</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/serial%2Dconsole">Enabling serial console for the hypervisor</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/setupvnc">VNC access to guest domains</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/virtinstall">Using virt&#45;install to Install a Domain</a></span></li>
</ul></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/goals%2Dof%2Dthe%2Dproject">Goals of Project</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/help">Getting help</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/virtcfg+virtadm">virtcfg &amp; virtadm: making xVM guest administration easy</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/virtcfg%2Bvirtadm">virtcfg+virtadm</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xVM+Visual+Panel">xVM Visual Panel</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xdt+dtrace">xdt+dtrace</a></span></li>
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/xen_faq">FAQ</a></span><ul class="star">
<li><span class="wikilink"><a href="/bin/view/Community+Group+xen/sunxvmfaq">Sun's Announcement on Sun xVM hypervisor</a></span></li>
</ul></li>
</ul>
                              </div>
</div>
      </div>

  </div>
<div class="clearfloats"></div>
  </div></div><div id="footerglobal" class="layoutsection">
<div class="minwidth"></div>
<hr/>
        <div id="xwikiplatformversion">XWiki Enterprise 2.7.1.34853 - <a onclick="openURL('http://enterprise.xwiki.org/xwiki/bin/view/Main/Documentation', '_blank'); return false;" href="http://www.xwiki.org/xwiki/bin/view/Main/Documentation">Documentation</a></div>
<br/>
  
      <div id="footer">
    <p>
                <a href="https://markebrooks.github.io/bin/view/Main/tou/">Terms of Use</a>
                |
                <a href="http://www.oracle.com/html/privacy.html">Privacy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/trademark/">Trademarks</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/copyrights/">Copyright Policy</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site_guidelines/">Site Guidelines</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/site-map/">Site Map</a>
                |
                <a href="https://markebrooks.github.io/bin/view/Main/help/">Help</a>
                <br/>Your use of this web site or any of its content or software indicates your agreement to be bound by these Terms of Use.<br/>
                &copy; 2012, Oracle Corporation and/or its affiliates.<br/><img src="https://markebrooks.github.io:443/static/images/logo_oracle_footer.gif" alt="Oracle Logo"/>
            </p>
        </div>

  
</div>

</div></div></body>
</html>
